!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=400)}([function(e,t,n){"use strict";e.exports=n(537)},function(e,t,n){"use strict";var i=n(21);n.d(t,"a",function(){return i});n(199)},function(e,t,n){"use strict";n.d(t,"z",function(){return s}),n.d(t,"v",function(){return l}),n.d(t,"t",function(){return c}),n.d(t,"s",function(){return u}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return d}),n.d(t,"r",function(){return p}),n.d(t,"p",function(){return f}),n.d(t,"o",function(){return m}),n.d(t,"q",function(){return v}),n.d(t,"u",function(){return g}),n.d(t,"n",function(){return y}),n.d(t,"l",function(){return b}),n.d(t,"j",function(){return x}),n.d(t,"i",function(){return w}),n.d(t,"k",function(){return A}),n.d(t,"m",function(){return M}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return C}),n.d(t,"h",function(){return S}),n.d(t,"w",function(){return T}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return P}),n.d(t,"G",function(){return L}),n.d(t,"x",function(){return k}),n.d(t,"y",function(){return I}),n.d(t,"c",function(){return O}),n.d(t,"C",function(){return D}),n.d(t,"D",function(){return R}),n.d(t,"A",function(){return N}),n.d(t,"B",function(){return V}),n.d(t,"K",function(){return B}),n.d(t,"E",function(){return F}),n.d(t,"P",function(){return z}),n.d(t,"O",function(){return U}),n.d(t,"I",function(){return j}),n.d(t,"H",function(){return H}),n.d(t,"F",function(){return G}),n.d(t,"L",function(){return W}),n.d(t,"J",function(){return Q}),n.d(t,"M",function(){return Y}),n.d(t,"N",function(){return X});n(24),n(291),n(68);var i,r,o=n(28),a=n.n(o),s=39,l=190,c=59,u=71,h=49,d=59,p=439,f=620,m=1024,v=1440,g=1.2,y=1.2,b=200,x=160,w=125,A=100,M=80,E=110,C=90,S=80,T="START_POSITION",_=["canvas","debug","dollhouse","features","floorplan","floors","floorplanEditor","fullscreen","help","helpStart","highlights","info","inside","minimap","minimap3d","minimapFloorplan","modes","narrator","outdoor","powered","share","splash","staging","pins","ui"],P={INSIDE:"CAMERA_MODES/INSIDE",DOLLHOUSE:"CAMERA_MODES/DOLLHOUSE",FLOORPLAN:"CAMERA_MODES/FLOORPLAN",ATTRACTION:"CAMERA_MODES/ATTRACTION",OUTDOOR:"CAMERA_MODES/OUTDOOR"},L={INSIDE:[P.INSIDE,"inside","panorama","panoramas","walkthrough","first",0],DOLLHOUSE:[P.DOLLHOUSE,"3d","orbit","dollhouse",1],FLOORPLAN:[P.FLOORPLAN,"floor","floorplan","plan",2],ATTRACTION:[P.ATTRACTION,"attraction",3],OUTDOOR:[P.OUTDOOR,"outdoor",4]},k={NONE:"TRANSITION_STAGES/NONE",ENTER:"TRANSITION_STAGES/ENTER",EXIT:"TRANSITION_STAGES/EXIT",TRANSITION:"TRANSITION_STAGES/TRANSITION"},I={FLY:"TRANSITION_STYLES/FLY",FADE:"TRANSITION_STYLES/FADE",INSTANT:"TRANSITION_STYLES/INSTANT",FLY_FADE:"TRANSITION_STYLES/FLY_FADE"},O=.625,D={GENERAL:"TUTORIAL/GENERAL",OUTDOOR:"TUTORIAL/OUTDOOR",STAGING:"TUTORIAL/STAGING",HIGHLIGHTS:"TUTORIAL/HIGHLIGHTS",HELP:"TUTORIAL/HELP"},R=[D.GENERAL,D.OUTDOOR,D.STAGING,D.HIGHLIGHTS],N=(i={},a()(i,D.GENERAL,2),a()(i,D.OUTDOOR,2),a()(i,D.STAGING,2),a()(i,D.HIGHLIGHTS,2),a()(i,D.HELP,5),i),V=(r={},a()(r,D.GENERAL,0),a()(r,D.OUTDOOR,0),a()(r,D.STAGING,0),a()(r,D.HIGHLIGHTS,0),r),B={family:"'Montserrat', 'Helvetica', 'Arial', sans-serif",small:"13px",size:"14px",large:"15px",compact:"1.4",height:"1.5",expanded:"1.6",bold:"600",semibold:"600",medium:"500",regular:"400"},F=300,z=.3,U=z+"s",j={openSlide:"cubic-bezier(0.075, 0.82, 0.165, 1)",closeSlide:"cubic-bezier(0.645, 0.045, 0.355, 1)",showPopup:"cubic-bezier(0.175, 0.885, 0.32, 1.2)"},H={base:"#000000",text:"#222222",textLight:"#445555",baseDull:"#798A8E",scrollBar:"#B5BABE",highlight:"#00CCFF",highlightDark:"hsl(192, 100%, 40%)",highlightDull:"#F2FCFF",light:"#FFFFFF",lightDull:"rgba(255, 255, 255, 0.6)",dull:"#F4F5F6",borders:"rgba(0, 0, 0, 0.05)",underlay:"rgba(".concat("0, 0, 0",", 0.3)"),underlayDark:"rgba(".concat("0, 0, 0",", 0.71)"),underlayLight:"rgba(".concat("0, 0, 0",", 0.3)"),underlayCompound:"rgba(".concat("0, 0, 0",", 0.8)"),underlayInvisible:"rgba(".concat("0, 0, 0",", 0.0)")},G={block:"3px"},W={background:"rgba(255,255,255,0.9)",inactive:"\n    opacity: 0.3;\n    pointer-events: none;\n    * {\n      pointer-events: none !important;\n    }\n  "},Q={opacity:0},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n){var i=parseInt(n[1],16),r=parseInt(n[2],16),o=parseInt(n[3],16);return"rgba(".concat(i,",").concat(r,",").concat(o,", ").concat(t,")")}return"rgba(0, 0, 0, ".concat(t,")")},X={font:B,animationTimeMS:F,transition:U,easing:j,color:H,br:G.block,help:W,rgba:Y}},function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(15)),o=n(0),a=i(n(570)),s=n(99),l=n(329),c=n(265),u=a,h=function(e){return"theme"!==e&&"innerRef"!==e},d=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?u:h};t.default=function e(t,n){var i,a,u;void 0!==n&&(i=n.label,u=n.target,a=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var h=t.__emotion_real===t,p=h&&t.__emotion_base||t;"function"!=typeof a&&h&&(a=t.__emotion_forwardProp);var f=a||d(p),m=!f("as");return function(){var v=arguments,g=h&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&g.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)g.push.apply(g,v);else{g.push(v[0][0]);for(var y=v.length,b=1;b<y;b++)g.push(v[b],v[0][b])}var x=s.withEmotionCache(function(e,t,n){return o.createElement(s.ThemeContext.Consumer,null,function(i){var r=m&&e.as||p,s="",h=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=i}"string"==typeof e.className&&(s+=l.getRegisteredStyles(t.registered,h,e.className));var b=c.serializeStyles(g.concat(h),t.registered,v);l.insertStyles(t,b,"string"==typeof r),s+=t.key+"-"+b.name,void 0!==u&&(s+=" "+u);var x=m&&void 0===a?d(r):f,w={};for(var A in e)m&&"as"===A||x(A)&&(w[A]=e[A]);return w.className=s,w.ref=n||e.innerRef,o.createElement(r,w)})});return x.displayName=void 0!==i?i:"Styled("+("string"==typeof p?p:p.displayName||p.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=p,x.__emotion_styles=g,x.__emotion_forwardProp=a,Object.defineProperty(x,"toString",{value:function(){return"."+u}}),x.withComponent=function(t,i){return e(t,void 0!==i?r({},n||{},i):n).apply(void 0,g)},x}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t,n){var i=n(28);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var i=n(20),r=n(65).f,o=n(49),a=n(59),s=n(137),l=n(182),c=n(138);e.exports=function(e,t){var n,u,h,d,p,f=e.target,m=e.global,v=e.stat;if(n=m?i:v?i[f]||s(f,{}):(i[f]||{}).prototype)for(u in t){if(d=t[u],h=e.noTargetGet?(p=r(n,u))&&p.value:n[u],!c(m?u:f+(v?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),a(n,u,d,e)}}},function(e,t,n){var i=n(77),r=n(8);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){var i=n(542);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0;var r=i(n(544));t.Provider=r.default;var o=i(n(318));t.connectAdvanced=o.default;var a=n(197);t.ReactReduxContext=a.ReactReduxContext;var s=i(n(551));t.connect=s.default;var l=n(561);t.useDispatch=l.useDispatch;var c=n(562);t.useSelector=c.useSelector;var u=n(324);t.useStore=u.useStore;var h=n(317),d=n(563);t.batch=d.unstable_batchedUpdates;var p=i(n(320));t.shallowEqual=p.default,(0,h.setBatch)(d.unstable_batchedUpdates)},function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return m});n(88),n(194),n(109),n(23),n(115);var i=n(1);function r(e){return e*e*(3-2*e)}function o(e){for(;e>180;)e-=360;for(;e<-180;)e+=360;return e}function a(e,t,n,i,r){return n+((e-t)*i+2*-n*Math.sqrt(i))*r}function s(e,t,n){return Math.min(Math.max(e,t),n)}function l(e,t,n){return e*(1-n)+t*n}var c=Math.PI/180,u=180/Math.PI;function h(e,t){var n=c*t.x,r=c*t.y,o=Math.sin(n),a=Math.cos(n),s=Math.sin(r),l=Math.cos(r),u=new i.a.Vector3;return Math.abs(t.y-90)>.1?u.set(0,1,0):t.y<0?u.set(0,0,1):u.set(0,0,-1),e[2].set(o*l,s,a*l).normalize(),e[0].crossVectors(new i.a.Vector3(0,1,0),e[2]).normalize(),e[1].crossVectors(e[2],e[0]),e}function d(e){var t=new i.a.Vector2,n=e.x,r=e.y,o=e.z;return t.x=u*Math.atan2(n,o),t.y=u*Math.atan2(r,Math.sqrt(n*n+o*o)),t}function p(e){return 0==(e&e-1)}function f(e){return p(e)?e:Math.pow(2,e.toString(2).length)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new i.a.Vector3,n=Math.abs(e.x),r=Math.abs(e.y),o=Math.abs(e.z);return t.x=Math.sign(e.x)*Number(n>r&&n>o),t.y=Math.sign(e.y)*Number(r>n&&r>o),t.z=Math.sign(e.z)*Number(o>n&&o>r),t.x=t.x||Number(t.x+t.y+t.z===0),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n(553))&&"object"==typeof i&&"default"in i?i.default:i,o=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e,t){return function(){return t(e.apply(this,arguments))}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.createStore=function e(t,n,i){var o;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var l=t,c=n,u=[],h=u,d=!1;function p(){h===u&&(h=u.slice())}function f(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=h.indexOf(e);h.splice(n,1)}}}function v(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,c=l(c,e)}finally{d=!1}for(var t=u=h,n=0;n<t.length;n++)(0,t[n])();return e}return v({type:a.INIT}),(o={dispatch:v,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,v({type:a.REPLACE})}})[r]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[r]=function(){return this},e},o},t.combineReducers=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];"function"==typeof e[r]&&(n[r]=e[r])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var i=!1,r={},a=0;a<s.length;a++){var c=s[a],u=n[c],h=e[c],d=u(h,t);if(void 0===d){var p=l(c,t);throw new Error(p)}r[c]=d,i=i||d!==h}return i?r:e}},t.bindActionCreators=function(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var o=n[r],a=e[o];"function"==typeof a&&(i[o]=c(a,t))}return i},t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},r={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map(function(e){return e(r)});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){u(e,t,n[t])})}return e}({},n,{dispatch:i=h.apply(void 0,o)(n.dispatch)})}}},t.compose=h,t.__DO_NOT_USE__ActionTypes=a},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n(68),n(97),n(140);t.a=function(e){var t=e.split("/").pop();return t&&t.replace(".js","").replace(".tsx","")}},function(e,t,n){"use strict";n(24);var i=n(0),r=n.n(i),o=n(12);t.a=Object(o.connect)(function(e){return{ENV:e.app.ENV}})(function(e){var t=e.children,n=e.size,i=e.viewbox,o=void 0===i?31:i,a=e.stroke,s=e.ENV,l=n||(s.browser.mobile?35:31),c=a||o/l*(s.browser.mobile?1.6:1.8);return r.a.createElement("svg",{width:l,height:l,viewBox:"0 0 ".concat(o," ").concat(o),strokeWidth:c,fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},t)})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";n(23),n(45);var i=n(6),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(11),f=n.n(p),m=n(0),v=n.n(m),g=n(14),y=n(12),b=n(93),x=(n(24),n(34),n(62),n(40),n(139),n(44),n(125),n(154),n(37),n(172),n(68),n(50),n(152),n(97),n(140),n(36),n(51),n(41)),w=n.n(x),A=n(77),M=n.n(A),E=n(33),C=n.n(E),S=n(145),T=n(134),_=n(13),P=n(1),L=n(2),k=function(){function e(t){return a()(this,e),this.tour=t.tour,this.contentPathPrefix=t.contentPathPrefix,this.tourPath="".concat(this.contentPathPrefix).concat(this.tour,"/"),this.isEdge=Boolean(t.browser.msedge),this.place=this.tourPath,this.init()}return l()(e,[{key:"init",value:function(){var e=this,t=function(t){return e.awaitParse(t).then(function(t){return e.getAdapted(t)}).catch(function(){throw console.warn("Cannot parse tour data"),new Error("Exception occurs while parsing of tour data")})},n=function(t){return e.place=e.tourPath,e.awaitParse(t).then(function(t){return e.getAdapted(t)})};return this.awaitDownload(this.place,!0).then(t).catch(function(){return e.awaitDownload(e.place,!1).then(t).catch(function(){return e.awaitDownload(e.tourPath,!0).then(n).catch(function(){return e.awaitDownload(e.tourPath,!1).then(n)})})}).catch(function(){throw new Error("Unable to load tour files")})}},{key:"awaitParse",value:function(e){var t=this,n={};return Promise.all(Object.entries(e).map(function(e){var i=C()(e,2),r=i[0];return i[1].text().then(function(e){if(t.contentPathPrefix){var i=t.place.split("/"),o=i.slice(0,i.length-2).join("/")+"/$1";e=e.replace(/https?:\/\/s3.amazonaws.com\/geocv-models\/.[^\/]*\/(.[^\/]*\/)/g,o)}e=e.replace("var meta = ",""),n[r]=JSON.parse(e)})})).then(function(){return n})}},{key:"awaitDownload",value:function(e,t){var n,i=Object(S.a)();n=t?{tour:"tourData.json?_v=".concat(i),user:"userData.json?_v=".concat(i)}:{meta:"meta.js?_v=".concat(i),info:"info.json?_v=".concat(i)};var r={};return Promise.all(Object.entries(n).map(function(t){var n=C()(t,2),i=n[0],o=n[1];return fetch(e+o).then(function(e){if(200===e.status)r[i]=e;else if("info"!==i)throw new Error("")})})).then(function(){return r})}},{key:"convertPropertiesToStrings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(e))return e.map(function(e){return"number"==typeof e.from&&(e.from=String(e.from)),"number"==typeof e.to&&(e.to=String(e.to)),"number"==typeof e.id&&(e.id=String(e.id)),"number"==typeof e.floorId&&(e.floorId=String(e.floorId)),e.floors&&(e.floors=e.floors.map(function(e){return String(e)})),e.place&&"number"==typeof e.place.panoramaId&&(e.place.panoramaId=String(e.place.panoramaId)),e.visiblePanoramas&&(e.visiblePanoramas=e.visiblePanoramas.map(function(e){return String(e)})),e})}},{key:"convertObjectToArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("object"!==M()(e)||null===e||Array.isArray(e))return e;var t=[];return Object.entries(e).forEach(function(e){var n=C()(e,2),i=n[0],o=n[1],a=r()({},o,{id:i});t.push(a)}),t}},{key:"convertImageUrlsToIds",value:function(e){return e.length>0&&!e[0].imageURL&&!e[0].imageUrl?e:e.map(function(e){return{place:e.place,title:e.title,id:(e.imageURL||e.imageUrl).match(/([^\/]+)(?=\.\w+$)/)[0]}})}},{key:"convertFirstModeToPosition",value:function(e){if(e.positions&&e.startPositionId)return e;e.positions||(e.positions=[]);var t=L.a.DOLLHOUSE,n=L.a.FLOORPLAN,i=L.a.INSIDE,r=e.firstMode,o=e.defaultPanoramaId,a=e.defaultCameraDirection,s={id:L.w,cameraMode:r?Object(T.a)(r):t};return s.cameraMode===i&&o&&(s.panoramaId=o),s.cameraMode!==n&&a&&(s.angles=Object(_.g)(a)),delete e.firstMode,delete e.defaultPanoramaId,delete e.defaultCameraDirection,e.positions.push(s),e.startPositionId=s.id,e}},{key:"getAdapted",value:function(e){var t,n=e.tour,i=e.meta,o=e.info,a=e.user;if(n){n.panoramas=this.convertObjectToArray(n.panoramas)||[],n.highlights=this.convertObjectToArray(n.highlights)||[],n.floors=this.convertObjectToArray(n.floors)||[],a.portals=this.convertObjectToArray(a.portals)||[],a.panoramas=this.convertObjectToArray(a.panoramas)||[],a.floors=this.convertObjectToArray(a.floors)||[],a.highlights=this.convertObjectToArray(a.highlights)||[],a.whiteLabelling=a.whiteLabelling||{},n.panoramas=this.convertPropertiesToStrings(n.panoramas),n.floors=this.convertPropertiesToStrings(n.floors),a.highlights=this.convertPropertiesToStrings(a.highlights),a.highlights=this.convertImageUrlsToIds(a.highlights),n.viewpoints=n.viewpoints||n.highlights,delete n.highlights,a=this.convertFirstModeToPosition(a);var s={tour:r()({},n,{panoramas:n.panoramas,floors:n.floors,place:this.place}),user:a};if(s.tour.panoramaTileWebp||s.tour.materialsWebp){var l=s.tour.panoramaTileWebp,c=s.tour.materialsWebp;s.tour.panoramaTileWebp=!1,s.tour.materialsWebp=!1,this.isEdge||(s.tour,t="UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",new Promise(function(e){var n=new Image;n.onload=function(){var t=n.width>0&&n.height>0;e(t)},n.src="data:image/webp;base64,"+t})).then(function(e){e&&(s.tour.panoramaTileWebp=l,s.tour.materialsWebp=c)})}return s}var u={additionalInfo:{},floors:[],viewpoints:[]},h={floors:[],panoramas:[],portals:[],highlights:[],persons:[]},d=["eyeLevel","params","defaultPanoramaId","defaultCameraDirection","hiddenComponents","firstMode","portals"],p=["splashPreviewImage","infoURL","eyeLevel","isNewStack","firstTransition"],f=["geocvBranch","geocvLongTag","panoprocessingLongTag","panoprocessingVersion"];if(Object.entries(i).forEach(function(e){var t=C()(e,2),n=t[0],o=t[1],a=(n.charAt(0).toLowerCase()+n.slice(1)).replace("URL","Url").replace("ID","Id");if(p.includes(a))delete i[n];else if(d.includes(a))h[a]=o;else if(f.includes(a))u.additionalInfo[a]=o;else{if("highlights"===a&&(a="viewpoints"),"floors"===a&&o.length>0){var s=[];void 0!==o[0].number&&(o=o.sort(function(e,t){return e.number-t.number})),o.forEach(function(e,t){var n=r()({},e,{number:e.number||t,name:e.name||null});n.textureURL&&(n.textureUrl=n.textureURL,delete n.textureURL),s.push(n)}),o=s}u[a]=o}}),o){var m=["label","sublabel"];Object.entries(o).forEach(function(e){var t=C()(e,2),n=t[0],i=t[1],a=n;if("header"===a&&(a="tristan"),"params"===a&&(a="config"),"squaring"===a&&void 0!==i.currency&&(i.unit=i.currency,delete i.currency),"description"!==a){if(m.includes(a)||(h[a]=i),"persons"===a||"company"===a){var s="persons"===a?w()(i):[r()({},i)];s.forEach(function(e){var t=e.phone,n=e.url,i=e.email,r=[];t&&(r.push({type:"phone",value:t}),delete e.phone),i&&(r.push({type:"email",value:i}),delete e.email),n&&(r.push({type:"url",value:n}),delete e.url),e.contacts=r}),h[a]="persons"===a?s:s[0]}}else h[a]=o[a].full})}return h=this.convertFirstModeToPosition(h),{tour:r()({},u,{viewpoints:u.viewpoints&&u.viewpoints.map(function(e){return{id:e}})||[],panoramas:this.convertPropertiesToStrings(u.panoramas),floors:this.convertPropertiesToStrings(u.floors),place:this.place}),user:r()({},h,{portals:this.convertPropertiesToStrings(h.portals),highlights:this.convertPropertiesToStrings(h.highlights),whiteLabelling:h.whiteLabelling||{}})}}}]),e}(),I=n(326),O=(n(84),n(56),n(192),n(32)),D=n(81),R=(n(109),n(296),function(){function e(t){var n=this;a()(this,e),this.fade_time=.2,this.transition_speed=3,this.transition_time_min=.8,this.transition_time_max=1.2,this.texture_quality=void 0,this.texture_quality_mobile=void 0,this.attraction_camera_angle=-40,this.attraction_rotation_speed=-5,this.dollhouse_fov=60,this.dollhouse_min_angle=-85,this.dollhouse_singlefloor_max_angle=-30,this.dollhouse_multifloor_max_angle=0,this.dollhouse_default_angle=-40,this.dollhouse_default_distance=1,this.dollhouse_expand_bounds=0,this.dollhouse_velocity_damping=.7,this.dollhouse_velocity_damping_mobile=.5,this.dollhouse_rotation_damping=.7,this.dollhouse_rotation_damping_mobile=.5,this.dollhouse_distance_damping=.8,this.dollhouse_distance_factor=.7,this.dollhouse_move_spring=60,this.dollhouse_idle_inertia=3,this.dollhouse_rotation_sensitivity=80,this.dollhouse_rotation_sensitivity_mobile=100,this.dollhouse_pan_sensitivity=1,this.dollhouse_singlefloor_min_distance=2,this.dollhouse_multifloor_min_distance_factor=1,this.dollhouse_max_distance_factor=2,this.dollhouse_distance_step=1.1,this.dollhouse_keyb_rotation_speed=90,this.dollhouse_keyb_pan_speed=.3,this.outdoor_fov=60,this.outdoor_min_angle=-85,this.outdoor_max_angle=-20,this.outdoor_default_angle=-40,this.outdoor_default_distance=.3,this.outdoor_velocity_damping=.7,this.outdoor_rotation_damping=.7,this.outdoor_distance_damping=.8,this.outdoor_distance_factor=.7,this.outdoor_move_spring=60,this.outdoor_idle_inertia=4.2,this.outdoor_rotation_sensitivity=80,this.outdoor_pan_sensitivity=1,this.outdoor_min_distance=.15,this.outdoor_max_distance=.75,this.outdoor_distance_step=1.1,this.outdoor_keyb_rotation_speed=90,this.outdoor_keyb_pan_speed=.1,this.inside_tile_min_lod=0,this.inside_tile_max_lod=0,this.inside_fov=70,this.inside_rotation_sensitivity=80,this.inside_rotation_damping=.8,this.inside_keyb_rotation_speed=90,this.inside_idle_inertia=4.2,this.inside_move_spring=60,this.inside_min_angle=-60,this.inside_max_angle=60,this.inside_bounce_zoom=.06,this.inside_bounce_time=.25,this.inside_max_zoom=1/0,this.inside_max_zoom_mobile=1/0,this.inside_min_zoom=1,this.inside_min_zoom_mobile=1,this.inside_zoom_step=1.1,this.inside_zoom_damping=.3,this.inside_zoom_reset_delay=5,this.floorplan_pan_sensitivity=1,this.floorplan_velocity_damping=.8,this.floorplan_velocity_damping_mobile=.5,this.floorplan_idle_inertia=4.2,this.floorplan_default_zoom=2,this.floorplan_zoom_damping=.7,this.floorplan_min_zoom=1,this.floorplan_max_zoom=8,this.floorplan_zoom_step=1.1,this.floorplan_border_size=.1,this.minimap_default_projection=0,this.minimap_default_zoom=.7,this.minimap_min_zoom=.2,this.minimap_max_zoom=2,this.minimap_fov=40,this.minimap_height_offset=-1.6,this.minimap_avatar_scale=4,this.minimap_perspective_near=.1,this.minimap_perspective_far=100,this.minimap_center_offset=.4,this.minimap_change_opacity_speed=1.5,this.minimap_default_width=100,this.minimap_default_height=150,this.free_fly_fov=80,this.free_fly_sensitivity=120,this.free_fly_velocity=3,this.tag_size=.3,this.tag_hit_distance=1024,this.tag_default_opacity=.7,this.tag_active_opacity=1,this.tag_change_opacity_speed=1.5,this.tag_size_on_min_distance=.3,this.tag_size_on_max_distance=1.2,this.tag_min_distance=.2,this.tag_max_distance=15,this.tag_interact_factor=1,this.tag_interact_factor_mobile=2.5,this.defaultConfig=void 0,this.set=this.set.bind(this);var i=t.userConfig,o=t.modelTextureResolutions?t.modelTextureResolutions.length:1;t.isMSIE&&o--;var s,l,c=void 0!==t.panoTileLods?t.panoTileLods.length-1:0;Number.isNaN(Number(t.textureQuality))?(s=Number(i.texture_quality),l=Number(i.texture_quality_mobile),Number.isNaN(l)&&(l=s-1)):l=(s=Number(t.textureQuality))-1,this.texture_quality=Number.isNaN(s)?Math.max(0,o-1):Math.max(0,Math.min(o-1,s)),this.texture_quality_mobile=Number.isNaN(l)?Math.max(0,this.texture_quality-1):Math.max(0,Math.min(o-1,l));var u=void 0===t.tileMaxLod||Number.isNaN(Number(t.tileMaxLod))?1/0:t.tileMaxLod;this.inside_tile_max_lod=Math.max(0,Math.min(u,c)),this.defaultConfig=r()({},this),delete this.defaultConfig.set,Object.entries(i).forEach(function(e){var t=C()(e,2),i=t[0],r=t[1];n.set(i,r)}),Object.entries(t.envConfig).forEach(function(e){var t=C()(e,2),i=t[0],r=t[1];n.set(i,r)});var h=void 0===t.tileMinLod||Number.isNaN(Number(t.tileMinLod))?-1/0:t.tileMinLod;this.inside_tile_min_lod=Math.max(0,Math.min(h,c))}return l()(e,[{key:"set",value:function(e,t){return void 0===this[e]?console.error("GCV.Config.".concat(e," doesn't exist")):this[e]=t}}]),e}()),N=(n(52),n(53),n(76),n(90),n(70),n(57)),V=n.n(N),B=0,F=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this))).mode=B,e.isInitialized=!1,e.panoList=[],e.spriteList=[],e.floorGraph=[],e.eyeGraph=[],e.debugGraphs=[],e.hoverPanoramaId=null,e.coloredMaterials={normal:new P.a.MeshBasicMaterial({color:65280}),dull:new P.a.MeshBasicMaterial({color:65280,transparent:!0,opacity:.2}),invalid:new P.a.MeshBasicMaterial({color:16711680})},e.selectedFloorId=void 0,e}return f()(t,e),l()(t,[{key:"validatePano",value:function(e){var t=this,n=0,i=0;return this.panoramas.list.forEach(function(r){if(r.visiblePanoramas)n=i=r.visiblePanoramas.length;else{if(r.id===e.id)return;!n&&t.panoramas.isPointVisible(r.position,e.projPos)&&t.panoramas.isPointVisible(r.position,e.position)&&n++,!i&&t.panoramas.isPointVisible(e.position,r.projPos)&&t.panoramas.isPointVisible(e.position,r.position)&&i++}}),n||(O.b.warn("Unable to enter panorama "+e.id),0),i||(O.b.warn("Unable to exit panorama "+e.id),0),!0}},{key:"createPanoramas",value:function(){var e=this,t=new P.a.BoxGeometry(.25,.25,.25);this.panoramas.list.forEach(function(n){if(!n.isHighlight){var i;i=e.validatePano(n)?n.isVisible?e.coloredMaterials.normal:e.coloredMaterials.dull:e.coloredMaterials.invalid;var r=new P.a.Mesh(t,i),o=new P.a.Quaternion(n.rotation.x,n.rotation.y,n.rotation.z,n.rotation.w);r.position.set(n.position.x,n.position.y,n.position.z),r.rotation.setFromQuaternion(o),r.userData.floorId=n.floorId,e.panoList.push(r)}})}},{key:"createGraphs",value:function(e){var t=this,n={},i={},r=this.panoramas.list.length>0&&void 0!==this.panoramas.list[0].visiblePanoramas,o=!1,a=!1;this.panoramas.list.forEach(function(e,s){t.panoramas.list.forEach(function(l,c){if(s!==c&&!e.isHighlight&&!l.isHighlight){if(r){var u=e.visiblePanoramas;o=a=u.includes(l.id)}else o=t.panoramas.isPointVisible(e.position,l.projPos),a=t.panoramas.isPointVisible(e.position,l.position);if(o&&a){var h=i[e.floorId];h||(h=i[e.floorId]=[]),h.push(e.position),h.push(l.position)}if(a){var d=n[e.floorId];d||(d=n[e.floorId]=[]),d.push(e.position),d.push(l.position)}}})});var s=new P.a.LineBasicMaterial({color:0});for(var l in s.renderOrder=1,i){var c=i[l],u=new P.a.Geometry;u.vertices=c;var h=new P.a.LineSegments(u,s);h.userData.floorId=l,this.floorGraph.push(h)}var d=new P.a.LineBasicMaterial({color:0});for(var p in d.renderOrder=1,n){var f=n[p],m=new P.a.Geometry;m.vertices=f;var v=new P.a.LineSegments(m,d);v.userData.floorId=p,this.eyeGraph.push(v)}e&&Object.keys(e).forEach(function(n,i){var r=e[n].edges,o=[],a=!0,s=!1,l=void 0;try{for(var c,u=function(){var e=c.value;if(!e||!e[0])return"continue";var n=e[0],i=n.first,r=n.second,a=t.panoramas.list.find(function(e){return e.id===i}),s=t.panoramas.list.find(function(e){return e.id===r});a&&s&&(o.push(a.position),o.push(s.position))},h=r.values()[Symbol.iterator]();!(a=(c=h.next()).done);a=!0)u()}catch(e){s=!0,l=e}finally{try{a||null==h.return||h.return()}finally{if(s)throw l}}var d=new P.a.Geometry;d.vertices=o;var p=new P.a.MeshBasicMaterial({color:"hsl(".concat(11*i/13%1*360,", 100%, 50%)")});t.debugGraphs.push({name:n,mesh:new P.a.LineSegments(d,p)})})}},{key:"createInfoSprites",value:function(){var e=this;this.panoramas.list.forEach(function(t){if(!t.isHighlight){var n=document.createElement("canvas");n.width=64,n.height=64;var i=n.getContext("2d");i.font="30px Verdana",i.fillStyle="rgba(255, 255, 255, 1.0)",i.strokeStyle="rgba(0, 0, 0, 1.0)",i.fillText(t.id,4,34),i.strokeText(t.id,4,34);var r=new P.a.Texture(n);r.premultiplyAlpha=!1,r.needsUpdate=!0;var o=new P.a.SpriteMaterial({map:r,depthTest:!1}),a=new P.a.Sprite(o),s=t.position,l=s.x,c=s.y,u=s.z;a.position.set(l,c+.5,u),a.scale.set(.5,.5,.5),a.userData.floorId=t.floorId,e.spriteList.push(a)}})}},{key:"setVisibleInFloor",value:function(e){[].concat(w()(this.spriteList),w()(this.panoList),w()(this.floorGraph),w()(this.eyeGraph)).forEach(function(t){t.visible=null===e||-1!==e.indexOf(t.userData.floorId)})}},{key:"show",value:function(e){var t=this;e instanceof Array?e.forEach(function(e){t.add(e)}):this.add(e)}},{key:"hide",value:function(e){var t=this;e instanceof Array?e.forEach(function(e){t.remove(e)}):this.remove(e)}},{key:"init",value:function(e,t){this.isInitialized||(this.isInitialized=!0,this.panoramas=e,this.createInfoSprites(),this.createGraphs(t),this.createPanoramas())}},{key:"toggle",value:function(e,t){var n=this;switch(this.init(e,t),this.mode=this.mode+1,this.mode>3+this.debugGraphs.length&&(this.mode=B),this.hide(this.panoList),this.hide(this.spriteList),this.hide(this.floorGraph),this.hide(this.eyeGraph),this.debugGraphs.forEach(function(e){n.hide(e.mesh)}),this.mode){case B:this.dispatchEvent({type:"change",data:"MODE_HIDE"});break;case 1:this.dispatchEvent({type:"change",data:"MODE_PANORAMAS"}),this.show(this.panoList),this.show(this.spriteList);break;case 2:this.dispatchEvent({type:"change",data:"MODE_FLOOR_POS"}),this.show(this.panoList),this.show(this.spriteList),this.show(this.floorGraph);break;case 3:this.dispatchEvent({type:"change",data:"MODE_EYE_POS"}),this.show(this.panoList),this.show(this.spriteList),this.show(this.eyeGraph);break;default:var i=this.mode-3-1,r=this.debugGraphs[i];this.dispatchEvent({type:"change",data:r.name}),this.show(this.panoList),this.show(this.spriteList),this.show(r.mesh)}}}]),t}(P.a.Object3D),z=function(){function e(){a()(this,e),this.value='\n        {\n            "from": 56,\n            "to": 49,\n            "dir": {\n                "x": 0.0,\n                "y": -0.35,\n                "z": -0.87\n            }\n        }\n        ',this.isVisible=!1,this.element=document.createElement("textarea"),this.frame=document.createElement("div"),this.insertField()}return l()(e,[{key:"set",value:function(e){this.value=e,this.element.innerHTML=this.value,this.element.selectionStart=0,this.element.selectionEnd=e.length}},{key:"insertField",value:function(){var e=this;this.frame.style.position="absolute",this.frame.style.zIndex="5",this.frame.style.visibility="visible",this.frame.style.opacity="1",this.frame.style.width="80%",this.frame.style.maxWidth="400px",this.frame.style.height="300px",this.frame.style.transform="translate(-50%, -50%)",this.frame.style.left="50%",this.frame.style.top="50%",this.frame.style.background="lightgray",this.frame.style.visibility="hidden",this.frame.style.opacity="0",this.element.setAttribute("id","copy-field"),this.element.setAttribute("readonly","readonly"),this.element.setAttribute("wrap","off"),this.element.innerHTML=this.value,this.element.style.zIndex="5",this.element.style.display="block",this.element.style.width="100%",this.element.style.height="260px",this.element.style.fontSize="12px",this.element.style.fontFamily="monospace",this.element.style.resize="none";var t=document.createElement("button");t.textContent="Close",t.style.position="inherit",t.style.right="10px",t.style.bottom="5px",t.style.width="80px",t.style.height="20px",t.onclick=function(){e.hide()};var n=document.createElement("button");n.textContent="Copy",n.style.position="inherit",n.style.right="100px",n.style.bottom="5px",n.style.width="80px",n.style.height="20px",n.onclick=function(){try{document.execCommand("copy")}catch(e){console.log(e)}},this.frame.appendChild(t),this.frame.appendChild(n),this.frame.appendChild(this.element),document.body.appendChild(this.frame)}},{key:"show",value:function(){this.frame.style.opacity="1",this.frame.style.visibility="visible",this.isVisible=!0,this.element.focus(),this.element.select()}},{key:"hide",value:function(){this.frame.style.opacity="0",this.frame.style.visibility="hidden",this.isVisible=!1}},{key:"toggle",value:function(){return this.isVisible?this.hide():this.show()}}]),e}(),U=n(200),j=function(){function e(t){var n,i=this;a()(this,e),this.update=(n=new P.a.Vector3,function(e){var t=i.props.GCV;if(i.FPS.update(e),i.fps=i.FPS.getAvg().toFixed(1),t.NewFinalModel&&t.NewFinalModel.mesh&&t.NewFinalModel.mesh.children[0]&&t.NewFinalModel.mesh.children[0].geometry){var r=t.NewFinalModel.mesh.children[0].geometry.attributes.position.count,o=t.NewFinalModel.mesh.children[0].geometry.index.count/3,a=t.NewFinalModel.mesh.children[0].geometry.groups.length,s=((20*r+6*o)/1024/1024).toFixed(1);i.state[0]="\n          Verts: ".concat(r,",\n          Faces: ").concat(o,",\n          Parts: ").concat(a,",\n          Size: ").concat(s," MB\n        ")}if(t.NewFinalModel&&t.NewFinalModel.mesh&&t.NewFinalModel.material){var l=t.NewFinalModel.mesh.material.length,c=t.NewFinalModel.mesh.material[0].map.image.width,u=(l*c*c*4/1024/1024).toFixed(1);i.state[1]="\n          Textures: ".concat(l,",\n          TextureSize: ").concat(c,",\n          TotalSize: ").concat(u," MB\n        ")}if(t.Panoramas&&t.Panoramas.list){var h=t.Panoramas.list.length,d=t.CubeRender.getSize(),p=(d*d*4*6/1024/1024).toFixed(1);i.state[2]="\n          <strong>Panoramas:</strong>\n          amount ".concat(h,",\n          resolution ").concat(d,",\n          size ").concat(p," MB\n        ")}if(t.CollisionTree&&t.CollisionTree.verts){var f=t.CollisionTree.verts.length,m=t.CollisionTree.faces.length,v=t.CollisionTree.nodes.length;i.state[3]="\n          <strong>Collision:</strong>\n          verts ".concat(f,",\n          faces ").concat(m,",\n          nodes ").concat(v)}if(t.PostprocessingComposer){var g=t.PostprocessingComposer.getInfoString();i.state[4]="<strong>FX Composer:</strong> ".concat(g)}if(t.Camera&&t.Camera.getCurrentCamera()){var y=function(e){return(e=e.toFixed(3))>0&&(e="Â "+e),e},b=t.Camera.getCurrentCamera().getWorldDirection(n),x=b.x,w=b.y,A=b.z;x=y(x),w=y(w),A=y(A),i.state[5]="<strong>Camera:</strong> ".concat(x,", ").concat(w,", ").concat(A)}}),this.props=t,this.state=[],this.fps=null,this.FPS=new U.a,this.observer(),this.updateActivePanorama(null),this.updatePanoramaDebugMode("MODE_HIDE")}return l()(e,[{key:"observer",value:function(){var e=this,t=this.props.GCV.redux,n=t.store,i=t.actions;setInterval(function(){e.state.forEach(function(e,t){e!==n.getState().debug.lines[t]&&n.dispatch(i.debug.setLine(t,e))}),n.dispatch(i.debug.setFPS(e.fps))},100)}},{key:"updateActivePanorama",value:function(e){this.state[6]="<strong>Current panorama:</strong> ".concat(e)}},{key:"updatePanoramaDebugMode",value:function(e){this.state[7]="<strong>Debug panorama mode:</strong> ".concat(e)}}]),e}(),H=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this)))._isInitialized=!1,e}return f()(t,e),l()(t,[{key:"initMesh",value:function(e){if(!this._isInitialized){this._isInitialized=!0;var t=[new P.a.Color(1,0,0),new P.a.Color(0,1,0)],n=e.verts,i=e.faces,r=new P.a.Geometry;n.forEach(function(e){r.vertices.push(e)}),i.forEach(function(n){var i=new P.a.Color(0,0,0);if(void 0!==n.options){var o=e.getFaceFloorLevel(n),a=e.isFloorFace(n)?1:0,s=1&o?.75:1;i=(new P.a.Color).copy(t[a]).multiplyScalar(s)}r.faces.push(new P.a.Face3(n.a,n.b,n.c,n.normal,i))});var o=new P.a.MeshBasicMaterial({color:16777215,vertexColors:P.a.FaceColors,transparent:!0,opacity:.5}),a=new P.a.Geometry;i.forEach(function(e){var t=n[e.a],i=n[e.b],r=n[e.c];a.vertices.push(t),a.vertices.push(i),a.vertices.push(i),a.vertices.push(r),a.vertices.push(r),a.vertices.push(t)});var s=new P.a.MeshBasicMaterial({color:0}),l=new P.a.LineSegments(a,s);l.renderOrder=1;var c=new P.a.Mesh(r,o);this.add(l),this.add(c)}}}]),t}(P.a.Object3D),G=function(){function e(t){var n=this;a()(this,e),this.props=t,this.PanoramasDebug=new F,this.CopyField=new z,this.StatsFrame=new j(t),this.CollisionTreeDebug=new H,this.PanoramasDebug.addEventListener("change",function(e){n.StatsFrame.updatePanoramaDebugMode(e.data)}),this._collisionVisible=!1,this._panoramasVisible=!1}return l()(e,[{key:"toggleCollisionTree",value:function(){var e=this.props.GCV;this.CollisionTreeDebug.initMesh(e.CollisionTree),this._collisionVisible?(this._collisionVisible=!1,e.Scene.remove(this.CollisionTreeDebug)):(this._collisionVisible=!0,e.Scene.add(this.CollisionTreeDebug))}},{key:"enablePanoramas",value:function(){var e=this.props.GCV;this._panoramasVisible||(e.Scene.add(this.PanoramasDebug),this._panoramasVisible=!0)}},{key:"setKeysHandlers",value:function(){var e=this,t=this.props.GCV;window.addEventListener("keydown",function(n){if(t.MouseInteraction.get("mouseOverViewer"))switch(n.code){case"KeyB":return t.PanoSphere.toggleDebugMode();case"KeyN":return e.enablePanoramas(),e.PanoramasDebug.toggle(t.Panoramas,t.datum.tour.debugGraphs);case"KeyG":return e.toggleCollisionTree();case"KeyF":return e.CopyField.toggle();case"KeyL":return t.PostprocessingComposer.nextFX();case"KeyK":return t.PostprocessingComposer.setDownsample(!t.PostprocessingComposer.isEnabled);default:return}})}},{key:"update",value:function(e){var t=this.props.GCV.Floors.getVisible();this.PanoramasDebug.setVisibleInFloor(t),this.StatsFrame.update(e)}}]),e}(),W=[];W["simple_material_color_blend.vs"]="\n  varying vec2 vCoordsMain;\n\n  void main() {\n    vec3 worldPos = (modelMatrix * vec4(position.xyz, 1.0)).xyz;\n    vCoordsMain = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n  }\n",W["simple_material_color_blend.fs"]="\n  uniform sampler2D sTexMain;\n  uniform float gOpacity;\n  uniform vec4 gColorBlend;\n\n  varying vec2 vCoordsMain;\n\n  void main() {\n    vec3 color = texture2D(sTexMain, vCoordsMain).xyz;\n    gl_FragColor.xyz = mix(color, gColorBlend.xyz, gColorBlend.w);\n    gl_FragColor.w = gOpacity;\n  }\n",W["transition_effect.vs"]="\n  uniform mat4 gMatrix1;\n  uniform mat4 gMatrix2;\n  uniform vec3 gPos1;\n  uniform vec3 gPos2;\n\n  varying vec2 vCoordsMain;\n  varying vec3 vCoords1;\n  varying vec3 vCoords2;\n\n  void main() {\n    vec3 worldPos = (modelMatrix * vec4(position.xyz, 1.0)).xyz;\n    vec3 dir1 = mat3(gMatrix1) * (worldPos - gPos1);\n    vec3 dir2 = mat3(gMatrix2) * (worldPos - gPos2);\n    // transform to cubemap coords\n    vCoords1.x =  dir1.z;\n    vCoords1.y = -dir1.y;\n    vCoords1.z = -dir1.x;\n    // transform to cubemap coords\n    vCoords2.x =  dir2.z;\n    vCoords2.y = -dir2.y;\n    vCoords2.z = -dir2.x;\n    vCoordsMain = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n  }\n",W["transition_effect.fs"]="\n  //precision mediump float;\n  uniform sampler2D sTexMain;\n  uniform samplerCube sTex1;\n  uniform samplerCube sTex2;\n  uniform float gFactor1;\n  uniform float gFactor2;\n  uniform float gOpacity;\n  uniform vec4 gColorBlend;\n\n  uniform bool gEnableHidding;\n  uniform vec2 gCursorPos;\n  uniform vec2 gResolution;\n\n  varying vec2 vCoordsMain;\n  varying vec3 vCoords1;\n  varying vec3 vCoords2;\n\n  void main() {\n    float mainFactor = 1.0 - gFactor1 - gFactor2;\n    vec3 color = vec3(0.0);\n    float f1 = mainFactor;\n    float f2 = gFactor1;\n    float f3 = gFactor2;\n    color += f1 * texture2D(sTexMain, vCoordsMain).xyz;\n    color += f2 * textureCube(sTex1, vCoords1).xyz;\n    color += f3 * textureCube(sTex2, vCoords2).xyz;\n\n    #ifdef HIDE_PANO_UNDER_CURSOR\n      if (gEnableHidding) {\n        vec2 cursorOffset = (gl_FragCoord.xy / gResolution - 0.5) * 2. - gCursorPos;\n        cursorOffset.x *= gResolution.x / gResolution.y;\n        color = mix(texture2D(sTexMain, vCoordsMain).xyz, color, smoothstep(0.4, 0.5, length(cursorOffset)));\n      }\n    #endif\n    gl_FragColor.xyz = mix(color, gColorBlend.xyz, gColorBlend.w);\n    gl_FragColor.w = gOpacity;\n  }\n",W["pano_sphere.vs"]="\n  uniform mat4 gMatrix1;\n  uniform mat4 gMatrix2;\n  uniform vec3 gPos1;\n  uniform vec3 gPos2;\n  varying vec3 vWorldPos;\n\n  varying vec3 vCoords1;\n  varying vec3 vCoords2;\n  void main() {\n    vec3 worldPos = (modelMatrix * vec4(position.xyz, 1.0)).xyz;\n    vWorldPos = worldPos;\n    vec3 dir1 = mat3(gMatrix1) * (vWorldPos - gPos1);\n    vec3 dir2 = mat3(gMatrix2) * (vWorldPos - gPos2);\n    // transform to cubemap coords\n    vCoords1.x =  dir1.z;\n    vCoords1.y = -dir1.y;\n    vCoords1.z = -dir1.x;\n    // transform to cubemap coords\n    vCoords2.x =  dir2.z;\n    vCoords2.y = -dir2.y;\n    vCoords2.z = -dir2.x;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n  }\n",W["pano_sphere.fs"]="\n  //precision mediump float;\n  uniform samplerCube sTex1;\n  uniform samplerCube sTex2;\n  uniform float gFactor1;\n  uniform float gFactor2;\n  uniform float gTransparency;\n\n  uniform bool gEnableHidding;\n  uniform vec2 gCursorPos;\n  uniform vec2 gResolution;\n\n  varying vec3 vCoords1;\n  varying vec3 vCoords2;\n  void main() {\n    vec3 color = vec3(0.0);\n    color += gFactor1 * textureCube(sTex1, vCoords1).xyz;\n    color += gFactor2 * textureCube(sTex2, vCoords2).xyz;\n\n    float transparency = gTransparency;\n    #ifdef HIDE_PANO_UNDER_CURSOR\n      if (gEnableHidding) {\n        vec2 cursorOffset = (gl_FragCoord.xy / gResolution - 0.5) * 2. - gCursorPos;\n        cursorOffset.x *= gResolution.x / gResolution.y;\n        transparency *= mix(0.0, 1.0, smoothstep(0.4, 0.5, length(cursorOffset)));\n      }\n    #endif\n\n    gl_FragColor.xyz = color;\n    gl_FragColor.w = transparency;\n  }\n",W["debug_panorama.vs"]="\n  uniform mat4 gCubeMatrix;\n\n  varying vec3 vTexCoords;\n\n  void main() {\n    vec3 coords = mat3(gCubeMatrix) * position.xyz;\n    vTexCoords.x = coords.z;\n    vTexCoords.y = -coords.y;\n    vTexCoords.z = -coords.x;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n  }\n",W["debug_panorama.fs"]="\n  //precision mediump float;\n  uniform samplerCube sCubeTexture;\n\n  varying vec3 vTexCoords;\n\n  void main() {\n    gl_FragColor = textureCube(sCubeTexture, vTexCoords);\n    gl_FragColor.w = 0.5;\n  }\n";var Q,Y=function(){function e(){a()(this,e),this._cache=W,this.dumpShaderSource=this.dumpShaderSource.bind(this)}return l()(e,[{key:"getShaderSource",value:function(e){var t=this;if(t._cache.hasOwnProperty(e))return t._cache[e];var n=document.getElementById(e);if(n){var i=n.textContent;return O.b.info("Loaded shader source "+e+" from index"),t.dumpShaderSource(e,i),i}var r=new XMLHttpRequest;for(r.open("GET",e,!0),r.onload=function(n){O.b.info("Loaded shader source "+e+" from web"),t.dumpShaderSource(e,r.response)},r.onerror=function(t){O.b.error("Unable to locate shader source "+e)},r.send();!r.DONE;);return r.responseText}},{key:"addShaderSource",value:function(e,t){this._cache[e]=t}},{key:"dumpShaderSource",value:function(e,t){for(var n=t.split(""),i=0;i<n.length;i++)n[i]="'".concat(n[i],"'"),i!==n.length-1&&(n[i]+="+");t=n.join(""),O.b.info("ShaderLib.addShaderSource('".concat(e,"',").concat(t,")"))}}]),e}();n(144);!function(e){e[e.Mouse1=0]="Mouse1",e[e.Mouse2=2]="Mouse2",e[e.Mouse3=1]="Mouse3",e[e.Mouse4=3]="Mouse4"}(Q||(Q={}));var X=Q,K=function(){function e(t){a()(this,e),this.props=void 0,this.pointers=void 0,this.keys=void 0,this.isMouseIn=void 0,this.params=void 0,this.userLastAction=void 0,this.mousePos=void 0,this.mouseButtons=void 0,this.isMouseMoved=void 0,this.isMousePresented=void 0,this.mouseScroll=void 0,this.isLastMouseInteraction=void 0,this.isTouchZoomStarted=void 0,this.touchLastZoom=void 0,this.listeners=void 0,this.props=t;var n=this.props.GCV;this.params={numMouseButtons:4,numPointers:4,singleClickDelay:.5,doubleClickDelay:.8,clickMaxDistance:30,zoomFactor:n.ENV.browser.mobile?1800:1e3,zoomDistanceRef:100},this.pointers=[],this.keys=[],this.userLastAction=0,this.mousePos={x:NaN,y:NaN},this.mouseButtons=[],this.mouseScroll=0,this.isMouseIn=!0,this.isMouseMoved=!1,this.isMousePresented=!1,this.isLastMouseInteraction=!0,this.isTouchZoomStarted=!1,this.touchLastZoom=1,this.listeners=[];for(var i=0;i<this.params.numPointers;i++)this.pointers[i]={pos:{x:0,y:0},downPos:{x:0,y:0},state:!1,down:!1,up:!1,id:-1};for(var r=0;r<this.params.numMouseButtons;r++)this.mouseButtons[r]={lastTimeClick:-1/0,lastTimePressed:-1/0,lastTimeReleased:-1/0,lastTimePosX:NaN,lastTimePosY:NaN};this.onDoubleClick=this.onDoubleClick.bind(this)}return l()(e,[{key:"setUserLastAction",value:function(e){this.userLastAction=e}},{key:"getUserLastAction",value:function(){return this.userLastAction}},{key:"setMousePresented",value:function(){this.isMousePresented=!0}},{key:"getMousePresented",value:function(){return this.isMousePresented}},{key:"addInputListener",value:function(e){this.listeners.push(e),e.priority=e.priority||0,this.listeners.sort(function(e,t){return t.priority-e.priority})}},{key:"removeInputListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"isSomeInputInFocus",value:function(){var e=document.activeElement.tagName.toLowerCase();return["textarea","input","select"].includes(e)}},{key:"getKey",value:function(e){return(!this.props.GCV.ENV.disableKeyboardWhenSomeInputInFocus||!this.isSomeInputInFocus())&&(void 0!==this.keys[e]&&(!!this.isMouseIn&&this.keys[e].state))}},{key:"getKeyPressed",value:function(e){return void 0!==this.keys[e]&&void 0!==this.keys[e].pressed&&this.keys[e].pressed}},{key:"getKeyReleased",value:function(e){return void 0!==this.keys[e]&&void 0!==this.keys[e].released&&this.keys[e].released}},{key:"isMouseInitialized",value:function(){return!isNaN(this.mousePos.x)&&!isNaN(this.mousePos.y)}},{key:"isMouseInteraction",value:function(){return this.isLastMouseInteraction}},{key:"getMousePos",value:function(){return this.mousePos}},{key:"getMouseScroll",value:function(){return this.mouseScroll}},{key:"getMouseMoved",value:function(){return this.isMouseMoved}},{key:"getActivePointers",value:function(){for(var e=[],t=0;t<this.params.numPointers;t++)this.pointers[t].state&&e.push(t);return e}},{key:"getPointer",value:function(e){return this.pointers[e].state}},{key:"onMouseWheel",value:function(e){var t=this.props.GCV;this.mouseScroll=e,this.setUserLastAction(0),this.listeners.forEach(function(n){n.onmousewheel&&((t.ENV.browser.msie||t.ENV.browser.mobile)&&(e=-e),n.onmousewheel(e))})}},{key:"onMouseMove",value:function(e,t){if(this.mousePos.x!==e||this.mousePos.y!==t){this.isLastMouseInteraction=!0,this.isMouseMoved=!0,this.mousePos.x=e,this.mousePos.y=t;for(var n=0;n<this.params.numMouseButtons;n++)if(this.getKey(n)){this.setUserLastAction(0);break}this.listeners.forEach(function(n){n.onMouseMove&&n.onMouseMove(e,t)})}}},{key:"onMouseDown",value:function(e){var t=this.props.GCV;e<0||e>=this.params.numMouseButtons||(t.ENV.element.classList.add("is-mouse-drags-player"),this.isLastMouseInteraction=!0,this.setUserLastAction(0),void 0===this.keys[e]&&(this.keys[e]={state:!1,pressed:!1,released:!1}),this.keys[e].state=!0,this.keys[e].pressed=!0,this.mouseButtons[e].lastTimePressed=t.getTime(),this.mouseButtons[e].lastTimePosX=this.mousePos.x,this.mouseButtons[e].lastTimePosY=this.mousePos.y,this.listeners.forEach(function(t){t.onbuttondown&&t.onbuttondown(e)}))}},{key:"onMouseUp",value:function(e){var t=this.props.GCV;if(!(e<0||e>=this.params.numMouseButtons)){t.ENV.element.classList.remove("is-mouse-drags-player"),this.isLastMouseInteraction=!0,this.setUserLastAction(0),void 0===this.keys[e]&&(this.keys[e]={state:!1,pressed:!1,released:!1}),this.keys[e].state=!1,this.keys[e].released=!0;var n=t.getTime(),i=n-this.mouseButtons[e].lastTimePressed;if(i<this.params.singleClickDelay){var r=new P.a.Vector2(this.mouseButtons[e].lastTimePosX,this.mouseButtons[e].lastTimePosY),o=new P.a.Vector2(this.mousePos.x,this.mousePos.y);r.distanceToSquared(o)<this.params.clickMaxDistance&&((i=n-this.mouseButtons[e].lastTimeClick)<this.params.doubleClickDelay?(this.onDoubleClick(e,r.x,r.y),this.mouseButtons[e].lastTimeClick=-1e4):(this.onSingleClick(e,r.x,r.y),this.mouseButtons[e].lastTimeClick=n))}this.listeners.forEach(function(t){t.onbuttonup&&t.onbuttonup(e)})}}},{key:"onKeyDown",value:function(e){this.setUserLastAction(0),void 0===this.keys[e]&&(this.keys[e]={state:!1,pressed:!1,released:!1}),this.keys[e].state||this.listeners.forEach(function(t){t.onkeydown&&t.onkeydown(e)}),this.keys[e].state=!0,this.keys[e].pressed=!0}},{key:"onKeyUp",value:function(e){void 0===this.keys[e]&&(this.keys[e]={state:!1,pressed:!1,released:!1}),this.setUserLastAction(0),this.keys[e].state&&this.listeners.forEach(function(t){t.onkeyup&&t.onkeyup(e)}),this.keys[e].state=!1,this.keys[e].released=!0}},{key:"getPointerIndex",value:function(e){for(var t=0;t<this.params.numPointers;t++)if(this.pointers[t].id===e)return t;return-1}},{key:"addNewPointer",value:function(e){for(var t=0;t<this.params.numPointers;t++)if(-1===this.pointers[t].id)return this.pointers[t].id=e,t;return-1}},{key:"onPointerDown",value:function(e,t,n){var i=this.getPointerIndex(e);-1===i&&(i=this.addNewPointer(e)),i<0||i>=this.params.numPointers||(this.setUserLastAction(0),this.pointers[i].pos.x=t,this.pointers[i].pos.y=n,this.pointers[i].downPos.x=t,this.pointers[i].downPos.y=n,this.pointers[i].state=!0,this.pointers[i].down=!0,this.isTouchZoomStarted=!1,this.touchLastZoom=1,0===i?(this.onMouseMove(t,n),this.onMouseDown(X.Mouse1)):1===i&&this.pointers[0].state&&this.onMouseDown(X.Mouse2),this.isLastMouseInteraction=!1)}},{key:"onPointerUp",value:function(e,t,n){var i=this.getPointerIndex(e);i<0||i>=this.params.numPointers||(this.setUserLastAction(0),this.pointers[i].pos.x=t,this.pointers[i].pos.y=n,this.pointers[i].state=!1,this.pointers[i].up=!0,0===i?this.onMouseUp(X.Mouse1):1===i&&this.onMouseUp(X.Mouse2),this.pointers[i].id=-1,this.isLastMouseInteraction=!1)}},{key:"onPointerMove",value:function(e,t,n){var i=this.props.GCV,r=this.getPointerIndex(e);if(!(r<0||r>=this.params.numPointers)){this.isMouseInitialized()||(this.mousePos.x=t,this.mousePos.y=n),this.pointers[r].pos.x=t,this.pointers[r].pos.y=n;var o=!1;if(this.pointers[0].state&&this.pointers[1].state){o=!0;var a=this.pointerDistance(this.pointers[0].downPos,this.pointers[1].downPos),s=this.pointerDistance(this.pointers[0].pos,this.pointers[1].pos),l=1;if(Math.abs(a)>1){var c=(s-a)/this.params.zoomDistanceRef,u=i.ENV.element,h=u.offsetWidth,d=u.offsetHeight;l=(h>d?c/h:c/d)*this.params.zoomFactor}if(this.isTouchZoomStarted){var p=l-this.touchLastZoom;this.touchLastZoom=l,this.onMouseWheel(p)}else this.isTouchZoomStarted=!0,this.touchLastZoom=l;var f=(this.pointers[0].downPos.x+this.pointers[1].downPos.x)/2,m=(this.pointers[0].downPos.y+this.pointers[1].downPos.y)/2,v=(this.pointers[0].pos.x+this.pointers[1].pos.x)/2,g=(this.pointers[0].pos.y+this.pointers[1].pos.y)/2,y=this.pointers[0].downPos.x+v-f,b=this.pointers[0].downPos.y+g-m;this.onMouseMove(y,b)}o||0!==r||this.onMouseMove(t,n),this.isLastMouseInteraction=!1}}},{key:"pointerDistanceSq",value:function(e,t){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},{key:"pointerDistance",value:function(e,t){var n=this.pointerDistanceSq(e,t);return Math.sqrt(n)}},{key:"resetEvents",value:function(){for(var e in this.keys)this.keys[e].pressed=!1,this.keys[e].released=!1;for(var t=0;t<this.pointers.length;t++)this.pointers[t].up=!1,this.pointers[t].down=!1;this.isMouseMoved=!1,this.mouseScroll=0}},{key:"onSingleClick",value:function(e,t,n){this.listeners.forEach(function(i){i.onSingleClick&&i.onSingleClick(e,t,n)})}},{key:"onDoubleClick",value:function(e,t,n){this.listeners.forEach(function(i){i.onDoubleClick&&i.onDoubleClick(e,t,n)})}},{key:"onMouseEnter",value:function(){this.isMouseIn=!0,this.listeners.forEach(function(e){e.onmouseenter&&e.onmouseenter()})}},{key:"onMouseLeave",value:function(){this.isMouseIn=!1,this.props.GCV.ENV.element.classList.remove("is-mouse-drags-player"),this.listeners.forEach(function(e){e.onmouseleave&&e.onmouseleave()})}}]),e}(),q=n(199),J=function(){function e(t){a()(this,e),this.props=void 0,this.stopEvent=function(e){void 0!==e.preventDefault&&e.preventDefault(),void 0!==e.stopImmediatePropagation&&e.stopImmediatePropagation(),void 0!==e.stopPropagation&&e.stopPropagation()},this.props=t,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.init()}return l()(e,[{key:"onMouseDown",value:function(e){var t=this.props.GCV;t.MouseInteraction.get("mouseOverViewer")&&t.InputManager.onMouseDown(e.button)}},{key:"onMouseUp",value:function(e){var t=this.props.GCV;t.MouseInteraction.get("mouseOverViewer")&&t.InputManager.onMouseUp(e.button)}},{key:"init",value:function(){var e=this,t=this.props.GCV,n=t.ENV.element;void 0!==n.oncontextmenu&&(n.oncontextmenu=function(){return!1});var i=t.Renderer.domElement;n.addEventListener("playerResize",function(){return t.onResize()});var r=function(e){t.MouseInteraction.get("mouseOverViewer")&&(e.preventDefault(),Object(q.a)(e),t.InputManager.onKeyDown(e.code))},o=function(e){t.MouseInteraction.get("mouseOverViewer")&&(e.preventDefault(),Object(q.a)(e),t.InputManager.onKeyUp(e.code))};t.ENV.browser.mobile||(document.addEventListener("mousemove",function(e){var i=n.getBoundingClientRect(),r=i.left,o=i.top,a=i.height,s=i.width,l=e.clientX-r,c=e.clientY-o;c>=0&&c<a&&l>=0&&l<s&&(t.InputManager.setMousePresented(),t.InputManager.onMouseMove(l,c))}),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),t.ENV.isDebug&&t.Debug.setKeysHandlers(),window.focus()),i.addEventListener("touchmove",function(n){var i=document.getElementById("fps_counter");try{n.changedTouches.length;for(var r=0;r<n.changedTouches.length;r++){var o=n.changedTouches[r],a=t.InputManager.getPointerIndex(o.identifier),s=o.pageX-n.target.offsetLeft,l=o.pageY-n.target.offsetTop;t.InputManager.onPointerMove(o.identifier,s,l),"("+a+"): "+s+", "+l}e.stopEvent(n)}catch(e){i.textContent=e.message}}),i.addEventListener("touchstart",function(n){for(var i=0;i<n.changedTouches.length;i++){var r=n.changedTouches[i],o=r.pageX-n.target.offsetLeft,a=r.pageY-n.target.offsetTop;t.InputManager.onPointerDown(r.identifier,o,a)}e.stopEvent(n)}),i.addEventListener("touchend",function(n){for(var i=0;i<n.changedTouches.length;i++){var r=n.changedTouches[i],o=r.pageX-n.target.offsetLeft,a=r.pageY-n.target.offsetTop;t.InputManager.onPointerUp(r.identifier,o,a)}e.stopEvent(n)}),i.addEventListener("touchcancel",function(n){for(var i=0;i<n.changedTouches.length;i++){var r=n.changedTouches[i],o=r.pageX-n.target.offsetLeft,a=r.pageY-n.target.offsetTop;t.InputManager.onPointerUp(r.identifier,o,a)}e.stopEvent(n)});var a=function(e){var n=e.deltaY||e.detail||e.wheelDelta;n=n>0?1:-1,t.InputManager.setMousePresented(),t.InputManager.onMouseWheel(n),e.preventDefault()};i.addEventListener("mouseenter",function(n){t.InputManager.onMouseEnter(),e.stopEvent(n)}),i.addEventListener("mouseleave",function(n){t.InputManager.onMouseLeave(),e.stopEvent(n)});var s=function(){"onwheel"in document?i.addEventListener("wheel",a):"onmousewheel"in document?i.addEventListener("mousewheel",a):i.addEventListener("MozMousePixelScroll",a),document.addEventListener("keydown",r),document.addEventListener("keyup",o)},l=function(){"onwheel"in document?i.removeEventListener("wheel",a):"onmousewheel"in document?i.removeEventListener("mousewheel",a):i.removeEventListener("MozMousePixelScroll",a),document.removeEventListener("keydown",r),document.removeEventListener("keyup",o)};t.ENV.isDynamicFocus?(t.ENV.element.addEventListener("click",function(){s()}),window.addEventListener("blur",function(){l()})):s()}}]),e}(),Z=(n(88),n(115),new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a()(this,e),this._enabled=void 0,this._data=void 0,this._enabled=t,this._data={}}return l()(e,[{key:"add",value:function(e,t){this._enabled&&(this._data[e]=t)}},{key:"get",value:function(e){if(this._enabled)return this._data[e]}},{key:"remove",value:function(e){delete this._data[e]}},{key:"clear",value:function(){this._data={}}}]),e}())),$=new(function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this)))._isLoading=!1,e._itemsLoaded=0,e._itemsTotal=0,e._urlModifier=null,e}return f()(t,e),l()(t,[{key:"itemStart",value:function(e){this._itemsTotal++,!1===this._isLoading&&this.emit("start",e,this._itemsLoaded,this._itemsTotal),this._isLoading=!0}},{key:"itemEnd",value:function(e){this._itemsLoaded++,this.emit("progress",e,this._itemsLoaded,this._itemsTotal),this._itemsLoaded===this._itemsTotal&&(this._isLoading=!1,this.emit("loaded",e,this._itemsLoaded,this._itemsTotal))}},{key:"itemError",value:function(e){}},{key:"resolveURL",value:function(e){return this._urlModifier?this._urlModifier(e):e}},{key:"setURLModifier",value:function(e){this._urlModifier=e}}]),t}(V.a)),ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$;a()(this,e),this._cache=t,this._manager=n,this._crossOrigin="Anonymous",this._path=""}return l()(e,[{key:"load",value:function(){var e,t,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i=this._manager.resolveURL(this._path+i);var r=new Promise(function(n,i){e=n,t=i}),o=this._cache.get(i);if(void 0!==o)return this._manager.itemStart(i),setTimeout(function(){e(o),n._manager.itemEnd(i)},0),r;var a=new Image,s=function t(){a.removeEventListener("load",t,!1),a.removeEventListener("error",l,!1),n._cache.add(i,a),e(a),n._manager.itemEnd(i)},l=function e(r){a.removeEventListener("load",s,!1),a.removeEventListener("error",e,!1),t(r),n._manager.itemEnd(i),n._manager.itemError(i)};return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==i.substr(0,5)&&(a.crossOrigin=this._crossOrigin),this._manager.itemStart(i),a.src=i,r}},{key:"setCrossOrigin",value:function(e){return this._crossOrigin=e,this}},{key:"setPath",value:function(e){return this._path=e,this}}]),e}(),te=new ee;var ne=function(){function e(t){a()(this,e),this._comparator=void 0,this._heap=void 0,this._comparator=t,this._heap=[]}return l()(e,[{key:"clear",value:function(){this._heap.length=0}},{key:"isEmpty",value:function(){return 0===this._heap.length}},{key:"getNext",value:function(){return this._heap[0]}},{key:"queue",value:function(e){this._heap.push(e);for(var t=this._heap.length-1,n=this._parent(t);t>0&&this._compare(t,n);)this._swap(t,n),t=n,n=this._parent(t);return this._heap.length}},{key:"dequeue",value:function(){var e=this._heap[0];if(this._heap.length>0){this._swap(0,this._heap.length-1),this._heap.length-=1;for(var t=0,n=this._leftChild(t),i=this._rightChild(t);i<this._heap.length&&this._compare(i,t)||n<this._heap.length&&this._compare(n,t);){var r=void 0;r=i<this._heap.length&&this._compare(i,n)?i:n,this._swap(t,r),t=r,n=this._leftChild(t),i=this._rightChild(t)}}return e}},{key:"setComparator",value:function(e){this._comparator=e;var t=this._heap;for(var n in this._heap=[],t){var i=t[n];this.queue(i)}}},{key:"update",value:function(){this.setComparator(this._comparator)}},{key:"_compare",value:function(e,t){return this._comparator(this._heap[e],this._heap[t])>0}},{key:"_parent",value:function(e){return e-1>>1}},{key:"_leftChild",value:function(e){return 1+(e<<1)}},{key:"_rightChild",value:function(e){return 2+(e<<1)}},{key:"_swap",value:function(e,t){var n=this._heap[e];this._heap[e]=this._heap[t],this._heap[t]=n}},{key:"length",get:function(){return this._heap.length}}]),e}(),ie=Promise.resolve(),re=function(e){},oe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;a()(this,e),this.promise=void 0,this.options=void 0,this.exec=void 0,this.promise=ie,this.options=t,this.exec=n},ae=function(e){function t(e){var n;return a()(this,t),(n=u()(this,d()(t).call(this)))._name=void 0,n._tasks=void 0,n._name="",n._tasks=new ne(function(t,n){return e(t.options,n.options)}),n}return f()(t,e),l()(t,[{key:"executeTask",value:function(e){return e.promise=new Promise(function(t){var n=e.exec;e.exec=function(e){t(n(e))}}),this._tasks.queue(e),this.emit("added",e),e.promise}},{key:"setComparator",value:function(e){this._tasks.setComparator(function(t,n){return e(t.options,n.options)})}},{key:"getTaskCount",value:function(){return this._tasks.length}},{key:"getNextTask",value:function(){var e=this._tasks.getNext();return e&&e.options}},{key:"doTask",value:function(){var e=this._tasks.dequeue();return e?(e.exec(e.options),e.promise):Promise.resolve()}},{key:"update",value:function(){this._tasks.update()}},{key:"clear",value:function(){this._tasks.clear()}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}]),t}(N.EventEmitter),se=new P.a.PlaneGeometry(2,2),le=function(e){function t(e,n,i,r,o,s){var l;return a()(this,t),(l=u()(this,d()(t).call(this))).lod=void 0,l.f=void 0,l.i=void 0,l.j=void 0,l.parentTile=void 0,l.childTiles=void 0,l.isReady=void 0,l.fov=void 0,l.height=void 0,l.isRendered=void 0,l.minTileLod=void 0,l.texture=void 0,l.opacity=void 0,l.img=void 0,l.material=void 0,l.mesh=void 0,l.img=e,l.lod=n,l.f=i,l.i=r,l.j=o,l.childTiles=[],l.parentTile=null,l.minTileLod=0,l.opacity=0,l.material=new P.a.RawShaderMaterial({transparent:!0,blending:P.a.NormalBlending,depthWrite:!1,depthTest:!1,uniforms:{uTexture:{type:"t",value:new P.a.Texture},uOpacity:{type:"f",value:0},gEnableHidding:{value:!1},gResolution:{value:new P.a.Vector2},gCursorPos:{value:new P.a.Vector2}},vertexShader:"\n        attribute vec2 uv;\n        attribute vec4 position;\n\n        uniform mat4 projectionMatrix;\n        uniform mat4 modelViewMatrix;\n\n        varying vec2 vUv;\n\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n        }\n      ",fragmentShader:"\n        precision highp float;\n\n        uniform sampler2D uTexture;\n        uniform float uOpacity;\n\n        uniform bool gEnableHidding;\n        uniform vec2 gCursorPos;\n        uniform vec2 gResolution;\n\n        varying vec2 vUv;\n\n        void main() {\n          gl_FragColor.xyz = texture2D(uTexture, vUv).xyz;\n          float transparency = uOpacity;\n          // FIXME: it is code duplication\n          #ifdef HIDE_PANO_UNDER_CURSOR\n            if (gEnableHidding) {\n              vec2 cursorOffset = (gl_FragCoord.xy / gResolution - 0.5) * 2. - gCursorPos;\n              cursorOffset.x *= gResolution.x / gResolution.y;\n              transparency *= mix(0.0, 1.0, smoothstep(0.4, 0.5, length(cursorOffset)));\n            }\n          #endif\n          gl_FragColor.w = transparency;\n        }\n      "}),s&&(l.material.defines.HIDE_PANO_UNDER_CURSOR=1),l.mesh=new P.a.Mesh(se,l.material),l.mesh.renderOrder=-9e3+n,l.isRendered=!1,l.mesh.onAfterRender=function(){l.isRendered=!0},l.add(l.mesh),l}return f()(t,e),l()(t,[{key:"update",value:function(e,n){var i=!1;if(n/2<this.scale.x/this.img.height||this.lod===this.minTileLod){i=0==this.childTiles.length||this.childTiles.length<4;for(var r=0;r<this.childTiles.length;r++){this.childTiles[r].material.uniforms.uOpacity.value<1&&(i=!0)}}this.material.visible=i,this.isRendered&&i?(!this.texture&&t.createdTextures<2&&(t.createdTextures++,this.texture=new P.a.Texture(this.img,void 0,P.a.ClampToEdgeWrapping,P.a.ClampToEdgeWrapping,void 0,void 0,P.a.RGBFormat),this.texture.needsUpdate=!0,this.material.uniforms.uTexture.value=this.texture,this.material.needsUpdate=!0),this.texture&&this.opacity<1&&(this.opacity=Math.min(this.opacity+2*e,1),this.material.uniforms.uOpacity.value=this.opacity)):(this.opacity>0&&(this.opacity=Math.max(this.opacity-2*e,0),this.material.uniforms.uOpacity.value=this.opacity),this.opacity<=0&&this.texture&&(this.texture.dispose(),this.texture=null,this.material.uniforms.uTexture.value=null,this.opacity=0,this.material.uniforms.uOpacity.value=0)),this.isReady=!this.material.visible||!this.isRendered||!this.texture||this.opacity>=1,this.isRendered=!1}},{key:"dispose",value:function(){var e=this.texture;e&&e.dispose(),this.texture=null,this.material.dispose(),this.remove(this.mesh)}},{key:"setSize",value:function(e,t){this.height=t,this.material.uniforms.gResolution.value.set(e,t)}},{key:"setFov",value:function(e){this.fov=e}},{key:"setMinTileLod",value:function(e){this.minTileLod=e}},{key:"hidePanoramaUnderCursor",value:function(){this.material.uniforms.gEnableHidding.value=!0}},{key:"showPanoramaUnderCursor",value:function(){this.material.uniforms.gEnableHidding.value=!1}},{key:"setCursorPos",value:function(e){this.material.uniforms.gCursorPos.value.copy(e)}}]),t}(P.a.Object3D);le.createdTextures=0;var ce=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this))).update=function(){new P.a.Vector3;return function(t){le.createdTextures=0;var n=window.devicePixelRatio,i=Math.tan(e.fov/180*Math.PI/2)/e.height/n,r=!0,o=!1,a=void 0;try{for(var s,l=e.tiles[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){s.value.update(t,i)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}}(),e.fov=void 0,e.width=void 0,e.height=void 0,e.minTileLod=void 0,e.isHiddenUnderCursor=void 0,e.cursorPos=void 0,e.tiles=void 0,e.minTileLod=0,e.fov=0,e.tiles=[],e.isHiddenUnderCursor=!1,e.cursorPos=new P.a.Vector2,e}return f()(t,e),l()(t,[{key:"addTile",value:function(e){this.tiles.push(e),this.add(e);var t=this.getParent(e.f,e.lod,e.i,e.j);e.parentTile=t,t&&t.childTiles.push(e),e.setFov(this.fov),e.setSize(this.width,this.height),e.setMinTileLod(this.minTileLod),this.isHiddenUnderCursor&&this.hidePanoramaUnderCursor()}},{key:"clear",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.tiles[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o.dispose(),this.remove(o)}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this.tiles.length=0}},{key:"isReady",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.tiles[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){if(!i.value.isReady)return!1}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!0}},{key:"getParent",value:function(e,t,n,i){t-=1,n=Math.floor(n/2),i=Math.floor(i/2);for(var r=0;r<this.tiles.length;r++){var o=this.tiles[r];if(o.f===e&&o.lod===t&&o.i===n&&o.j===i)return o}return null}},{key:"setSize",value:function(e,t){if(this.width!==e||this.height!==t){this.width=e*devicePixelRatio,this.height=t*devicePixelRatio;var n=!0,i=!1,r=void 0;try{for(var o,a=this.tiles[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.setSize(e,t)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}}},{key:"setFov",value:function(e){if(this.fov!==e){this.fov=e;var t=!0,n=!1,i=void 0;try{for(var r,o=this.tiles[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.setFov(e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}},{key:"setMinTileLod",value:function(e){this.minTileLod=e;var t=!0,n=!1,i=void 0;try{for(var r,o=this.tiles[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.setMinTileLod(e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"hidePanoramaUnderCursor",value:function(){this.isHiddenUnderCursor=!0;var e=!0,t=!1,n=void 0;try{for(var i,r=this.tiles[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.hidePanoramaUnderCursor()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"showPanoramaUnderCursor",value:function(){this.isHiddenUnderCursor=!1;var e=!0,t=!1,n=void 0;try{for(var i,r=this.tiles[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.showPanoramaUnderCursor()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"setCursorPos",value:function(e){if(!this.isHiddenUnderCursor||!this.cursorPos.equals(e)){this.cursorPos.copy(e);var t=!0,n=!1,i=void 0;try{for(var r,o=this.tiles[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.setCursorPos(e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}}]),t}(P.a.Object3D),ue=new P.a.Vector3(.7071067811865476,0,.7071067811865476),he=function(){function e(t){var n,i=this;a()(this,e),this._getViewDirection=(n=new P.a.Vector3,function(){var e,t,r,o,a=i.props.GCV.Camera.getCurrentCamera().getWorldDirection(n).transformDirection((e=i.currentActive,t=e.rotation,r=e.position,(o=(new P.a.Matrix4).makeRotationFromQuaternion(t)).compose(r,t,new P.a.Vector3(1,1,1)),o.getInverse(o)));return a.set(a.z,-a.y,a.x)});t.GCV;this.props=t,this.setParam=this.setParam.bind(this);this.setParam;this.options={tileWidth:256,tileHeight:256,faceWidth:1024,faceHeight:1024,minLoadingPriority:.1},this._tiles=[],this.currentActive=null,this.currentPath="",this._imageLoader=new ee,this._loadComparator=function(e,t){return t.priority>i.options.minLoadingPriority&&t.lod-e.lod||e.priority-t.priority},this._loadManager=new ae(this._loadComparator)}return l()(e,[{key:"getLoadManager",value:function(){return this._loadManager}},{key:"setParam",value:function(e,t){var n=this.props.GCV.redux,i=n.store,r=n.actions;this.options[e]=t;var o=i.getState().debug[e];o&&o!==t&&i.dispatch(r.debug.setValue(e,t))}},{key:"setPath",value:function(e){this.currentPath=e}},{key:"loadTile",value:function(e){var t=this,n=this.props.GCV,i=this.currentActive;n.HighresPanoSphere&&(n.HighresPanoSphere.setRotationFromQuaternion(i.rotation),n.HighresPanoSphere.rotateOnAxis(ue,Math.PI));var r,o,a,s,l,c,u=function(r){if(i===t.currentActive){var o=n.CubeRender.getSize(),a=1;a=-1===e.lod?o>1024&&n.ENV.browser.mobile&&!n.ENV.debug.DisableHalfSizeHack?n.datum.tour.panoramaTileSize/2:n.datum.tour.panoramaTileSize:n.datum.tour.panoramaTileSize*o/n.datum.tour.panoTileLods[e.lod];var s=e.f,l=a,c=a,u=[l*e.i/o,c*e.j/o,l/o,c/o],h=e.version;if(n.ENV.debug.RenderTilePriorities||n.ENV.debug.RenderTilePosition){var d=[new P.a.Color(1,.5,.5),new P.a.Color(.5,1,.5),new P.a.Color(.5,.5,1),new P.a.Color(1,.5,1),new P.a.Color(.5,1,1),new P.a.Color(1,1,.5)],p=document.createElement("canvas");p.width=n.datum.tour.panoramaTileSize,p.height=n.datum.tour.panoramaTileSize;var f=p.getContext("2d");if(n.ENV.debug.RenderTilePriorities){var m=Math.max(0,Math.min(1,e.priority)),v=d[Math.max(0,e.lod)].clone().multiplyScalar(m);f.fillStyle="#"+v.getHexString()}else if(n.ENV.debug.RenderTilePosition){var g=.5+.5*e.pos.x,y=.5+.5*e.pos.y,b=.5+.5*e.pos.z;f.fillStyle="#"+new P.a.Color(g,y,b).getHexString()}f.fillRect(0,0,512,512);var x=new le(p,e.lod,e.f,e.i,e.j,n.ENV.hidePanoUnderCursor);x.position.copy(e.pos);var w=e.pos.clone();w.x=1===Math.abs(w.x)?0:w.x,w.y=1===Math.abs(w.y)?0:w.y,w.z=1===Math.abs(w.z)?0:w.z,x.lookAt(w),x.scale.set(l/o,l/o,l/o),n.HighresPanoSphere.addTile(x),0===e.lod&&n.CubeRender.renderImage(p,s,u)}else if(h===n.CubeRender.getCubemap().version){var A=new le(r,e.lod,e.f,e.i,e.j,n.ENV.hidePanoUnderCursor);A.position.copy(e.pos);var M=e.pos.clone();M.x=1===Math.abs(M.x)?0:M.x,M.y=1===Math.abs(M.y)?0:M.y,M.z=1===Math.abs(M.z)?0:M.z,A.lookAt(M),A.scale.set(l/o,l/o,l/o),n.HighresPanoSphere.addTile(A),0===e.lod&&n.CubeRender.renderImage(r,s,u)}else O.b.info("Skip old tile!")}},h=(r=t.currentPath,o=-1===e.lod?"":n.datum.tour.panoTileLods[e.lod].toString()+"/",a=e.f,s=e.i,l=e.j,c=n.datum.tour.panoramaTileWebp?".webp":".jpg","".concat(r).concat(o).concat(t.currentActiveId,"/").concat(a,"/").concat(s,"_").concat(l).concat(c)+n.contentVersion),d=new oe(e,function(){return e.parent&&(e.parent.skip=!0),t._tiles.slice(t._tiles.indexOf(e),1),t._imageLoader.load(h).then(u).catch(function(e){O.b.info(e,"Unable to load tile"+h)})});this._loadManager.executeTask(d)}},{key:"tilePosition",value:function(e,t,n,i){var r=.5/i,o=2*(t/i+r)-1,a=-2*(n/i+r)+1,s=new P.a.Vector3;return[function(){return s.set(1,a,o)},function(){return s.set(-1,a,-o)},function(){return s.set(o,1,a)},function(){return s.set(o,-1,-a)},function(){return s.set(o,a,-1)},function(){return s.set(-o,a,1)}][[0,5,1,4,2,3][e]](),s}},{key:"loadTilesOldVersion",value:function(e){var t=this.options.faceWidth/this.options.tileWidth,n=this._getViewDirection();this._tiles=[];for(var i=0;i<6;i++)for(var r=0;r<t;r++)for(var o=0;o<t;o++){var a=this.tilePosition(i,r,o,t),s=a.clone().normalize(),l={lod:-1,f:i,i:r,j:o,pos:a,posNorm:s,priority:s.dot(n),version:e,parent:null,skip:!1};this._tiles.push(l),this.loadTile(l)}}},{key:"getParent",value:function(e,t,n,i){t-=1,n=Math.floor(n/2),i=Math.floor(i/2);for(var r=0;r<this._tiles.length;r++){var o=this._tiles[r];if(o.f===e&&o.lod===t&&o.i===n&&o.j===i)return o}return null}},{key:"loadTilesNewVersion",value:function(e){var t=this.props.GCV,n=t.datum.tour,i=n.panoTileLods,r=n.panoramaTileSize,o=Object(_.c)(t.Config.inside_tile_min_lod,0,i.length-1),a=this.getMaxLod(),s=this._getViewDirection();this._tiles=[];for(var l=o;l<=a;l++)for(var c=i[l]/r,u=0;u<6;u++)for(var h=0;h<c;h++)for(var d=0;d<c;d++){var p=this.tilePosition(u,h,d,c),f=p.clone().normalize(),m={lod:l,f:u,i:h,j:d,pos:p,posNorm:f,priority:f.dot(s),version:e,parent:this.getParent(u,l,h,d),skip:!1};this._tiles.push(m),this.loadTile(m)}}},{key:"getMaxLod",value:function(){var e=this.props.GCV,t=e.datum.tour.panoTileLods;return Object(_.c)(e.Config.inside_tile_max_lod,-1,t.length-1)}},{key:"setSize",value:function(e,t){var n=this.setParam;n("faceWidth",this.options.faceHeight=e||1024),n("tileWidth",this.options.tileHeight=t||256)}},{key:"getPanoramaSize",value:function(){return this.options.faceWidth}},{key:"stop",value:function(){var e=this.props.GCV;this.currentActive=null,this.currentActiveId=null,this._tiles=[],this._loadManager.clear(),e.HighresPanoSphere.clear()}},{key:"setActivePanorama",value:function(e,t,n){var i=this.props.GCV;this.stop(),this.currentActive=t,this.currentActiveId=e,null!==t&&(i.datum.tour.panoTileLods?this.loadTilesNewVersion(n):this.loadTilesOldVersion(n))}},{key:"update",value:function(){this.props.GCV;if(this._tiles.length){var e=this._getViewDirection();for(var t in this._tiles){var n=this._tiles[t];n.priority=n.posNorm.dot(e)}this._loadManager.update()}}}]),e}(),de=(n(236),n(239),n(309),n(310),n(308),n(238),n(311),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),function(){function e(t){a()(this,e),this._buffer=void 0,this._offset=void 0,this._buffer=t,this._offset=0}return l()(e,[{key:"reset",value:function(){this._offset=0}},{key:"parseFloat32",value:function(){var e=this._buffer.slice(this._offset,this._offset+4);return this._offset+=4,new Float32Array(e)[0]}},{key:"parseFloat32Array",value:function(e){var t=new Float32Array(this._buffer,this._offset,e);return this._offset+=4*e,t}},{key:"parseInt32",value:function(){var e=this._buffer.slice(this._offset,this._offset+4);return this._offset+=4,new Int32Array(e)[0]}},{key:"parseInt32Array",value:function(e){var t=new Int32Array(this._buffer,this._offset,e);return this._offset+=4*e,t}},{key:"parseUInt32",value:function(){var e=this._buffer.slice(this._offset,this._offset+4);return this._offset+=4,new Uint32Array(e)[0]}},{key:"parseUInt32Array",value:function(e){var t=new Uint32Array(this._buffer,this._offset,e);return this._offset+=4*e,t}},{key:"parseInt16",value:function(){var e=this._buffer.slice(this._offset,2);return this._offset+=2,new Int16Array(e)}},{key:"parseInt16Array",value:function(e){var t=new Int16Array(this._buffer,this._offset,e);return this._offset+=2*e,t}},{key:"parseUInt16",value:function(){var e=this._buffer.slice(this._offset,2);return this._offset+=2,new Uint16Array(e)[0]}},{key:"parseUInt16Array",value:function(e){var t=new Uint16Array(this._buffer,this._offset,e);return this._offset+=2*e,t}},{key:"parseString",value:function(){for(var e=new Uint8Array(this._buffer,this._offset),t=0;0!==e[t];)t++;return this._offset+=t+1,String.fromCharCode.apply(null,e.subarray(0,t))}},{key:"parseFixedString",value:function(e){for(var t=new Uint8Array(this._buffer,this._offset,e),n=0;0!==t[n];)n++;return this._offset+=e,String.fromCharCode.apply(null,t.subarray(0,n))}}]),e}()),pe=function(){function e(t){a()(this,e),this.props=t,this.geometryCounterOfTrying=0,this.materialsCounterOfTrying=0}return l()(e,[{key:"_setMeshGeometry",value:function(e){var t=e.target.response,n=new de(t),i=n.parseUInt32();100!==i&&110!==i&&O.b.warn("Unsupported mesh version "+i+", current is 110");for(var r=n.parseUInt32(),o=n.parseUInt32(),a=n.parseUInt32(),s=n.parseUInt32(),l=n.parseFloat32Array(5*r),c=n.parseUInt16Array(o),u=[],h=[],d=i>=100?[]:void 0,p=0;p<a;p++){var f={};f.vertexOffset=n.parseUInt32(),f.vertexCount=n.parseUInt32(),f.indexOffset=n.parseUInt32(),f.indexCount=n.parseUInt32(),i>=110&&(f.materialIndex=n.parseUInt32(),f.floorIndex=n.parseUInt32(),-1===d.indexOf(f.floorIndex)&&d.push(f.floorIndex)),u.push(f)}for(var m=0;m<s;m++){var v={};v.texmap=n.parseFixedString(64),h.push(v)}return{verts:l,inds:c,surfaces:u,materials:h,floors:d}}},{key:"_setMaterials",value:function(e){var t=e.target.response,n=new de(t),i=n.parseUInt32();100!==i&&O.b.warn("Unsupported materials version "+i+", current is 100");for(var r=n.parseUInt32(),o=[],a=0;a<r;a++)o.push({name:n.parseString(),texmap:n.parseString()});return o}},{key:"_infinityTry",value:function(e,t){setTimeout(function(){e()},200*t*1.5)}},{key:"_sendGeometryRequest",value:function(e,t,n,i){var r=this,o=(this.props.GCV,new XMLHttpRequest);o.overrideMimeType("text/plain"),o.open("GET",e,!0),o.responseType="arraybuffer",o.onerror=function(){r._infinityTry(function(){r._sendGeometryRequest(e,t,n,i),r.geometryCounterOfTrying++},r.geometryCounterOfTrying)},o.onprogress=function(e){i(e)},o.onload=function(e){if(200===e.target.status){var i=r._setMeshGeometry(e);t(i)}else n(e)},o.send()}},{key:"_sendMaterialsRequest",value:function(e,t,n,i){var r=this,o=(this.props.GCV,new XMLHttpRequest);o.overrideMimeType("text/plain"),o.open("GET",e,!0),o.responseType="arraybuffer",o.onerror=function(){r._infinityTry(function(){r._sendMaterialsRequest(e,t,n,i),r.materialsCounterOfTrying++},r.materialsCounterOfTrying)},o.onprogress=function(e){i(e)},o.onload=function(e){if(200===e.target.status){var i=r._setMaterials(e);t(i)}else n(e)},o.send()}},{key:"loadGeometry",value:function(e,t){var n=this;return new Promise(function(i,r){n._sendGeometryRequest(e,i,r,t)})}},{key:"loadMaterial",value:function(e,t){var n=this;return new Promise(function(i,r){n._sendMaterialsRequest(e,i,r,t)})}},{key:"load",value:function(e){var t=e.onLoad,n=void 0===t?function(){}:t,i=e.onProgress,r=void 0===i?function(){}:i,o=e.onError,a=void 0===o?function(){}:o,s=e.meshUrl,l=e.materialsUrl;Promise.all([this.loadGeometry(s,r),this.loadMaterial(l,r)]).then(function(e){var t=C()(e,2);return{geometry:t[0],materials:t[1]}}).then(n).catch(a)}}]),e}(),fe=(n(61),10),me=[new P.a.Vector3(1,0,0),new P.a.Vector3(-1,0,0),new P.a.Vector3(0,1,0),new P.a.Vector3(0,-1,0),new P.a.Vector3(0,0,1),new P.a.Vector3(0,0,-1)],ve=function e(t,n,i,r,o){a()(this,e),this.a=t,this.b=n,this.c=i,this.normal=r,this.options=o},ge=function e(t,n,i,r,o){a()(this,e),this.parent=t,this.left=n,this.right=i,this.box=r,this.faces=o},ye=function(){function e(){var t,n,i=this;a()(this,e),this.trace=(t=new P.a.Vector3,n=new P.a.Vector3,function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=[],a=[];i.noFloorHack&&(r=null),r=r&&r.sort();for(var s=function(t){var n=i._cache[t],o=n.ray,a=n.floorMask,s=n.hits;if(o.equals(e)&&(!r&&!a||r&&a&&r.length===a.length&&r.filter(function(e,t){return e===a[t]}).length))return i._cache.push(i._cache.splice(t,1)[0]),{v:s}},l=0;l<i._cache.length;++l){var c=s(l);if("object"===M()(c))return c.v}i.root&&a.push(i.root);for(var u=function(){var s=a.pop(),l=e.intersectBox(s.box,t);l&&(s.left&&a.push(s.left),s.right&&a.push(s.right),s.faces&&s.faces.forEach(function(t){var a=i.faces[t];if(null===r||i.version<110||r.includes(String(i.getFaceFloorLevel(a)))){var s=i.verts[a.a],c=i.verts[a.b],u=i.verts[a.c];if(l=e.intersectTriangle(s,c,u,!0,n)){var h={point:(new P.a.Vector3).copy(l),distance:e.origin.distanceTo(l),object:null,faceIndex:t,face:a};o.push(h)}}}))};a.length>0;)u();return o.sort(function(e,t){return e.distance-t.distance}),i._cache.length===i._cacheSize&&i._cache.shift(),i._cache.push({ray:e,floorMask:r,hits:o}),o}),this.FLOOR_LEVEL_MASK=16711680,this.FLOOR_LEVEL_SHIFT=16,this.FACE_FLAGS_MASK=4278190080,this.FACE_FLAGS_SHIFT=24,this.IS_FLOOR_BIT=1,this.version=100,this.verts=[],this.faces=[],this.nodes=[],this.root=null,this.debugMesh=null,this.noFloorHack=!1,this._cache=[],this._cacheSize=fe}return l()(e,[{key:"load",value:function(e){var t,n=this,i=new Promise(function(e,n){t=e}),r=new XMLHttpRequest;return r.onload=function(e){O.b.info("Parsing collision tree..."),n.parse(r.response),t(n)},r.onerror=function(){O.b.info("Unable to load collision tree from URL "+e),Object(D.a)(0).then(function(){n.load(e)}).then(function(){t(n)})},r.overrideMimeType("text/plain"),r.open("GET",e,!0),r.responseType="arraybuffer",r.send(),i}},{key:"parse",value:function(e){var t=new de(e),n=t.parseInt32();this.version=n?100:t.parseInt32();for(var i=n||t.parseInt32(),r=t.parseInt32(),o=t.parseInt32(),a=0;a<i;a++){var s=t.parseFloat32(),l=t.parseFloat32(),c=t.parseFloat32();this.verts[a]=new P.a.Vector3(s,l,c)}for(var u=0;u<r;u++){var h=t.parseInt32(),d=t.parseInt32(),p=t.parseInt32(),f=t.parseFloat32(),m=t.parseFloat32(),v=t.parseFloat32();if(this.version>=110){var g=t.parseInt32();this.faces[u]=new ve(h,d,p,new P.a.Vector3(f,m,v),g)}else this.faces[u]=new ve(h,d,p,new P.a.Vector3(f,m,v))}for(var y=0;y<o;y++)this.nodes[y]=new ge(null,null,null,null,null);for(var b=0;b<o;b++){var x=t.parseInt32(),w=t.parseInt32(),A=t.parseFloat32(),M=t.parseFloat32(),E=t.parseFloat32(),C=t.parseFloat32(),S=t.parseFloat32(),T=t.parseFloat32(),_=t.parseInt32(),L=t.parseInt32Array(_);-1!==x&&(this.nodes[b].left=this.nodes[x],this.nodes[x].parent=this.nodes[b]),-1!==w&&(this.nodes[b].right=this.nodes[w],this.nodes[w].parent=this.nodes[b]),this.nodes[b].box=new P.a.Box3(new P.a.Vector3(A,M,E),new P.a.Vector3(C,S,T)),this.nodes[b].faces=L}if(this.root=this.nodes[0],110===this.version){var k=[];this.faces.forEach(function(e){k.includes(e.options)||k.push(e.options)}),2===k.length&&(this.noFloorHack=!0)}}},{key:"getVersion",value:function(){return this.version}},{key:"isFloorFace",value:function(e){return void 0!==e.options&&0!=((e.options&this.FACE_FLAGS_MASK)>>this.FACE_FLAGS_SHIFT&this.IS_FLOOR_BIT)}},{key:"getFaceFloorLevel",value:function(e){return this.noFloorHack||void 0===e.options?0:(e.options&this.FLOOR_LEVEL_MASK)>>this.FLOOR_LEVEL_SHIFT}},{key:"getFloor",value:function(e){for(var t,n={},i=0,r=me;i<r.length;i++){var o=r[i],a=new P.a.Vector3(Number(e.x),Number(e.y),Number(e.z)),s=new P.a.Ray(a,o),l=this.trace(s);if(l.length){var c=l[0],u=this.getFaceFloorLevel(c.face);n[u]=(n[u]||0)+1,t=n[u]>(n[t]||0)?u:t}}return void 0!==t&&String(t)||t}}]),e}(),be=(n(116),n(8)),xe=n.n(be),we=n(110),Ae=function(e){function t(e){var n;return a()(this,t),(n=u()(this,d()(t).call(this))).props=void 0,n.state=void 0,n.params=void 0,n.cursorTextures=void 0,n.cursorMouse=void 0,n.debugObject=void 0,n.markerMaterial=void 0,n.markerGeometry=void 0,n.updateMarkers=function(){var e=new P.a.Vector3,t=new P.a.Vector3;return function(){var n=this,i=this.props.GCV,r=i.Camera.getCurrentCamera(),o=e.setFromMatrixPosition(r.matrixWorld);this.state.activeMarkers.forEach(function(e){if(!i.ENV.components.inside)return e.userData.visible=!1,e.material.opacity=0,!1;!n.state.mouseOverMinimap&&e.userData.panoramaId===n.state.hoverPanoramaId&&i.InputManager.isMouseInteraction()?e.userData.fadeout=Math.min(n.params.cursorFadeTime,e.userData.fadeout+i.getDeltaTime()):e.userData.fadeout=Math.max(0,e.userData.fadeout-i.getDeltaTime());var r=e.userData.fadeout/n.params.cursorFadeTime;if(n.state.isCursorsVisible&&r>0&&null!==e.material.map?(e.userData.visible=!0,e.material.opacity=n.state.hideProgress*r,e.material.visible=e.material.opacity>0):e.material.visible=e.userData.visible=!1,e.material.visible){var a=e.getWorldPosition(t).sub(o).lengthSq();e.scale.setScalar(.3*Math.pow(a,.25))}})}.bind(this)}.bind(xe()(n))(),n.props=e,n.state={isCursorsVisible:!0,isTransitionsOnClickEnabled:!0,isViewpointZoomEnabled:!0,isIgnoreForInvisiblePanoramas:!0,isMouseInitialized:!1,activeMarkers:[],isHoverFront:!1,hoverPanoramaId:null,mouseOverMesh:!1,mouseOverViewer:!1,mouseOverMinimap:!1,forceUpdate:!1,lastActionTime:0,lastRayDirection:new P.a.Vector3,hideProgress:0},n.params={cursorRenderOrder:100,cursorDefaultIndex:0,cursorMarkerIndex:2,cursorNames:[we.b,we.a,we.c],floorLevel:0,floorBias:.25,cursorFadeTime:.2,hideCursorTimeout:1.5,hideCursorDelay:.5},n.cursorTextures={Arrow:null,Default:null,Marker:null},n.cursorMouse=null,n.onSingleClick=n.onSingleClick.bind(xe()(n)),n.debugObject=null,n.markerMaterial=new P.a.MeshBasicMaterial({color:16777215,blending:P.a.NormalBlending,depthWrite:!1,depthTest:!1,transparent:!0,opacity:0}),n.markerGeometry=new P.a.PlaneGeometry(.5,.5,1,1),n.init(),n}return f()(t,e),l()(t,[{key:"get",value:function(e){return this.state[e]}},{key:"set",value:function(e,t){this.state[e]=t}},{key:"jumpIntoHoverPanorama",value:function(){var e=this.props.GCV;if(this.state.mouseOverMesh){var t=e.Panoramas.getById(this.state.hoverPanoramaId);if(t){var n=this.state.isHoverFront&&t.portal?t.portal:this.state.hoverPanoramaId;e.Transitions.start({cameraMode:L.a.INSIDE,transitionStyle:L.y.FLY,panoramaId:n})}this.state.hoverPanoramaId=null}}},{key:"init",value:function(){var e=this,t=this.props.GCV;this.params.cursorNames.forEach(function(e){(new Image).src=e}),t.ENV.element.addEventListener("mouseover",function(){e.state.mouseOverViewer=!0}),t.ENV.element.addEventListener("mouseout",function(){e.state.mouseOverViewer=!1})}},{key:"spawnMarker",value:function(e,t){var n=this.props.GCV,i=new P.a.Vector3(t.projPos.x,t.projPos.y,t.projPos.z),r=this.markerMaterial.clone(),o=new P.a.Mesh(this.markerGeometry,r);o.material.map=this.cursorTextures.Marker,o.position.copy(i),o.rotateX(-Math.PI/2),o.renderOrder=this.params.cursorRenderOrder,o.userData.fadeout=0,o.userData.visible=!1,o.userData.panorama=t,o.userData.panoramaId=e,this.state.activeMarkers=[].concat(w()(this.state.activeMarkers),[o]),n.Scene.add(o)}},{key:"loadCursorTextures",value:function(){var e=this,t=new Image;t.onload=function(n){e.cursorTextures.Default=new P.a.Texture(t),e.cursorTextures.Default.needsUpdate=!0;var i=e.cursorMouse.material;i.map=e.cursorTextures.Default,i.needsUpdate=!0},t.src=this.params.cursorNames[this.params.cursorDefaultIndex];var n=new Image;n.onload=function(t){e.cursorTextures.Marker=new P.a.Texture(n),e.cursorTextures.Marker.needsUpdate=!0,e.state.activeMarkers.forEach(function(t){t.material.map=e.cursorTextures.Marker,t.material.needsUpdate=!0})},n.src=this.params.cursorNames[this.params.cursorMarkerIndex]}},{key:"autoInit",value:function(){var e=this,t=this.props.GCV;if(t.InputManager.isMouseInitialized()&&!this.state.isMouseInitialized){if(this.state.isMouseInitialized=!0,t.InputManager.addInputListener(this),this.cursorMouse=new P.a.Mesh(this.markerGeometry,this.markerMaterial.clone()),this.cursorMouse.renderOrder=this.params.cursorRenderOrder,t.Scene.add(this.cursorMouse),t.ENV.debug.ShowCursorIntersection){var n=new P.a.Geometry;n.vertices.push(new P.a.Vector3(0,0,0)),n.vertices.push(new P.a.Vector3(0,10,0));var i=new P.a.MeshBasicMaterial({color:16711680});this.debugObject=new P.a.Line(n,i),this.debugObject.renderOrder=this.params.cursorRenderOrder,t.Scene.add(this.debugObject)}if(t.Panoramas.list.forEach(function(t){e.spawnMarker(t.id,t)}),this.loadCursorTextures(),t.ENV.isDebug){var r=t.redux,o=r.store,a=r.actions;o.dispatch(a.debug.addRange("mouse_cursor_fade_delay",{description:"Delay for mouse cursor fadein/fadeout (sec)",min:.1,max:1,value:this.params.cursorFadeTime,step:.1,onChange:function(t){e.params.cursorFadeTime=t}}))}}}},{key:"setMarkersVisibility",value:function(e){this.state.activeMarkers.forEach(function(t){t.visible=e}),this.cursorMouse&&(this.cursorMouse.visible=e)}},{key:"update",value:function(){var e=this.props.GCV;if(this.autoInit(),e.InputManager.isMouseInitialized()){e.InputManager.getMouseMoved()&&e.InputManager.isMouseInteraction()&&(this.state.lastActionTime=e.getTime()),this.state.mouseOverMinimap=e.Minimap.getMouseOver();var t=(e.getTime()-this.state.lastActionTime-this.params.hideCursorTimeout)/this.params.hideCursorDelay;t=Math.min(t,1),t=1-(t=Math.max(t,0)),this.state.hideProgress=t;var n=this.cursorMouse.material;n.opacity=this.state.hideProgress,n.needsUpdate=!0,n.visible=!1,n.color.setRGB(.7,.7,.7);var i=!1,r=null,o=e.Camera.currentMode,a=o&&o.name===L.a.INSIDE,s=o&&o.name===L.a.FLOORPLAN;if(null!==e.Panoramas.activeId&&e.Panoramas.active.isHighlight)return n.visible=!1,void this.state.activeMarkers.forEach(function(e){e.material.visible=!1});var l=e.InputManager.getMousePos(),c=new P.a.Vector2(l.x,l.y);c.x=c.x/(e.ENV.element.offsetWidth*e.ENV.scale)*2-1,c.y=-c.y/(e.ENV.element.offsetHeight*e.ENV.scale)*2+1;var u=new P.a.Raycaster,h=e.Camera.getCurrentCamera();h.updateMatrixWorld(!0),u.setFromCamera(c,h),this.state.lastRayDirection.copy(u.ray.direction);var d=[];if(a)d=e.CollisionTree?e.CollisionTree.trace(u.ray):[];else{var p=e.Floors.getVisible();d=e.CollisionTree?e.CollisionTree.trace(u.ray,p):[]}var f=!1;if(0===d.length&&a){f=!0;d=[{distance:10,point:(new P.a.Vector3).copy(u.ray.direction).multiplyScalar(10).add(u.ray.origin),face:{normal:(new P.a.Vector3).copy(u.ray.direction).multiplyScalar(-1)}}]}if(d.length>0){var m=d[0];i=!0,!this.state.mouseOverMinimap&&e.InputManager.getMousePresented()&&null!==n.map&&(n.visible=n.opacity>0);var v=new P.a.Vector3(0,1,0),g=(new P.a.Vector3).copy(m.face.normal);if(Math.abs(v.dot(g))>.9&&(v=new P.a.Vector3(0,0,1)),e.ENV.debug.ShowCursorIntersection&&this.debugObject){var y=this.debugObject.geometry;y.vertices[0]=new P.a.Vector3(m.point.x,m.point.y,m.point.z),y.vertices[1]=new P.a.Vector3(m.point.x+g.x,m.point.y+g.y,m.point.z+g.z),y.verticesNeedUpdate=!0}var b=new P.a.Vector3;b.crossVectors(v,g).normalize(),v.crossVectors(g,b).normalize();var x=.25*Math.pow(m.distance,.5);b.multiplyScalar(x),v.multiplyScalar(x),g.multiplyScalar(x);var w=new P.a.Matrix4;w.makeBasis(b,v,g),w.setPosition(m.point),this.cursorMouse.matrixAutoUpdate=!1,this.cursorMouse.matrix.copy(w);var A=Math.abs(m.point.y-this.params.floorLevel)<this.params.floorBias;e.CollisionTree.getVersion()>100&&(A=e.CollisionTree.isFloorFace(m.face)),this.state.isHoverFront=f||a&&!A;var M=a;if(this.state.isHoverFront)e.Panoramas.active&&(r=e.Panoramas.getPanoramaIdByPortalId(e.Panoramas.activeId,u.ray.direction,120)),null===r&&(r=e.Panoramas.getFrontId(u.ray.origin,u.ray.direction,!0,!0,120,M));else{var E=s?0:120,C=this.state.isIgnoreForInvisiblePanoramas;r=e.Panoramas.getNearestId(m.point,C,C,!0,E,M)}null!==r&&(n.color.setRGB(1,1,1),this.state.forceUpdate=!1),!this.state.isCursorsVisible&&n.visible&&(n.visible=!1)}this.state.mouseOverMesh!==i&&(i?this.emit("mouseOverMesh"):this.emit("mouseOutMesh")),this.state.mouseOverMesh=i;var S=i?r:null;this.state.hoverPanoramaId!==S&&this.emit("hoverPanorama",S),this.state.hoverPanoramaId=S,this.updateMarkers()}}},{key:"onSingleClick",value:function(e,t,n){var i=this.props.GCV,r=i.Camera.currentMode.name===L.a.INSIDE;if(0===e){this.emit("click",this.state.hoverPanoramaId),i.handleUIVisibility();var o=i.SceneTags.getTagFromCursor();if(o)o.click();else{if(i.SceneTags.resetFocus(),i.ENV.isDebug&&i.InputManager.isMouseInitialized()&&i.InputManager.getKey("ShiftLeft")&&i.Panoramas.active&&this.state.lastRayDirection){var a='\n        {\n          "from": '.concat(i.Panoramas.activeId,',\n          "to": <INSERT_DESTINATION_ID_HERE>,\n          "dir": {\n            "x": ').concat(this.state.lastRayDirection.x,',\n            "y": ').concat(this.state.lastRayDirection.y,',\n            "z": ').concat(this.state.lastRayDirection.z,"\n          }\n        },");return i.Debug.CopyField.set(a),void i.Debug.CopyField.show()}if(this.state.mouseOverMinimap)i.Minimap.handleMouseDown(e,t,n);else if(this.state.isTransitionsOnClickEnabled){if(r&&null===this.state.hoverPanoramaId||i.Camera.is360)return void i.Camera.modes[L.a.INSIDE].addBounce("forward");this.jumpIntoHoverPanorama()}}}}}]),t}(V.a),Me=(n(221),n(86)),Ee=n.n(Me),Ce=(n(158),n(119)),Se=n.n(Ce),Te=(new P.a.Matrix4).makeRotationX(Math.PI/2),_e=new P.a.Texture,Pe=function(){function e(t){a()(this,e),this.props=t,this.visibility=0,this.floors=[],this.aspect=1,this.originalPositions=[]}return l()(e,[{key:"setAspect",value:function(e){this.aspect=e}},{key:"drawAnchor",value:function(e,t,n){e.fillStyle="#00A0E4",e.beginPath(),e.arc(t,n,40,0,2*Math.PI,!1),e.closePath(),e.fill()}},{key:"getFloorplanTexture",value:function(e){var t=null,n=this.props.GCV.Renderer.capabilities.maxTextureSize;if(Object(_.h)(e.width)&&Object(_.h)(e.height)&&e.width<n&&e.height<n)(t=new P.a.Texture(e)).needsUpdate=!0;else{var i=document.createElement("canvas"),r=i.getContext("2d");i.width=Math.min(Object(_.b)(e.width),n),i.height=Math.min(Object(_.b)(e.height),n),r.drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height),t=new P.a.CanvasTexture(r.canvas)}return t}},{key:"addFloor",value:function(e){var t,n=this.props.GCV,i=e.id,r=e.number,o=this._createFloorMesh();if((void 0===e.useUserPlan||e.useUserPlan)&&e.userTextureUrl)(t=o.matrix).set.apply(t,w()(e.userModelFromTexture));else if(e.autoTextureUrl){var a;(a=o.matrix).set.apply(a,w()(e.autoModelFromTexture))}else{var s=e.boundingBox,l=s.max.x-s.min.x,c=s.max.z-s.min.z;o.matrix.copy(Te).multiply((new P.a.Matrix4).makeScale(l,c,1)).setPosition(new P.a.Vector3(-l/2,e.boundingBox.max.y,-c/2))}n.Scene.add(o),o.updateMatrixWorld(!0),this.floors.push(o),o.userData.floorId=i,o.userData.isVisible=!0,o.userData.floorNumber=r,this.originalPositions.push({id:o.userData.floorId,matrix:w()(o.matrix.clone().transpose().toArray())})}},{key:"_loadFloorplan",value:function(){var e=Se()(Ee.a.mark(function e(t,n){var i,r,o,a;return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props.GCV,r=t.textureUrl||(void 0===t.useUserPlan||t.useUserPlan)&&t.userTextureUrl||t.autoTextureUrl,e.prev=2,!r){e.next=17;break}return e.next=6,te.load(r+i.contentVersion);case 6:a=e.sent,e.prev=7,t.textureUrl&&n.matrix.copy(this._getFloorMatrix(t,a)),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return");case 14:o=this.getFloorplanTexture(a),e.next=18;break;case 17:o=_e;case 18:n.material.map=o,e.next=25;break;case 21:e.prev=21,e.t1=e.catch(2),O.b.warn("Unable to load floorplan image: "+r),O.b.error(e.t1);case 25:case"end":return e.stop()}},e,this,[[2,21],[7,11]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=this,t=this.props.GCV;return Promise.all(t.Floors.floors.map(function(t,n){return e._loadFloorplan(t,e.floors[n])}))}},{key:"update",value:function(){var e=this;this.floors.forEach(function(t){t.material.opacity=t.userData.isVisible?Math.min(e.visibility,t.material.opacity+.025):Math.max(0,t.material.opacity-.025),t.material.visible=t.visible=t.material.opacity>0})}},{key:"setVisibleFloors",value:function(e){this.floors.forEach(function(t){t.userData.isVisible=null===e||e.includes(t.userData.floorId)})}},{key:"setVisibility",value:function(e){var t=this.props.GCV;this.visibility=e,t.UserRegions.setFloorplanView(e)}},{key:"resetScreenMatrices",value:function(){this.setFloorplansMatrices(this.originalPositions)}},{key:"setFloorplansMatrices",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.setFloorplanMatrix(n.id,n.matrix)}}},{key:"setFloorplanMatrix",value:function(e,t){var n,i=this.floors.find(function(t){return String(e)===String(t.userData.floorId)});i&&(n=i.matrix).set.apply(n,w()(t))}},{key:"setScreenPosition",value:function(e,t){var n=C()(t,4),i=n[0],r=n[1],o=n[2],a=n[3],s=this.props.GCV,l=this.floors.find(function(t){return String(e)===String(t.userData.floorId)});if(l){var c=s.Camera.getCurrentCamera(),u=s.Camera.screenWidth,h=s.Camera.screenHeight,d=2*i/u-1,p=2*o/u-1,f=2*r/h-1,m=2*a/h-1,v=(new P.a.Matrix4).set(p-d,0,0,d,0,f-m,0,-f,0,0,1,0,0,0,0,1),g=c.projectionMatrixInverse,y=c.matrixWorld.clone().multiply(g).multiply(v),b=l.matrix.elements[13];y.elements[13]=b,l.matrix.copy(y)}}},{key:"getScreenPosition",value:function(e){var t=this.props.GCV,n=this.floors.find(function(t){return String(e)===String(t.userData.floorId)});if(n){var i=new P.a.Vector3(0,0,0),r=new P.a.Vector3(1,1,0),o=t.Camera.getCurrentCamera(),a=(new P.a.Matrix4).copy(o.projectionMatrix).multiply(o.matrixWorldInverse).multiply(n.matrixWorld),s=i.applyMatrix4(a),l=r.applyMatrix4(a);return[Math.round((s.x+1)/2*t.Camera.screenWidth),Math.round(-(s.y+1)/2*t.Camera.screenHeight+t.Camera.screenHeight),Math.round((l.x+1)/2*t.Camera.screenWidth),Math.round(-(l.y+1)/2*t.Camera.screenHeight+t.Camera.screenHeight)]}}},{key:"rotateClockwise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,t=(this.props.GCV,(new P.a.Matrix4).setPosition((new P.a.Vector3).set(-.5,-.5,0))),n=(new P.a.Matrix4).setPosition((new P.a.Vector3).set(.5,.5,0)),i=(new P.a.Matrix4).makeRotationZ(e/180*Math.PI),r=!0,o=!1,a=void 0;try{for(var s,l=this.floors[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c.matrix.multiply(n).multiply(i).multiply(t),c.updateMatrixWorld(!0)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}},{key:"_createFloorMesh",value:function(){var e=new P.a.MeshBasicMaterial({map:_e,transparent:!0,blending:P.a.NormalBlending,depthWrite:!1,depthTest:!1,opacity:0}),t=new P.a.PlaneGeometry(1,1);t.rotateX(Math.PI),t.translate(.5,.5,0),t.computeBoundingBox();var n=new P.a.Mesh(t,e);return n.matrixAutoUpdate=!1,n.renderOrder=10,n.visible=!1,n}},{key:"_getFloorMatrix",value:function(e,t){var n=this.props.GCV.SceneBounds,i=n.max.x-n.min.x,r=n.max.z-n.min.z,o=t.width,a=t.height,s=e.textureMax.x-e.textureMin.x,l=e.textureMax.y-e.textureMin.y;if(0===s||0===l)throw new Error;var c=s/i,u=l/r,h=o/c,d=a/u,p=((o-e.textureMax.x-e.textureMin.x)/c+n.max.x+n.min.x)/2,f=((a-e.textureMin.y-e.textureMax.y)/u+n.max.z+n.min.z)/2;return Te.clone().multiply((new P.a.Matrix4).makeScale(h,d,1)).setPosition(new P.a.Vector3(-h/2+p,e.boundingBox.max.y,-d/2+f))}}]),e}(),Le=function e(t,n,i){a()(this,e),this.name=t,this.weight=n,this.progress=i||0},ke=function(){function e(){a()(this,e),this._summary=0,this._items=[new Le("mesh",3.5),new Le("materials",0),new Le("collision-mesh",.1),new Le("low-res-textures",1),new Le("high-res-textures",0),new Le("low-res-panoramas",0),new Le("high-res-panoramas",0),new Le("floor-plan",0)]}return l()(e,[{key:"add",value:function(e){this._items.push(e)}},{key:"update",value:function(){if(!(this._summary>=100)){for(var e=0,t=0,n=0;n<this._items.length;n++){var i=this._items[n];t+=i.weight,e+=i.weight*i.progress}this._summary=e/t}}},{key:"reset",value:function(){for(var e=0;e<this._items.length;e++)this._items[e].progress=0}},{key:"getSummary",value:function(){return this._summary}},{key:"set",value:function(e,t){var n=this.getItem(e);if(n){if(t===this._summary)return;n.progress=t,this.update()}}},{key:"getProgress",value:function(e){var t=this.getItem(e);return t?t.progress:0}},{key:"getItem",value:function(e){for(var t=0;t<this._items.length;t++)if(this._items[t].name===e)return this._items[t]}},{key:"allDone",value:function(){return 1===this._summary}}]),e}(),Ie=n(147),Oe={uniforms:{tDiffuse:{type:"t",value:null},uTransform:{type:"v4",value:null}},vertexShader:"\n    uniform vec4 uTransform;\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      vec2 pos = position.xy / 2. + 0.5;\n      pos = pos * uTransform.xy + vec2(uTransform.z, uTransform.w);\n      gl_Position = vec4(pos * 2. - 1., 0, 1);\n    }\n  ",fragmentShader:"\n    precision mediump float;\n    uniform sampler2D tDiffuse;\n    varying vec2 vUv;\n    void main() {\n      gl_FragColor = texture2D(tDiffuse, vec2(vUv.x, 1. - vUv.y));\n    }\n  "},De=6,Re=.02,Ne=32,Ve=function(){function e(t){var n,i=this;a()(this,e),this.flushTiles=(n=new P.a.Vector4,function(e){var t=i.props.GCV,r=i._renderTargets[i._currentTarget];i._maxPerFrame=Math.min(i._tilesToRender.length,De),i._maxProcessScore=Math.max(i._maxProcessScore-1,1),i._tilesToRender.length>0&&(i._maxProcessScore=e<Re?Math.min(i._maxProcessScore+4,Ne):Math.max(Math.min(i._lastProcessScore,i._maxProcessScore)-5,1));for(var o=0,a=0;i._tilesToRender.length>0&&o<i._maxPerFrame&&a<i._maxProcessScore;++o){var s=i._tilesToRender[0];i._tilesToRender.splice(0,1);var l=s.image,c=s.faceIndex,u=s.rect,h=i._textureCache[o],d=n.set(u[2],u[3],u[0],u[1]);h.image=l,h.needsUpdate=!0,i.drawImagePass.uniforms.uTransform.value=d,i.drawImagePass.render(t.Renderer,r,{texture:h},c);var p=i._cubeSize*i._cubeSize/2048/2048;a+=d.x*d.x*32*p,i._totalRendered++}i._lastProcessScore=a}),this.props=t;var r=this.props.GCV;this._cubeSize=1024,this._maxPerFrame=1,this._maxProcessScore=1,this._lastProcessScore=1,this._cubeFilter=P.a.LinearFilter,this.options={format:P.a.RGBFormat,magFilter:this._cubeFilter,minFilter:this._cubeFilter,generateMipmaps:!1},this._renderTargets=[null,null],this._currentTarget=0,this.drawImagePass=new Ie.a(Oe);var o=new Image(256,256);this._textureCache=[];for(var s=0;s<De;s++)this._textureCache[s]=new P.a.Texture(o,P.a.UVMapping,P.a.ClampToEdgeWrapping,P.a.ClampToEdgeWrapping,P.a.NearestFilter,P.a.NearestFilter,P.a.RGBFormat);if(this._tilesToRender=[],this._totalRendered=0,r.ENV.isDebug){var l=r.redux;l.store,l.actions}}return l()(e,[{key:"getSize",value:function(){return this._cubeSize}},{key:"setSize",value:function(e){var t=this.props.GCV;if((e=e||1024)>1024&&t.ENV.browser.mobile&&!t.ENV.debug.DisableHalfSizeHack&&(e/=2),this._cubeSize!==e||!this._renderTargets[0]){this._cubeSize=e;for(var n=0;n<this._renderTargets.length;n++)this._renderTargets[n]&&this._renderTargets[n].dispose(),this._renderTargets[n]=new P.a.WebGLRenderTargetCube(this._cubeSize,this._cubeSize,this.options),t.Renderer.setRenderTarget(this._renderTargets[n])}}},{key:"swapTargets",value:function(){this._currentTarget=this._currentTarget?0:1,this._tilesToRender=[]}},{key:"getCubemap",value:function(){return this._renderTargets[this._currentTarget].texture}},{key:"getPreviousCubemap",value:function(){return this._renderTargets[this._currentTarget?0:1].texture}},{key:"renderImage",value:function(e,t,n){var i={image:e,faceIndex:[0,5,1,4,2,3][t],rect:n};this._tilesToRender.push(i)}}]),e}();n(312);function Be(e){var t=new URL(e),n=Number(t.searchParams.get("attempt")||0);return t.searchParams.set("attempt",String(n+1)),t.toString()}var Fe=function(){function e(t){var n,i=this;a()(this,e),this.list=void 0,this.active=void 0,this.activeId=void 0,this.previous=void 0,this.props=void 0,this.listOfIds=void 0,this.portals=void 0,this.currentPath=void 0,this.defaultPanoramaId=void 0,this.ImageLoader=void 0,this.loadManager=void 0,this.loadComparator=void 0,this.load=(n=new P.a.Vector3,function(e,t){var r=i.props.GCV;e.forEach(function(e){var n=e.id,o=e.pos,a=e.rotation,s=e.projPos,l=e.visiblePanoramas,c=e.floorId,u=r.datum.user.panoramas.find(function(t){return t.id===e.id}),h=void 0===u||u.isVisible,d={id:n,position:new P.a.Vector3(o.x,o.y,o.z),rotation:new P.a.Quaternion(a.x,a.y,a.z,a.w),projPos:s?new P.a.Vector3(s.x,s.y,s.z):void 0,tourDataVisiblePanoramas:l&&w()(l),visiblePanoramas:l,floorId:c,isHighlight:!1,isVisible:h};if(t){var p=i.quaternionBetweenVectors(new P.a.Vector3(0,1,0).applyQuaternion(d.rotation),new P.a.Vector3(0,-1,0));d.rotation.multiplyQuaternions(p,d.rotation)}i.list.push(d),i.listOfIds.push(d.id),void 0!==u&&(u.connect&&i.addConnections(n,u.connect),u.disconnect&&i.removeConnections(n,u.disconnect))}),r.datum.user.portals.forEach(function(e){var t=e.from,n=e.to,r=e.dir,o=void 0===r?{x:0,y:0,z:0}:r;(i.portals.find(function(e){return e.id===t})||i.portals[i.portals.push({id:t,list:[]})-1]).list.push({to:n,dir:o})});var o=new P.a.Vector3(0,0,0);r.SceneBounds&&o.copy(r.SceneBounds.getCenter(n)),r.datum.tour.viewpoints.forEach(function(e){var t={id:e.id,position:(new P.a.Vector3).copy(o),projPos:new P.a.Vector3(0,0,0),rotation:new P.a.Quaternion(1,0,0,0),floorId:"__VIEWPOINT__",tourDataVisiblePanoramas:[],visiblePanoramas:[],isHighlight:!0};i.list.push(t),i.listOfIds.push(t.id)})}),this.getNearestId=function(){var e=new P.a.Vector3;return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=i.props.GCV;if(null===i.list)return null;var c=0;void 0!==a&&a>0&&(c=Math.cos(a*Math.PI/360));var u=l.Camera.getCurrentCamera(),h=null,d=1/0,p=i.listOfIds;r&&i.active&&i.active.visiblePanoramas&&(p=i.active.visiblePanoramas);var f=s?null:l.Floors.getVisible();return p.forEach(function(r){var s=i.getById(r);if(s&&(!n||s.isVisible)&&(!o||s!==i.active)&&(null===f||void 0===s.floorId||f.includes(s.floorId))&&!s.isHighlight){var l=t.distanceTo(s.projPos);if(l<d){var p=!0,m=u.getWorldDirection(e),v=(new P.a.Vector3).subVectors(s.projPos,u.position).normalize();if(void 0!==a&&a>0)v.normalize().dot(m.normalize())<c&&(p=!1);p&&(h=r,d=l)}}}),h}}(),this.props=t,this.list=[],this.listOfIds=[],this.portals=[],this.active=null,this.activeId=null,this.previous=null,this.currentPath="",this.defaultPanoramaId=null,this.ImageLoader=new ee,this.loadComparator=function(e,t){return Math.abs(Number(i.activeId)-Number(t.id))-Math.abs(Number(i.activeId)-Number(e.id))},this.loadManager=new ae(this.loadComparator)}return l()(e,[{key:"getLoadManager",value:function(){return this.loadManager}},{key:"setPath",value:function(e){var t=this.props.GCV;this.currentPath=e,t.TileManager.setPath(e)}},{key:"project",value:function(){var e=this.props.GCV;this.list.forEach(function(t){if(void 0===t.projPos){var n=new P.a.Raycaster(t.position,new P.a.Vector3(0,-1,0)),i=e.CollisionTree.trace(n.ray);if(i.length){var r=i[0];t.projPos=(new P.a.Vector3).copy(r.point)}else t.projPos=(new P.a.Vector3).copy(t.position),t.projPos.y=0}})}},{key:"quaternionBetweenVectors",value:function(e,t){var n=e.angleTo(t),i=(new P.a.Vector3).crossVectors(e,t).normalize(),r=(new P.a.Quaternion).setFromAxisAngle(i,n);return r.normalize(),r}},{key:"resetConnections",value:function(e){var t=this.getById(e);t&&(t.visiblePanoramas=w()(t.tourDataVisiblePanoramas))}},{key:"addConnections",value:function(e,t){var n=this.getById(e);if(n&&t){var i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;-1===n.visiblePanoramas.indexOf(l)&&n.visiblePanoramas.push(l)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}}},{key:"removeConnections",value:function(e,t){var n=this.getById(e);if(n&&t){var i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=n.visiblePanoramas.indexOf(l);-1!==c&&n.visiblePanoramas.splice(c,1)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}}},{key:"isPointVisible",value:function(e,t){var n=this.props.GCV,i=(new P.a.Vector3).subVectors(t,e).normalize(),r=new P.a.Raycaster(e,i),o=n.CollisionTree?n.CollisionTree.trace(r.ray):[];if(o.length>0&&o[0].distance+.001<e.distanceTo(t))return!1;return!0}},{key:"updateVisiblePanoramas",value:function(){for(var e=0;e<this.list.length;++e){var t=this.list[e],n=t.position;if(!t.visiblePanoramas){t.visiblePanoramas=[];for(var i=0;i<this.list.length;++i)if(e!==i){var r=this.list[i],o=r.position;this.isPointVisible(n,o)&&t.visiblePanoramas.push(r.id)}t.tourDataVisiblePanoramas=w()(t.visiblePanoramas)}}}},{key:"loadLowRes",value:function(){var e=this,t=this.props.GCV,n=6*Object.keys(this.list).length,i=0,r=[],o=function r(o,a){var s=function(t,n){return new oe({path:t,id:n},function(t){return e.ImageLoader.load(t.path)})}(o,a);return e.loadManager.executeTask(s).then(function(e){return++i,t.LoadingProgress.set("low-res-panoramas",i/n),e}).catch(function(){return Object(D.a)(0).then(function(){return r(Be(o),a)})})};for(var a in this.list)for(var s=this.list[a].id,l=0;l<6;l++){var c=void 0!==t.datum.tour.panoTileLods?t.datum.tour.panoramaTileWebp?"lowres/".concat(s,"/").concat(l,".webp"):"lowres/".concat(s,"/").concat(l,".jpg"):"".concat(s,"/").concat(l,"/lowres.jpg"),u=this.currentPath+c+t.contentVersion;r.push(o(u,s))}return Promise.all(r)}},{key:"setActive",value:function(e){var t=this,n=this.props.GCV,i=n.PanoVersion++,r=n.ActiveCubemap;n.ActiveCubemap=n.PreviousCubemap,n.PreviousCubemap=r,this.previous=this.active,this.active=null!==e?this.getById(e):null,this.activeId=e,this.loadManager.setComparator(this.loadComparator),n.ENV.isDebug&&n.Debug.StatsFrame.updateActivePanorama(e);var o=n.redux,a=o.store,s=o.actions;if(null!==e&&a.dispatch(s.app.setPreloadingState(!0)),n.TileManager.stop(),null===e)return n.TileManager.setActivePanorama(this.activeId,this.active,i),Promise.resolve();n.CubeRender.swapTargets(),n.PreviousCubemap=n.CubeRender.getPreviousCubemap(),n.ActiveCubemap=n.CubeRender.getCubemap(),n.ActiveCubemap.version=i,n.ActiveCubemap.completed=!1,n.LoadingIndicatorTimeout=n.LoadingIndicatorDelay;for(var l=[],c=function e(r,o,a){var s=function(e,n){return new oe({path:e,id:n},function(e){return t.ImageLoader.load(e.path)})}(r,o);return t.loadManager.executeTask(s).then(function(e){i===n.PanoVersion-1&&n.CubeRender.renderImage(e,a,[0,0,1,1],!0)}).catch(function(){return O.b.error("Unable to load panorama face "+r+". New attempt"),Object(D.a)(0).then(function(){return e(Be(r),o,a)})})},u=0;u<6;u++){var h="".concat(this.currentPath).concat(e,"/").concat(u,"/lowres.jpg");void 0!==n.datum.tour.panoTileLods&&(h=n.datum.tour.panoramaTileWebp?"".concat(this.currentPath,"lowres/").concat(e,"/").concat(u,".webp"):"".concat(this.currentPath,"lowres/").concat(e,"/").concat(u,".jpg"));var d=h+n.contentVersion;l.push(c(d,e,u))}return Promise.all(l).then(function(){a.dispatch(s.app.setPreloadingState(!1)),n.TileManager.setActivePanorama(t.activeId,t.active,i),n.ActiveCubemap.completed=!0})}},{key:"getById",value:function(e){return this.list.find(function(t){return t.id===e})}},{key:"getPanoramaIdByPortalId",value:function(e,t,n){var i=0;void 0!==n&&n>0&&(i=Math.cos(n*Math.PI/360));var r=this.portals.find(function(t){return t.id===e});if(!r)return null;var o=null,a=-1/0;return r.list.forEach(function(e){var n=t.dot(e.dir);n>i&&n>a&&(a=n,o=e.to)}),o}},{key:"getNearestIdFromFloor",value:function(e,t){var n=1/0,i=null;return this.list.forEach(function(r){if(r.isVisible&&(null===t||r.floorId===t)){var o=r.position.x-e.x,a=r.position.z-e.z,s=o*o+a*a;s<n&&(n=s,i=r.id)}}),i}},{key:"getFrontId",value:function(e,t,n,i,r,o){var a=this,s=this.props.GCV;if(null!==this.list){var l=0;void 0!==r&&r>0&&(l=Math.cos(r*Math.PI/360));var c=s.Camera.getCurrentCamera(),u=null,h=-1/0,d=o?null:s.Floors.getVisible(),p=this.listOfIds;return n&&this.active&&this.active.visiblePanoramas&&(p=this.active.visiblePanoramas),p.forEach(function(n){var o=a.getById(n);if(o&&o.isVisible&&(!i||o!==a.active)&&(null===d||void 0===o.floorId||d.includes(o.floorId))&&!o.isHighlight){var s=!0,p=(new P.a.Vector3).subVectors(o.projPos,c.position).normalize(),f=0;if(void 0!==r&&r>0){var m=new P.a.Vector2(t.x,t.z).normalize();(f=new P.a.Vector2(p.x,p.z).normalize().dot(m))<l&&(s=!1)}var v=e.distanceTo(o.projPos);if(s){var g=3*f-v;g>h&&(h=g,u=n)}}}),u}}},{key:"getDefaultId",value:function(){var e=this.props.GCV;if(null!==this.defaultPanoramaId){var t=this.defaultPanoramaId;return this.defaultPanoramaId=null,t}var n=e.Camera.getCurrentCamera(),i=new P.a.Raycaster;i.setFromCamera(new P.a.Vector2(0,0),n);var r=e.CollisionTree?e.CollisionTree.trace(i.ray):[];if(r.length>0){var o=r[0];return this.getNearestId(o.point,!0,!1,!0,0)}return this.getNearestId(n.position,!0,!1,!1,0)}},{key:"setDefaultID",value:function(e){this.defaultPanoramaId=e}},{key:"setPanoramaVisibility",value:function(e,t){var n=this.getById(e);n&&(n.isVisible=t)}}]),e}(),ze=function(){function e(t){var n,i,r,o=this;a()(this,e),this.init=(n=new P.a.Vector3,i=new P.a.Vector3,r=new P.a.Vector3(3,2,3),function(){var e=o.props.GCV,t=o.setParam;o.material=new P.a.ShaderMaterial({uniforms:{sTex1:{type:"t",value:null},sTex2:{type:"t",value:null},gFactor1:{type:"1f",value:0},gFactor2:{type:"1f",value:0},gMatrix1:{type:"m4",value:new P.a.Matrix4},gMatrix2:{type:"m4",value:new P.a.Matrix4},gPos1:{type:"v3",value:new P.a.Vector3},gPos2:{type:"v3",value:new P.a.Vector3},gTransparency:{type:"1f",value:0},gEnableHidding:{value:!1},gResolution:{value:new P.a.Vector2},gCursorPos:{value:new P.a.Vector2}},vertexShader:e.ShaderLib.getShaderSource("pano_sphere.vs"),fragmentShader:e.ShaderLib.getShaderSource("pano_sphere.fs")}),e.ENV.hidePanoUnderCursor&&(o.material.defines.HIDE_PANO_UNDER_CURSOR=1),o.material.side=P.a.BackSide,o.material.depthTest=!0,o.material.depthWrite=!1,o.material.needsUpdate=!0,o.material.transparent=!0,o.material.opacity=1;var a=new P.a.BoxGeometry(1,1,1);o.mesh=new P.a.Mesh(a,o.material),o.mesh.frustumCulled=!1,o.mesh.renderOrder=-1/0,o.mesh.visible=!1;var s=e.SceneBounds.getCenter(n),l=e.SceneBounds.getSize(i).add(r);if(o.mesh.position.set(s.x,s.y,s.z),o.mesh.scale.set(l.x,l.y,l.z),e.Scene.add(o.mesh),e.ENV.isDebug){var c=e.redux,u=c.store,h=c.actions;u.dispatch(h.debug.addRange("pano_cube_fade_in",{description:"Panorama bounding cube fade in delay in ms",min:0,max:2e3,value:300,step:100,onChange:function(e){t("TRANSPARENCY_FADE_IN",e)}})),u.dispatch(h.debug.addRange("pano_cube_fade_out",{description:"Panorama bounding cube fade out delay in ms",min:0,max:2e3,value:500,step:100,onChange:function(e){t("TRANSPARENCY_FADE_OUT",e)}}))}}),this.props=t,this.material=null,this.mesh=null,this.isVisible=!1,this.isHiddenUnderCursor=!1,this.transparency=0,this.progress=0,this.set=this.setParam.bind(this),this.TRANSPARENCY_FADE_IN=null,this.TRANSPARENCY_FADE_OUT=null,this.setParam("TRANSPARENCY_FADE_IN",300),this.setParam("TRANSPARENCY_FADE_OUT",500),this.debugMode=!1}return l()(e,[{key:"setParam",value:function(e,t){var n=this.props.GCV.redux,i=n.store,r=n.actions;this[e]=t;var o=i.getState().debug[e];o&&o!==t&&i.dispatch(r.debug.setValue(e,t))}},{key:"toggleDebugMode",value:function(){var e=this.props.GCV;this.debugMode=!this.debugMode,this.material.depthTest=!this.debugMode,this.isVisible&&e.NewFinalModel.setVisible(this.debugMode)}},{key:"setDebug",value:function(e){this.debugMode!==e&&this.toggleDebugMode()}},{key:"setProgress",value:function(e){this.progress=e}},{key:"updateTransparency",value:function(e,t){var n=this.props.GCV;e*=2e3,t*=2e3;var i=Math.min(this.isVisible?this.TRANSPARENCY_FADE_IN:this.TRANSPARENCY_FADE_OUT,t);0!==i?(this.isVisible?this.transparency=(i+e-t)/i:this.transparency=1-e/i,this.transparency=Math.min(this.transparency,1),this.transparency=Math.max(this.transparency,0)):this.isVisible&&e===t?this.transparency=1:this.transparency=0,this.mesh&&(this.mesh.visible=this.transparency>0,this.material.transparent=n.ENV.hidePanoUnderCursor||this.transparency<1)}},{key:"update",value:function(){var e=this.props.GCV;if(this.mesh&&this.mesh.visible&&(null===e.Panoramas.active||null===e.ActiveCubemap||!0===e.ActiveCubemap.completed)){var t=null!==e.ActiveCubemap?e.ActiveCubemap:null,n=null!==e.PreviousCubemap?e.PreviousCubemap:null,i=new P.a.Matrix4,r=new P.a.Matrix4,o=new P.a.Vector3,a=new P.a.Vector3,s=0,l=0,c=this.progress*this.progress;e.Panoramas.active&&(s=c,i.compose(e.Panoramas.active.position,e.Panoramas.active.rotation,new P.a.Vector3(1,1,1)),i.getInverse(i),o.copy(e.Panoramas.active.position)),e.Panoramas.previous&&(l=1-c,r.compose(e.Panoramas.previous.position,e.Panoramas.previous.rotation,new P.a.Vector3(1,1,1)),r.getInverse(r),a.copy(e.Panoramas.previous.position));var u=this.debugMode?.5:this.transparency,h=e.InputManager.getMousePos(),d=new P.a.Vector2(h.x/(e.ENV.element.offsetWidth*e.ENV.scale)*2-1,-h.y/(e.ENV.element.offsetHeight*e.ENV.scale)*2+1);this.material.uniforms.sTex1.value=t,this.material.uniforms.sTex2.value=n,this.material.uniforms.gFactor1.value=s,this.material.uniforms.gFactor2.value=l,this.material.uniforms.gMatrix1.value=i,this.material.uniforms.gMatrix2.value=r,this.material.uniforms.gPos1.value=o,this.material.uniforms.gPos2.value=a,this.material.uniforms.gTransparency.value=u,this.material.uniforms.gResolution.value.set(e.ENV.element.offsetWidth*e.ENV.scale*devicePixelRatio,e.ENV.element.offsetHeight*e.ENV.scale*devicePixelRatio),this.material.uniforms.gCursorPos.value.copy(d),this.material.uniforms.gEnableHidding.value=this.isHiddenUnderCursor&&(!e.Panoramas.active||!e.Panoramas.active.isHighlight),this.material.needsUpdate=!0}}},{key:"hidePanoramaUnderCursor",value:function(){this.isHiddenUnderCursor=!0}},{key:"showPanoramaUnderCursor",value:function(){this.isHiddenUnderCursor=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}}]),e}(),Ue=n(215),je=function(){function e(t){a()(this,e),this.renderer=t,this._enabled=!1,this.scale=10,this.material=new P.a.MeshBasicMaterial,this.material.color.setRGB(0,0,0),this.material.depthWrite=!1,this.material.depthTest=!1,this.material.transparent=!0,this.material.opacity=0,this.material.blending=P.a.NormalBlending,this.geometry=new P.a.PlaneGeometry(2,2),this.mesh=new P.a.Mesh(this.geometry,this.material),this.mesh.renderOrder=1e3,this.mesh.frustumCulled=!1,this.camera=new P.a.OrthographicCamera(-1,1,1,-1,-1,1),this.scene=new P.a.Scene,this.scene.add(this.mesh),this._promise=null,this._resolve=null,this._elapsed=0,this._duration=0,this._startOpacity=this.material.opacity,this._isFade=!0}return l()(e,[{key:"render",value:function(){this._enabled&&this.material.opacity>.01&&this.renderer.render(this.scene,this.camera)}},{key:"show",value:function(e){var t=this;return this._resolve&&this._resolve(),this._enabled=!0,this._elapsed=0,this._duration=e,this._isFade=!1,this._startOpacity=this.material.opacity,this._duration>0?new Promise(function(e){t._resolve=e}):(this.material.opacity=0,Promise.resolve())}},{key:"hide",value:function(e){var t=this;return this._resolve&&this._resolve(),this._enabled=!0,this._elapsed=0,this._duration=e,this._isFade=!0,this._startOpacity=this.material.opacity,this._duration>0?new Promise(function(e){t._resolve=e}):(this.material.opacity=1,Promise.resolve())}},{key:"update",value:function(e){this._resolve&&(this._elapsed+=e,this._isFade?this.material.opacity=Object(_.i)(Math.sin(this._elapsed/this._duration*Math.PI/2),1,this.material.opacity):this.material.opacity=this._startOpacity*Math.cos(this._elapsed/this._duration*Math.PI/2),this.material.opacity=Object(_.c)(0,1,this.material.opacity),this._elapsed>this._duration&&(this._resolve(),this._resolve=null))}}]),e}(),He=function(){function e(t){a()(this,e),this.props=t,this._lastInsideState={panoramaId:null,angles:new P.a.Vector2},this.isTemporaryFloorSelected=!1,this._isTransformPreparation=!1,this.transform=null}return l()(e,[{key:"start",value:function(e){var t=this.props.GCV,n=t.redux,i=n.store,r=n.actions;return!t.state.isPlayerStarted||t.Camera.inTransform||this._isTransformPreparation?Promise.resolve():(i.dispatch(r.app.setCameraInTransition(!0)),this._isTransformPreparation=!0,this.setAnimation(e))}},{key:"isInTransition",value:function(){return this.props.GCV.Camera.inTransform||this._isTransformPreparation}},{key:"setMode",value:function(e){var t=this,n=this.props.GCV,i=n.redux,r=i.store,o=i.actions,a=L.a.DOLLHOUSE,s=L.a.FLOORPLAN,l=L.a.ATTRACTION,c=L.a.INSIDE,u=L.a.OUTDOOR,h=Boolean(n.datum.tour.outdoorMesh),d=function(){},p=new Promise(function(e){d=function(){t._isTransformPreparation=!1,e()}}),f=void 0;switch(e.cameraMode=e.cameraMode===a&&n.ENV.isAttractionMode?l:e.cameraMode,[n.Camera.currentMode.name,e.cameraMode].includes(u)&&(e.needTransition=!0),n.Camera.currentMode.name===c&&(n.Camera.is360?this._lastInsideState.panoramaId&&void 0===e.panoramaId&&(e.panoramaId=this._lastInsideState.panoramaId,e.angles=new P.a.Vector2(this._lastInsideState.angles.x,this._lastInsideState.angles.y)):(this._lastInsideState.panoramaId=n.Panoramas.activeId,this._lastInsideState.angles.copy(n.Camera.getState().angles))),e.cameraMode){case s:if(n.isStagedMesh()&&h&&n.setStagedMesh(!1),n.Floors.floors.length>1){var m=n.Floors.visibleList;n.Floors.visibleList||(m=[n.Floors.getUpperId()],this.isTemporaryFloorSelected=!0),n.Floors.setVisible(m)}else n.Floors.setVisible(null);n.Camera.setMode(s,e),d(),n.Panoramas.setActive(null),f=0,r.dispatch(o.mode.setMode(s)),r.dispatch(o.floors.selectFloor(n.Floors.visibleList));break;case c:if(!n.ENV.components.inside&&!e.is360)return d(),r.dispatch(o.app.setCameraInTransition(!1)),p;if(!e.panoramaId){var v;if(null===this._lastInsideState.panoramaId)v=n.datum.user.positions.find(function(e){return e.id===n.datum.user.defaultPositionId});else v=this._lastInsideState;v?(e.angles=new P.a.Vector2(v.angles.x,v.angles.y),e.panoramaId=v.panoramaId):e.panoramaId=n.Panoramas.getDefaultId()}var g=e.panoramaId,y=n.Panoramas.getById(g);y?n.Panoramas.setActive(g).then(function(){void 0!==y.floorId&&(null===n.Floors.visibleList&&(t.isTemporaryFloorSelected=!0),n.Floors.setVisible([y.floorId])),e.position=n.Panoramas.active.position,y.isHighlight&&e.angles&&(e.angles.x+=.001),n.Camera.setMode(c,e),r.dispatch(o.mode.setMode(c)),r.dispatch(o.app.setActivePanoramaId(g)),void 0!==y.floorId&&r.dispatch(o.floors.selectFloor([y.floorId])),d()}):(console.log("There is no panorama: ",g),r.dispatch(o.app.setCameraInTransition(!1)),d());break;case u:if(d(),!n.setStagedMesh(!0)){r.dispatch(o.app.setCameraInTransition(!1));break}this.isTemporaryFloorSelected&&(n.Floors.setVisible(null),this.isTemporaryFloorSelected=!1),n.Camera.setMode(u,e),n.Panoramas.setActive(null),r.dispatch(o.mode.setMode(u)),r.dispatch(o.floors.selectFloor(n.Floors.visibleList));break;case a:n.isStagedMesh()&&h&&(n.setStagedMesh(!1),n.NewFinalModel.updateMaterials()),this.isTemporaryFloorSelected&&(n.Floors.setVisible(null),this.isTemporaryFloorSelected=!1),n.Camera.setMode(a,e),n.Camera.currentMode.updateLimits(),d(),n.Panoramas.setActive(null),r.dispatch(o.mode.setMode(a)),r.dispatch(o.floors.selectFloor(n.Floors.visibleList));break;case l:n.isStagedMesh()&&h&&(n.setStagedMesh(!1),n.NewFinalModel.updateMaterials()),this.isTemporaryFloorSelected&&(n.Floors.setVisible(null),this.isTemporaryFloorSelected=!1),n.Camera.setMode(l,e),d(),n.Panoramas.setActive(null),r.dispatch(o.mode.setMode(a)),r.dispatch(o.floors.selectFloor(n.Floors.visibleList));break;default:console.log("Camera mode is unknown: "+e.cameraMode),d()}return n.NewFinalModel&&n.NewFinalModel.setHiddenFloorsOpacity(f),p}},{key:"setAnimation",value:function(e){var t=this,n=this.props.GCV,i=L.y.FLY,r=L.y.FADE,o=L.y.INSTANT,a=L.y.FLY_FADE,s=e.transitionStyle||i,l=0,c=e.panoramaId,u=n.Panoramas.getById(c);switch(e.is360=Boolean(u&&u.isHighlight),n.Panoramas.activeId!==e.panoramaId&&(n.Camera.is360||e.is360)&&(s=r),s){case i:return n.Camera.setInstantTransition(!1),this.setMode(e).then(function(){return l=n.Camera.time||0,n.TransitionFade.show(l),n.Camera.startTransform()});case r:return n.Camera.setInstantTransition(!0),n.TransitionFade.hide(n.Config.fade_time).then(function(){return t.setMode(e)}).then(function(){return n.Camera.startTransform(),n.TransitionFade.show(n.Config.fade_time)});case o:return n.Camera.setInstantTransition(!0),Promise.all([n.TransitionFade.show(.3),this.setMode(e)]).then(function(){return n.Camera.startTransform()});case a:return n.Camera.setInstantTransition(!1),this.setMode(e).then(function(){return n.Camera.startTransform(),l=n.Camera.time||0,n.TransitionFade.hide(l/2)}).then(function(){return n.TransitionFade.show(l/2)});default:return console.log("Transition style is unknown: "+s),Promise.resolve()}}}]),e}(),Ge=n(162),We=(n(194),function(){function e(t){var n=this;a()(this,e),this._modes={0:"perspective",1:"ortho"},this.updateAngles=function(e){if(n.isSmooth)if(n.desiredAngles.distanceTo(n.angles)>.01){var t=n.angles.x-n.desiredAngles.x,i=n.angles.y-n.desiredAngles.y;Math.abs(t)<Math.abs(n.rotationSpeed.x*e)?n.angles.x=n.desiredAngles.x:n.angles.x-=n.rotationSpeed.x*e,Math.abs(i)<Math.abs(n.rotationSpeed.y*e)?n.angles.y=n.desiredAngles.y:n.angles.y-=n.rotationSpeed.y*e}else n.isSmooth=!1;else n.angles.copy(n.desiredAngles)},this.props=t;var i=this.props.GCV;this.screenWidth=1e3,this.screenHeight=1e3,this.camera=void 0,this.projectionMode=void 0,this.zoom=1,this.basis=[new P.a.Vector3(1,0,0),new P.a.Vector3(0,1,0),new P.a.Vector3(0,0,1)],this.target=new P.a.Vector3,this.distance=20,this.angles=new P.a.Vector2(45,-45),this.isSmooth=!1,this.rotationDuration=0,this.progress=0,this.desiredAngles=new P.a.Vector2(45,-45),this.rotationSpeed=new P.a.Vector2(0,0),this.sceneBounds=new P.a.Box3(new P.a.Vector3(-1,-1,-1),new P.a.Vector3(1,1,1)),this.setProjectionMode(i.Config.minimap_default_projection),this._centerOffset=0,this._desiredCenterOffset=0,this._startCenterOffset=0,this._needsProjectionUpdate=!1}return l()(e,[{key:"setSceneBounds",value:function(e){this.sceneBounds=e}},{key:"setConfig",value:function(e){var t=this.props.GCV;this.zoom=t.Config.minimap_default_zoom}},{key:"setZoom",value:function(e){var t=this.props.GCV;this.zoom=Object(_.c)(e,t.Config.minimap_min_zoom,t.Config.minimap_max_zoom),this._needsProjectionUpdate=!0}},{key:"setTarget",value:function(e){this.target.copy(e)}},{key:"setProjectionMode",value:function(e){switch(this.projectionMode=this._modes[e],this.projectionMode){case"perspective":this.camera=new P.a.PerspectiveCamera(120,1,1,100);break;case"ortho":this.camera=new P.a.OrthographicCamera(-1,1,1,-1,0,1);break;default:console.log("Unsupported minimap projection mode: "+e)}}},{key:"getCurrentCamera",value:function(){return this.camera}},{key:"onWindowResize",value:function(e,t){this.screenWidth=e,this.screenHeight=t,this._needsProjectionUpdate=!0}},{key:"setDesiredAngles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.desiredAngles.x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.desiredAngles.y,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.desiredAngles.set(Object(_.d)(e),Object(_.d)(t)),this.isSmooth|=n;var i=this.angles.x-this.desiredAngles.x,r=this.angles.y-this.desiredAngles.y;Math.abs(i)>180&&(this.angles.x-=360*Math.sign(i)),Math.abs(r)>180&&(this.angles.y-=360*Math.sign(r)),this.rotationSpeed.copy(this.angles),this.rotationSpeed.sub(this.desiredAngles);var o=this.rotationSpeed.length();this.rotationDuration=o/180,this.rotationSpeed.setLength(180),this.progress=0}},{key:"getDuration",value:function(){return this.rotationDuration}},{key:"updateView",value:function(e){this.updateAngles(e),Object(_.e)(this.basis,this.angles);var t=new P.a.Vector3,n=new P.a.Vector3;"perspective"===this.projectionMode?(n.copy(this.target),t.copy(this.basis[2]).multiplyScalar(-this.distance).add(this.target)):(t.copy(this.target),n.addVectors(this.target,this.basis[2])),this.camera.position.copy(t),this.camera.lookAt(n)}},{key:"setDesiredCenterOffset",value:function(e){this._desiredCenterOffset=e,Math.abs(this._desiredCenterOffset-this._centerOffset)>.01&&(this._startCenterOffset=this._centerOffset,this._needsProjectionUpdate=!0)}},{key:"updateProjection",value:function(e){if(this._needsProjectionUpdate){this._needsProjectionUpdate=Math.abs(this._desiredCenterOffset-this._centerOffset)>.01,this.progress+=e/this.rotationDuration,this._centerOffset=Object(_.i)(this._startCenterOffset,this._desiredCenterOffset,Object(_.c)(this.progress,0,1));var t=this.props.GCV,n=.5*this.sceneBounds.getSize(new P.a.Vector3).length(),i=this.screenWidth/this.screenHeight;if("perspective"===this.projectionMode){var r=t.Config.minimap_fov,o=t.Config.minimap_perspective_near*n,a=t.Config.minimap_perspective_far*n,s=o*Math.tan(.5*r*Math.PI/180)*this.zoom*this.screenHeight/400,l=s*i,c=s*this._centerOffset;this.camera.projectionMatrix.makePerspective(-l,l,s+c,-s+c,o,a),this.camera.projectionMatrixInverse.getInverse(this.camera.projectionMatrix)}else{var u=void 0,h=void 0;i>1?u=(h=n*this.zoom)*i:h=(u=n*this.zoom)/i;var d=h*this._centerOffset;this.camera.projectionMatrix.makeOrthographic(-u,u,h+d,-h+d,-n,n),this.camera.projectionMatrixInverse.getInverse(this.camera.projectionMatrix)}}}}]),e}()),Qe=.1,Ye=.5,Xe=.11,Ke=.1,qe=4.5,Je=function(){function e(t){var n,i,r,o,s,l,c,u=this;a()(this,e),this.handleMouseDown=(n=new P.a.Raycaster,i=new P.a.Vector2,function(e,t,r){var o=u.props.GCV,a=o.ENV.element.offsetHeight;i.x=(t-u.rect.x)/u.rect.z*2-1,i.y=-(r-a+u.rect.y+u.rect.w)/u.rect.w*2+1,n.setFromCamera(i,u.Camera.getCurrentCamera());var s=o.Panoramas.active?o.Panoramas.active.floorId:void 0,l=o.CollisionTree?o.CollisionTree.trace(n.ray,[s]):[];if(l.length){var c=l[0],h=o.Panoramas.getNearestId(c.point,!0,!1,!0,360,!1),d=L.y.FLY_FADE;o.Panoramas.active&&o.Panoramas.active.visiblePanoramas&&-1!==o.Panoramas.active.visiblePanoramas.indexOf(h)&&(d=L.y.FLY),o.Transitions.start({cameraMode:L.a.INSIDE,transitionStyle:d,panoramaId:h})}}),this.update=(r=new P.a.Vector3,o=new P.a.Vector3,new P.a.Vector3,s=new P.a.Vector4,l=new P.a.Vector4,function(e){if(u.mesh){var t=u.props.GCV,n=t.Camera.getCurrentCamera().getWorldPosition(r),i=t.Camera.getCurrentCamera().getWorldDirection(o),a=t.Panoramas.active?t.Panoramas.active.floorId:void 0,c=e/Ye,h=u.mesh.children,d=!0,p=!1,f=void 0;try{for(var m,v=h[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var g=m.value;g.renderOrder=g.userData.centroid.distanceTo(u.Camera.getCurrentCamera().position);var y=g.material;y.transparent&&(g.renderOrder=-g.renderOrder);var b=void 0===a||y.userData.floorId===a;y.opacity=b?Math.min(y.opacity+c,1):Math.max(y.opacity-c,0),y.uniforms.gOpacity.value=y.opacity,y.visible=y.opacity>0,y.transparent=y.opacity<1,y.depthWrite=b?y.opacity>Xe+Ke:y.opacity>1-Ke}}catch(e){p=!0,f=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}if(!u.renderTarget){var x=devicePixelRatio;u.renderTarget=new P.a.WebGLRenderTarget(u.rect.z*x,u.rect.w*x,{minFilter:P.a.NearestFilter,magFilter:P.a.NearestFilter,wrapS:P.a.ClampToEdgeWrapping,wrapT:P.a.ClampToEdgeWrapping,format:P.a.RGBAFormat,stencilBuffer:!1,depthBuffer:!0}),u.renderPlane=new P.a.Mesh(new P.a.PlaneGeometry(2,2,1,1),new P.a.ShaderMaterial({uniforms:{uTexture:{value:u.renderTarget.texture},uOpacity:{value:1},uFadeWidth:{value:40},uVisibleRegion:{value:new P.a.Vector4(0,50,0,40)},uSize:{value:new P.a.Vector2(u.rect.z,u.rect.w)}},vertexShader:"\n              varying vec2 vUv;\n\n              void main() {\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);\n                vUv = uv;\n              }\n              ",fragmentShader:"\n              varying vec2 vUv;\n\n              uniform sampler2D uTexture;\n              uniform float uOpacity;\n              uniform float uFadeWidth;\n              uniform vec4 uVisibleRegion;\n              uniform vec2 uSize;\n\n              void main() {\n                vec2 uv = (vUv - 0.5) * uSize;\n                vec2 halfSize = (uSize - uVisibleRegion.xy - uVisibleRegion.zw) / 2.;\n                float transparency = length(max(abs(uv - (uVisibleRegion.xy - uVisibleRegion.zw) / 2.) - halfSize, vec2(0)));\n                gl_FragColor = texture2D(uTexture, vUv);\n                gl_FragColor.a *= smoothstep(uFadeWidth, 0., transparency) * uOpacity;\n                // gl_FragColor = vec4(smoothstep(uFadeWidth, 0., transparency));\n              }\n            ",transparent:!0})),u.renderPlane.renderOrder=3,u.backgroundRenderPlane=new P.a.Mesh(new P.a.PlaneGeometry(2,2,1,1),new P.a.ShaderMaterial({uniforms:{uOpacity:{value:1},uRect:{value:(new P.a.Vector4).copy(u.rect)},uRound:{value:qe},uDpr:{value:devicePixelRatio}},vertexShader:"\n              varying vec2 vUv;\n\n              void main() {\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);\n                vUv = uv;\n              }\n              ",fragmentShader:"\n              varying vec2 vUv;\n              uniform float uOpacity;\n              uniform vec4 uRect;\n              uniform float uRound;\n              uniform float uDpr;\n\n              void main() {\n                vec2 coord = abs((vUv - 0.5) * uRect.zw);\n                float factor = smoothstep(\n                  uRound,\n                  uRound + 2. / uDpr,\n                  length(max(vec2(0), coord + uRound - (uRect.zw * 0.5)))\n                );\n                gl_FragColor = vec4(0, 0, 0, 1. - factor) * uOpacity;\n              }\n            ",transparent:!0})),u.renderScene=new P.a.Scene,u.renderScene.add(u.backgroundRenderPlane),u.renderScene.add(u.renderPlane),u.renderCamera=new P.a.OrthographicCamera(-1,1,1,-1,0,1)}if(u.isForceMode)u.fadeOpacity=u.isVisible?1:0;else{u.fadeOpacity=u.isVisible?Math.min(u.fadeOpacity+e/L.P,1):Math.max(u.fadeOpacity-e/L.P,0);var w=u.isVisible?u.targetRect:s.set(u.targetRect.x,u.targetRect.y,0,0),A=l.copy(w).sub(u.rect),M=A.length();if(M<Qe)u.transitionExpired=1/0;else{u.transitionExpired===1/0&&(u.transitionExpired=0);var E=A.multiplyScalar(1/(L.P-u.transitionExpired)).multiplyScalar(e);M<E.length()?(u.rect.copy(w),u.transitionExpired=1/0):u.rect.add(E),u.updateResources(),u.transitionExpired+=e}}var C=u.renderPlane.material,S=u.backgroundRenderPlane.material;C.uniforms.uOpacity.value=u.fadeOpacity,C.visible=u.fadeOpacity>0,S.uniforms.uOpacity.value=.5*u.fadeOpacity,S.visible=u.fadeOpacity>0,i.set(-i.x,0,-i.z).normalize();var T=n.clone(),_=(new P.a.Vector3).addVectors(T,i);if(u.Camera.setDesiredCenterOffset("Camera"===u.rotationMode?t.Config.minimap_center_offset:0),"Camera"===u.rotationMode){if(t.Camera.currentMode.name===L.a.INSIDE){var k=Math.atan2(i.x,i.z)/Math.PI*180-180,I="floorplan"===u.viewMode?-89:-45;u.Camera.setDesiredAngles(k,I,u.wasViewChanged)}}else{var O="floorplan"===u.viewMode?-89:-45;u.Camera.setDesiredAngles(180,O,u.wasViewChanged)}u.wasViewChanged=!1,u.Camera.setTarget(T),u.floorPlans.forEach(function(t){t.userData.isVisible=void 0===a||t.userData.floorId===a,t.material.opacity=t.userData.isVisible&&"floorplan"===u.viewMode?Math.min(1,t.material.opacity+e/u.Camera.getDuration()):Math.max(0,t.material.opacity-e/u.Camera.getDuration()),t.material.visible=t.visible=t.material.opacity>0}),u.avatar.scale.set(u.Camera.zoom,u.Camera.zoom,u.Camera.zoom),u.avatarBody.scale.set(1,1/u.Camera.zoom,1),u.avatarBody.position.y=(t.Config.minimap_height_offset/2-.05)/u.Camera.zoom,u.avatar.position.copy(T),u.avatar.lookAt(_),u.Camera.updateView(e),u.Camera.updateProjection(e)}}),this.render=(c=new P.a.Vector2,function(){if(this.mesh&&!(!this.isVisible&&this.fadeOpacity<.001||this.renderTarget.width<1||this.renderTarget.height<1)){var e=this.props.GCV.Renderer,t=devicePixelRatio;if(e.setRenderTarget(this.renderTarget),e.clear(!0,!0),e.render(this.minimapScene,this.getCurrentCamera()),"3d"===this.viewMode){var n=this.avatar.material,i=this.avatarBody.material;this.avatar.material=this.avatar.userData.zfailMaterial,this.avatarBody.material=this.avatarBody.userData.zfailMaterial,e.render(this.avatar,this.getCurrentCamera()),this.avatar.material=n,this.avatarBody.material=i}e.setRenderTarget(null);var r=e.getSize(c);e.setViewport(this.rect.x/t,this.rect.y/t,this.rect.z,this.rect.w),e.setScissor(this.rect.x/t,this.rect.y/t,this.rect.z+20,this.rect.w),e.render(this.renderScene,this.renderCamera),e.setViewport(0,0,r.width,r.height),e.setScissorTest(!1)}}),this.props=t,this.viewMode=t.GCV.datum.user.minimap.mode,this.rotationMode="floorplan"===this.viewMode?"Scene":"Camera",this.isVisible=!1,this.isForceMode=!1,this.fadeOpacity=0,this.rect=new P.a.Vector4(0,0,400,300),this.targetRect=new P.a.Vector4(0,0,400,300),this.Camera=new We(t),this.mesh=void 0,this.avatar=void 0,this.minimapScene=new P.a.Scene,this.panoMarkers=[],this.sceneBounds=new P.a.Box3,this.isMouseOver=!1,this.renderTarget=null,this.renderPlane=null,this.renderScene=new P.a.Scene,this.wasViewChanged=!1,this.floorPlans=[],this.transitionExpired=1/0}return l()(e,[{key:"addCallbacks",value:function(){}},{key:"init",value:function(){var e=this,t=this.props.GCV;this.addCallbacks(),this.Camera.setConfig(t.Config),this.Camera.setSceneBounds(this.sceneBounds),this.Camera.onWindowResize(this.rect.z,this.rect.w);var n=t.NewFinalModel,i=(n.mesh.children[0].geometry,[]);n.simpleMaterials.forEach(function(e,n){var r=e.clone();r.map=e.map,r.uniforms.sTexMain.value=r.map,r.userData={floorId:t.NewFinalModel.surfaces[n].floorIndex},i.push(r),e.addEventListener("updateTexture",function t(n){r.map=n.tex,r.uniforms.sTexMain.value=r.map,e.removeEventListener("updateTexture",t)})});var r=t.Renderer.context;this.mesh=new P.a.Object3D;for(var o=function(n){var o=t.NewFinalModel.mesh.children[n],a=new P.a.Mesh(o.geometry,i[n]);a.userData.indexOffset=o.userData.indexOffset,a.userData.indexCount=o.userData.indexCount,a.userData.vertexOffset=o.userData.vertexOffset,a.userData.bbox=o.userData.bbox,a.userData.centroid=o.userData.centroid,e.mesh.add(a),a.onBeforeRender=function(e,t,n,i,o,s){for(var l in i.attributes){var c=i.attributes[l];"position"===l?c.offset=5*a.userData.vertexOffset:"uv"===l&&(c.offset=3+5*a.userData.vertexOffset)}if(o.program){var u=o.program.getAttributes();r.vertexAttribPointer(u.position,3,r.FLOAT,!1,20,20*a.userData.vertexOffset),r.vertexAttribPointer(u.uv,2,r.FLOAT,!1,20,12+20*a.userData.vertexOffset)}i.drawRange.start=a.userData.indexOffset,i.drawRange.count=a.userData.indexCount},a.frustumCulled=!1},a=0;a<t.NewFinalModel.mesh.children.length;a++)o(a);function s(e){var t=new Image,n=new P.a.Texture(t);return t.onload=function(){n.needsUpdate=!0},t.crossOrigin="Anonymous",t.src=e,n}var l=s(we.d),c=s(we.f),u=t.Config.minimap_avatar_scale,h=new P.a.PlaneGeometry(u,u,1,1).rotateX(-Math.PI/2),d=new P.a.MeshBasicMaterial({map:l,depthWrite:!1,depthTest:!0,transparent:!0});this.avatar=new P.a.Mesh(h,d),this.avatar.userData.zfailMaterial=new P.a.MeshBasicMaterial({map:c,depthWrite:!1,depthFunc:P.a.GreaterDepth,transparent:!0}),this.avatar.renderOrder=1,this.avatarBody=new P.a.Mesh(new P.a.CylinderGeometry(.1,.1,-t.Config.minimap_height_offset),new P.a.MeshBasicMaterial),this.avatarBody.userData.zfailMaterial=new P.a.MeshBasicMaterial({color:11968097,depthWrite:!1,depthFunc:P.a.GreaterDepth}),this.avatar.add(this.avatarBody);var p=new Image,f=new P.a.Texture(p,null,null,null,P.a.NearestFilter,P.a.NearestFilter);p.onload=function(){f.needsUpdate=!0},p.crossOrigin="Anonymous",p.src=we.b;var m=new P.a.PlaneGeometry(.5,.5,1,1).rotateX(-Math.PI/2),v=new P.a.MeshBasicMaterial({map:f,color:(new P.a.Color).setRGB(0,.5,1),depthWrite:!1,depthTest:!1,transparent:!0});t.Panoramas.list.forEach(function(t){var n=new P.a.Mesh(m,v);n.frustumCulled=!1,n.position.copy(t.position),e.panoMarkers.push(n)}),this.minimapScene.add(this.mesh),this.minimapScene.add(this.avatar),this.panoMarkers.forEach(function(e){})}},{key:"setTargetRect",value:function(e,t){var n=e.x,i=void 0===n?this.targetRect.x:n,r=e.y,o=void 0===r?this.targetRect.y:r,a=e.z,s=void 0===a?this.targetRect.z:a,l=e.w,c=void 0===l?this.targetRect.w:l;this.targetRect.set(i,o,s,c).floor(),t&&(this.rect.copy(this.targetRect),this.updateResources())}},{key:"updateResources",value:function(){if(this.Camera.onWindowResize(this.rect.z,this.rect.w),this.renderPlane){this.renderPlane.material.uniforms.uSize.value.set(this.rect.z,this.rect.w);var e=devicePixelRatio,t=this.backgroundRenderPlane.material;t.uniforms.uRect.value.copy(this.rect),t.uniforms.uDpr.value=e}if(this.renderTarget){var n=devicePixelRatio;this.renderTarget.setSize(this.rect.z*n,this.rect.w*n)}}},{key:"setVisibility",value:function(e,t){var n=this.props.GCV.redux,i=n.store,r=n.actions;this.isVisible=e,void 0!==t&&(i.dispatch(r.minimap.setVisibility(e)),this.isVisible=e,this.isForceMode=t)}},{key:"setViewMode",value:function(e){var t=this.props.GCV.redux,n=t.store,i=t.actions;n.getState().app.ENV.components.minimap&&(n.dispatch(i.minimap.setViewMode(e)),this.viewMode!==e&&(this.wasViewChanged=!0),this.viewMode=e)}},{key:"setRotationMode",value:function(e){var t=this.props.GCV.redux,n=t.store;t.actions;n.getState().app.ENV.components.minimap&&(this.rotationMode=e)}},{key:"setSceneBounds",value:function(e){this.props.GCV;this.sceneBounds.copy(e),this.Camera.setSceneBounds(e)}},{key:"handleMouseWheel",value:function(e){this.Camera.setZoom(this.Camera.zoom*Math.pow(1.3,e))}},{key:"getCurrentCamera",value:function(){this.props.GCV;return this.Camera.getCurrentCamera()}},{key:"setupFloorplan",value:function(){var e=this.props.GCV,t=!0,n=!1,i=void 0;try{for(var r,o=e.FloorPlanController.floors[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value,s=a.material.clone(),l=a.geometry,c=new P.a.Mesh(l,s);c.matrixAutoUpdate=!1,c.matrix.copy(a.matrix),c.updateMatrixWorld(!0),c.userData.floorId=String(a.userData.floorId),c.userData.isVisible=!0,c.userData.floorNumber=a.userData.floorNumber,c.material.opacity=1,c.material.visible=!0,this.minimapScene.add(c),this.floorPlans.push(c)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"getMouseOver",value:function(){var e=this.props.GCV,t=e.InputManager.getMousePos(),n=this.rect.x,i=this.rect.y,r=this.rect.z,o=this.rect.w,a=e.ENV.element.offsetHeight,s=a-i-o,l=a-i,c=n,u=n+r,h=t.x>=c&&t.x<=u,d=t.y>=s&&t.y<=l;return h&&d}},{key:"setListeners",value:function(){this.props.GCV}}]),e}(),Ze=n(28),$e=n.n(Ze),et=function(){function e(){a()(this,e),this.position=void 0,this.rotation=void 0,this.scale=void 0,this.projection=void 0,this.position=new P.a.Vector3,this.rotation=new P.a.Quaternion,this.scale=new P.a.Vector3(1,1,1),this.projection=new P.a.Matrix4,this.lerpTransform=this.lerpTransform.bind(this)}return l()(e,[{key:"set",value:function(e,t){return e.decompose(this.position,this.rotation,this.scale),this.projection.copy(t),this}},{key:"copy",value:function(e){return this.position.copy(e.position),this.rotation.copy(e.rotation),this.scale.copy(e.scale),this.projection.copy(e.projection),this}},{key:"lerpTransform",value:function(e,t,n){this.position.lerpVectors(e.position,t.position,n),this.rotation.copy(e.rotation).slerp(t.rotation,n),this.scale.lerpVectors(e.scale,t.scale,n);for(var i=1-n,r=0;r<16;r++)this.projection.elements[r]=i*e.projection.elements[r]+n*t.projection.elements[r];return this}}]),e}(),tt=function(){function e(t,n,i){a()(this,e),this.start=void 0,this.end=void 0,this.current=void 0,this.time=void 0,this.elapsed=void 0,this.progress=void 0,this.start=new et,this.end=new et,this.current=new et,this.time=1.5,this.elapsed=0,this.progress=0,void 0!==t&&void 0!==n&&(this.current.copy(t),this.start.copy(t),this.end.copy(n)),void 0!==i&&(this.time=i),this.isFinished=this.isFinished.bind(this)}return l()(e,[{key:"update",value:function(e){this.elapsed=Math.min(this.time,this.elapsed+e),this.progress=Object(_.j)(this.elapsed/this.time),this.current.lerpTransform(this.start,this.end,this.progress)}},{key:"isFinished",value:function(){return this.elapsed>=this.time}}]),e}(),nt=function(){function e(t){a()(this,e),this.Camera=void 0,this.camera=void 0,this.mouseX=void 0,this.mouseY=void 0,this.Camera=t,this.camera=void 0,this.mouseX=void 0,this.mouseY=void 0,this.onmousewheel=this.onmousewheel.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onbuttondown=this.onbuttondown.bind(this),this.onbuttonup=this.onbuttonup.bind(this),this.onkeydown=this.onkeydown.bind(this),this.onkeyup=this.onkeyup.bind(this),this.onmouseenter=this.onmouseenter.bind(this),this.onmouseleave=this.onmouseleave.bind(this)}return l()(e,[{key:"onmousewheel",value:function(e){this.Camera.onMouseWheel(e)}},{key:"onMouseMove",value:function(e,t){if(void 0!==this.mouseX){var n=(e-this.mouseX)/this.Camera.screenWidth,i=(this.mouseY-t)/this.Camera.screenHeight;this.Camera.onMouseMove(n,i)}this.mouseX=e,this.mouseY=t}},{key:"onbuttondown",value:function(e){this.Camera.onMouseDown(e)}},{key:"onbuttonup",value:function(e){this.Camera.onMouseUp(e)}},{key:"onkeydown",value:function(e){this.Camera.onKeyDown(e)}},{key:"onkeyup",value:function(e){this.Camera.onKeyUp(e)}},{key:"onmouseenter",value:function(){}},{key:"onmouseleave",value:function(){this.Camera.onMouseLeave()}}]),e}(),it=function(){function e(t){a()(this,e),this.props=void 0,this.props=t,this.onTransformFinished=this.onTransformFinished.bind(this)}return l()(e,[{key:"onTransformStarted",value:function(e,t){var n=this.props.GCV;n.handleUIVisibility(),e===L.a.INSIDE&&t===L.a.INSIDE?(n.NewFinalModel.useSimpleMaterial(!1),n.NewFinalModel.setTransition(L.x.TRANSITION,0),n.PanoSphere.setProgress(0),n.Background.hide()):e===L.a.INSIDE?(n.NewFinalModel.useSimpleMaterial(!1),n.NewFinalModel.setTransition(L.x.EXIT,0),n.PanoSphere.setProgress(0),n.PanoSphere.hide(),n.Background.show()):t===L.a.INSIDE?(n.NewFinalModel.useSimpleMaterial(!1),n.NewFinalModel.setTransition(L.x.ENTER,0),n.PanoSphere.show(),n.PanoSphere.setProgress(0),n.Background.show()):(n.NewFinalModel.useSimpleMaterial(!0),n.Background.show()),t===L.a.FLOORPLAN?n.FloorPlanController.setVisibility(0):e===L.a.FLOORPLAN&&n.FloorPlanController.setVisibility(1)}},{key:"onTransformFinished",value:function(e,t){var n=this.props.GCV,i=n.redux,r=i.store,o=i.actions;n.handleUIVisibility(!0),r.dispatch(o.highlights.setHighlightTransition(!1)),r.dispatch(o.app.setCameraInTransition(!1)),e===L.a.INSIDE&&t===L.a.INSIDE?(n.NewFinalModel.useSimpleMaterial(!1),n.NewFinalModel.setTransition(L.x.TRANSITION,1),n.PanoSphere.setProgress(1),n.Background.hide()):e===L.a.INSIDE?(n.NewFinalModel.useSimpleMaterial(!0),n.NewFinalModel.setTransition(L.x.EXIT,1),n.PanoSphere.updateTransparency(1,1),n.PanoSphere.setProgress(1),n.Background.show()):t===L.a.INSIDE&&(n.NewFinalModel.useSimpleMaterial(!1),n.NewFinalModel.setTransition(L.x.ENTER,1),n.PanoSphere.updateTransparency(1,1),n.PanoSphere.setProgress(1),n.Background.hide()),t===L.a.FLOORPLAN?n.FloorPlanController.setVisibility(1):e===L.a.FLOORPLAN&&n.FloorPlanController.setVisibility(0)}},{key:"onTransformProgress",value:function(e,t,n){var i=this.props.GCV;e===L.a.INSIDE&&t===L.a.INSIDE?(i.NewFinalModel.useSimpleMaterial(!1),i.NewFinalModel.setTransition(L.x.TRANSITION,n),i.PanoSphere.setProgress(n),i.Background.hide()):e===L.a.INSIDE?(i.NewFinalModel.useSimpleMaterial(!1),i.NewFinalModel.setTransition(L.x.EXIT,n),i.PanoSphere.updateTransparency(n,1),i.PanoSphere.setProgress(n),i.Background.show()):t===L.a.INSIDE?(i.NewFinalModel.useSimpleMaterial(!1),i.NewFinalModel.setTransition(L.x.ENTER,n),i.PanoSphere.updateTransparency(n,1),i.PanoSphere.setProgress(n),i.Background.show()):i.NewFinalModel.useSimpleMaterial(!0),t===L.a.FLOORPLAN?i.FloorPlanController.setVisibility(n):e===L.a.FLOORPLAN&&i.FloorPlanController.setVisibility(1-n)}}]),e}(),rt=n(63),ot=n.n(rt),at=n(385),st=n.n(at),lt=function(){function e(t){a()(this,e),this.Camera=void 0,this.projectionType=void 0,this.viewMatrix=void 0,this.projectionMatrix=void 0,this.name=void 0,this.locked=void 0,this.props=void 0,this.basis=void 0,this.target=void 0,this.angles=void 0,this.distance=void 0,this.scale=void 0,this.position=void 0,this.velocity=void 0,this.mouseDown=void 0,this.props=t,this.projectionType="perspective",this.locked=!1,this.viewMatrix=new P.a.Matrix4,this.projectionMatrix=new P.a.Matrix4,this.Camera=this.props.Camera,this.getCurrentTransform=this.getCurrentTransform.bind(this),this.onExit=this.onExit.bind(this),this.initUserInteraction=st()(this.initUserInteraction,500),this.mouseDown=null}return l()(e,[{key:"addBounce",value:function(e){}},{key:"onUpdate",value:function(e){}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"onEnter",value:function(e){this.lock()}},{key:"onExit",value:function(){}},{key:"onTransformFinished",value:function(){this.unlock()}},{key:"onMouseDown",value:function(e){}},{key:"onMouseUp",value:function(e){}},{key:"onMouseMove",value:function(e,t){}},{key:"onMouseLeave",value:function(){}},{key:"onMouseWheel",value:function(e){}},{key:"onKeyDown",value:function(e){}},{key:"onKeyUp",value:function(e){}},{key:"onWindowResize",value:function(e,t){this.updateProjection()}},{key:"getState",value:function(){}},{key:"getCurrentAngles",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Vector2).set(0,0)}},{key:"transformTo",value:function(e){}},{key:"updateProjection",value:function(){}},{key:"updateView",value:function(){}},{key:"setPerspectiveProjection",value:function(e,t,n,i){var r=n*Math.tan(.5*e*Math.PI/180),o=r*t;this.projectionMatrix.makePerspective(-o,o,r,-r,n,i)}},{key:"setOrthoProjection",value:function(e,t,n,i){var r=.5*e,o=.5*t;this.projectionMatrix.makeOrthographic(-r,r,o,-o,n,i)}},{key:"setLookAt",value:function(e,t,n){var i=(new P.a.Vector3).subVectors(e,t).normalize(),r=(new P.a.Vector3).crossVectors(n,i).normalize(),o=(new P.a.Vector3).crossVectors(i,r);this.viewMatrix.makeBasis(r,o,i)}},{key:"getCurrentTransform",value:function(){return(new et).set(this.viewMatrix,this.projectionMatrix)}},{key:"initUserInteraction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.C.GENERAL,t=this.props.GCV.redux,n=t.store,i=t.actions;1===n.getState().tutorial[e].step&&n.dispatch(i.tutorial.setNextStep(e))}}]),e}(),ct=new P.a.Vector3(0,1,0),ut=new P.a.Vector3(0,-1,0),ht=function(e){function t(e){var n,i,r,o,s;a()(this,t),(n=u()(this,d()(t).call(this,e))).upVector=void 0,n.targetVelocity=void 0,n.desiredTarget=void 0,n.angularVelocity=void 0,n.desiredAngles=void 0,n.distanceVelocity=void 0,n.sceneMinDimSize=void 0,n.sceneSize=void 0,n.desiredDistance=void 0,n.maxAngle=void 0,n.minDistance=void 0,n.isMinDistanceAbsolute=void 0,n.extendedSceneBounds=void 0,n.expandBoundDirection=void 0,n.onEnter=(i=new P.a.Vector2,r=new P.a.Vector3,o=new P.a.Vector3,s=new P.a.Vector3,function(e){ot()(d()(t.prototype),"onEnter",xe()(n)).call(xe()(n),e);var a=n.props.GCV,l=n.Camera.sceneBounds.getSize(o);n.sceneMinDimSize=Math.min(l.x,l.z),n.sceneSize=l.length(),n.extendedSceneBounds=n.Camera.sceneBounds.clone(),n.extendedSceneBounds.expandByVector(n.expandBoundDirection);var c=n.Camera.previousMode,u=a.Floors.getTargetHeight();if(c)switch(c.name){case L.a.ATTRACTION:case L.a.DOLLHOUSE:var h=n.extendedSceneBounds.clampPoint(c.target,s);h.y=u,n.setTarget(h,!0),n.setAngles(c.angles,!0),n.distance=c.distance,n.resetVelocity();break;case L.a.OUTDOOR:var p=n.extendedSceneBounds.clampPoint(c.target,s);p.y=u,n.setTarget(p,!0),n.setAngles(c.angles,!0),n.isMinDistanceAbsolute?n.setDistance(Object(_.c)(c.distance*a.Config.dollhouse_default_distance/a.Config.outdoor_default_distance,n.minDistance/a.Config.dollhouse_distance_factor/n.sceneSize,a.Config.dollhouse_max_distance_factor),!0):n.setDistance(Object(_.c)(c.distance*a.Config.dollhouse_default_distance/a.Config.outdoor_default_distance,n.minDistance*n.sceneMinDimSize/n.sceneSize,a.Config.dollhouse_max_distance_factor),!0),n.resetVelocity();break;case L.a.FLOORPLAN:var f=r.copy(ct).transformDirection(c.viewMatrix);n.setAngles(i.set(180*Math.atan2(f.x,f.z)/Math.PI,a.Config.dollhouse_default_angle),!0);var m=n.Camera.sceneBounds.getCenter(r);m.y=u,n.setTarget(m,!0),n.setDistance(a.Config.dollhouse_default_distance,!0);break;case L.a.INSIDE:var v=c.getCurrentAngles();v.y=a.Config.dollhouse_default_angle;var g=n.extendedSceneBounds.clampPoint(c.position,s);g.y=u,n.setTarget(g,!0),n.setAngles(v,!0)}else{if(a.FloorPlanController.floors.length){var y=a.FloorPlanController.floors[0],b=r.copy(ut).transformDirection(y.matrixWorld);n.setAngles(i.set(180*Math.atan2(b.x,b.z)/Math.PI,a.Config.dollhouse_default_angle),!0)}else n.setAngles(i.set(180,a.Config.dollhouse_default_angle),!0);n.setTarget(n.Camera.sceneBounds.getCenter(r),!0)}if(void 0!==e.target){var x=e.target,w=x.x,A=x.y,M=x.z;n.setTarget(r.set(w,A,M),!0)}if(void 0!==e.angles){var E=e.angles,C=E.x,S=E.y;n.setAngles(i.set(C,S),!0)}void 0!==e.distance&&n.setDistance(e.distance,!0),n.updateView()}),n.checkKeyboardInput=function(){var e=new P.a.Vector3;return function(t){var i=n.props.GCV,r=i.InputManager.getKey("ArrowRight")-i.InputManager.getKey("ArrowLeft"),o=i.InputManager.getKey("ArrowDown")-i.InputManager.getKey("ArrowUp"),a=i.InputManager.getKey("KeyA")-i.InputManager.getKey("KeyD"),s=i.InputManager.getKey("KeyW")-i.InputManager.getKey("KeyS");if(null===n.desiredAngles&&(0!==r&&(i.handleUIVisibility(),n.angularVelocity.x=r*i.Config.dollhouse_keyb_rotation_speed),0!==o&&(i.handleUIVisibility(),n.angularVelocity.y=o*i.Config.dollhouse_keyb_rotation_speed)),null===n.desiredDistance&&(0!==a||0!==s)){i.handleUIVisibility();var l=n.angles.x*Math.PI/180,c=n.Camera.sceneBounds.getSize(e).length()*i.Config.dollhouse_keyb_pan_speed;n.targetVelocity.x=c*(s*Math.sin(l)+a*Math.cos(l)),n.targetVelocity.z=c*(s*Math.cos(l)-a*Math.sin(l))}}}();var l=n.props.GCV;return n.name=L.a.DOLLHOUSE,n.upVector=new P.a.Vector3(0,1,0),n.basis=[new P.a.Vector3(1,0,0),new P.a.Vector3(0,1,0),new P.a.Vector3(0,0,1)],n.target=new P.a.Vector3,n.targetVelocity=new P.a.Vector3,n.desiredTarget=null,n.angles=new P.a.Vector2,n.angularVelocity=new P.a.Vector2,n.desiredAngles=null,n.distance=1,n.distanceVelocity=0,n.sceneMinDimSize=0,n.sceneSize=0,n.desiredDistance=null,n.maxAngle=l.Config.dollhouse_singlefloor_max_angle,n.minDistance=l.Config.dollhouse_singlefloor_min_distance,n.isMinDistanceAbsolute=!0,n.extendedSceneBounds=new P.a.Box3,n.expandBoundDirection=new P.a.Vector3(l.Config.dollhouse_expand_bounds,0,l.Config.dollhouse_expand_bounds),n.updateView(),n.updateProjection(),n.getCurrentAngles=n.getCurrentAngles.bind(xe()(n)),n}return f()(t,e),l()(t,[{key:"updateLimits",value:function(){var e=this.props.GCV,t=e.Floors.visibleList;if(e.Floors.floors.length<=1||null!==t&&1===t.length){var n=e.Floors.getBoundingBox();if(e.Config.dollhouse_singlefloor_max_angle<0){var i=(e.Floors.getTargetHeight()-n.max.y)/Math.sin(Math.PI/180*e.Config.dollhouse_singlefloor_max_angle)+e.Config.dollhouse_singlefloor_min_distance;this.setMaxAngle(e.Config.dollhouse_singlefloor_max_angle),this.setMinDistance(i,!0)}else console.error("dollhouse_singlefloor_max_angle have to be less 0")}else this.setMaxAngle(e.Config.dollhouse_multifloor_max_angle),this.setMinDistance(e.Config.dollhouse_multifloor_min_distance_factor,!1)}},{key:"onUpdate",value:function(e){var n=this.props.GCV;if(this.checkKeyboardInput(e),this.target.x+=this.targetVelocity.x*e,this.target.y+=this.targetVelocity.y*e,this.target.z+=this.targetVelocity.z*e,null!==this.desiredTarget?(this.targetVelocity.x=Object(_.f)(this.desiredTarget.x,this.target.x,this.targetVelocity.x,n.Config.dollhouse_move_spring,e),this.targetVelocity.y=Object(_.f)(this.desiredTarget.y,this.target.y,this.targetVelocity.y,n.Config.dollhouse_move_spring,e),this.targetVelocity.z=Object(_.f)(this.desiredTarget.z,this.target.z,this.targetVelocity.z,n.Config.dollhouse_move_spring,e),this.desiredTarget.distanceTo(this.target)<.01&&(this.desiredTarget=null)):(this.extendedSceneBounds.clampPoint(this.target,this.target),this.targetVelocity.multiplyScalar(null===this.mouseDown?Math.max(1-n.Config.dollhouse_idle_inertia*e,0):n.ENV.browser.mobile?n.Config.dollhouse_velocity_damping_mobile:n.Config.dollhouse_velocity_damping)),this.angles.x+=this.angularVelocity.x*e,this.angles.y+=this.angularVelocity.y*e,null!==this.desiredAngles?(Math.abs(this.angles.x-this.desiredAngles.x)>180&&(this.angles.x+=360*Math.sign(this.desiredAngles.x-this.angles.x)),this.angularVelocity.x=Object(_.f)(this.desiredAngles.x,this.angles.x,this.angularVelocity.x,n.Config.dollhouse_move_spring,e),this.angularVelocity.y=Object(_.f)(this.desiredAngles.y,this.angles.y,this.angularVelocity.y,n.Config.dollhouse_move_spring,e),this.angles.distanceTo(this.desiredAngles)<.1&&(this.desiredAngles=null)):this.angularVelocity.multiplyScalar(null===this.mouseDown?Math.max(1-n.Config.dollhouse_idle_inertia*e,0):n.ENV.browser.mobile?n.Config.dollhouse_rotation_damping_mobile:n.Config.dollhouse_rotation_damping),null===this.desiredAngles&&(this.angles.x=Object(_.d)(this.angles.x),this.angles.y=Object(_.c)(this.angles.y,n.Config.dollhouse_min_angle,this.maxAngle)),this.distance+=this.distanceVelocity*e,null!==this.desiredDistance?(this.distanceVelocity=Object(_.f)(this.desiredDistance,this.distance,this.distanceVelocity,n.Config.dollhouse_move_spring,e),Math.abs(this.distance-this.desiredDistance)<.001&&(this.desiredDistance=null)):this.distanceVelocity*=n.Config.dollhouse_distance_damping,null===this.desiredDistance){var i=this.isMinDistanceAbsolute?this.minDistance/n.Config.dollhouse_distance_factor/this.sceneSize:this.minDistance*this.sceneMinDimSize/this.sceneSize,r=n.Config.dollhouse_max_distance_factor;this.distance=Object(_.c)(this.distance,i,r)}this.updateView(),ot()(d()(t.prototype),"onUpdate",this).call(this,e)}},{key:"onMouseDown",value:function(e){this.mouseDown=e}},{key:"onMouseUp",value:function(e){this.mouseDown=null}},{key:"onMouseLeave",value:function(){this.mouseDown=null}},{key:"onMouseMove",value:function(e,t){var n=this.props.GCV,i=this.Camera.screenWidth/this.Camera.screenHeight;if(0===this.mouseDown&&null===this.desiredAngles){this.initUserInteraction(),n.handleUIVisibility();var r=this.getCurrentAngles(),o=n.ENV.browser.mobile?n.Config.dollhouse_rotation_sensitivity_mobile:n.Config.dollhouse_rotation_sensitivity;r.x-=i*o*e,r.y+=o*t,this.setAngles(r)}if(2===this.mouseDown&&null===this.desiredDistance){this.initUserInteraction(),n.handleUIVisibility();var a=this.distance*n.Config.dollhouse_distance_factor*this.sceneSize,s=e*i*n.Config.dollhouse_pan_sensitivity*a,l=t*n.Config.dollhouse_pan_sensitivity*a,c=new P.a.Vector3(this.basis[2].x,0,this.basis[2].z).normalize(),u=this.basis[0],h=this.getCurrentTarget();h.x+=u.x*s-c.x*l,h.y+=u.y*s-c.y*l,h.z+=u.z*s-c.z*l,this.setTarget(h)}}},{key:"onMouseWheel",value:function(e){this.initUserInteraction();var t=this.props.GCV;t.handleUIVisibility(),this.setDistance(this.distance*Math.pow(t.Config.dollhouse_distance_step,e))}},{key:"getState",value:function(){var e=this.target,t=this.angles;return{target:{x:e.x,y:e.y,z:e.z},angles:{x:t.x,y:t.y},view:{x:this.basis[2].x,y:this.basis[2].y,z:this.basis[2].z},distance:this.distance}}},{key:"transformTo",value:function(e){var t=this.props.GCV;if(void 0!==e.target&&(this.desiredTarget=new P.a.Vector3(e.target.x,e.target.y,e.target.z),this.Camera.sceneBounds.clampPoint(this.desiredTarget,this.desiredTarget)),void 0!==e.angles&&(this.desiredAngles=new P.a.Vector2(e.angles.x,e.angles.y),this.desiredAngles.x=Object(_.d)(this.desiredAngles.x),this.desiredAngles.y=Object(_.c)(this.desiredAngles.y,t.Config.dollhouse_min_angle,this.maxAngle)),void 0!==e.distance){var n=this.isMinDistanceAbsolute?this.minDistance/t.Config.dollhouse_distance_factor/this.sceneSize:this.minDistance*this.sceneMinDimSize/this.sceneSize,i=t.Config.dollhouse_max_distance_factor;this.desiredDistance=Object(_.c)(e.distance,n,i)}this.resetVelocity()}},{key:"getCurrentTarget",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Vector3).copy(this.target)}},{key:"getCurrentAngles",value:function(){return(new P.a.Vector2).copy(this.angles)}},{key:"getCurrentPosition",value:function(){var e=this.props.GCV,t=this.distance*e.Config.dollhouse_distance_factor*this.sceneSize;return(new P.a.Vector3).copy(this.basis[2]).multiplyScalar(-t).add(this.target)}},{key:"resetVelocity",value:function(){this.targetVelocity.set(0,0,0),this.angularVelocity.set(0,0),this.distanceVelocity=0}},{key:"setTarget",value:function(e,t){var n=this.props.GCV;if(t)this.target.copy(e),this.targetVelocity.set(0,0,0);else{var i=(1-(n.ENV.browser.mobile?n.Config.dollhouse_velocity_damping_mobile:n.Config.dollhouse_velocity_damping))/this.Camera.lastDeltaTime;this.targetVelocity.x+=i*(e.x-this.target.x),this.targetVelocity.y+=i*(e.y-this.target.y),this.targetVelocity.z+=i*(e.z-this.target.z)}this.desiredTarget=null}},{key:"setAngles",value:function(e,t){var n=this.props.GCV;if(t)this.angles.copy(e),this.angularVelocity.set(0,0);else{var i=(1-(n.ENV.browser.mobile?n.Config.dollhouse_rotation_damping_mobile:n.Config.dollhouse_rotation_damping))/this.Camera.lastDeltaTime;this.angularVelocity.x+=i*(e.x-this.angles.x),this.angularVelocity.y+=i*(e.y-this.angles.y)}this.desiredAngles=null}},{key:"setMaxAngle",value:function(e){var t=this.props.GCV;void 0===e&&(e=t.Config.dollhouse_singlefloor_max_angle),this.maxAngle=e}},{key:"setMinDistance",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props.GCV;void 0===e&&(e=n.Config.dollhouse_singlefloor_min_distance),this.minDistance=e,this.isMinDistanceAbsolute=t}},{key:"setDistance",value:function(e,t){var n=this.props.GCV;if(t)this.distance=e,this.distanceVelocity=0;else{var i=(1-n.Config.dollhouse_distance_damping)/this.Camera.lastDeltaTime;this.distanceVelocity+=i*(e-this.distance)}this.desiredDistance=null}},{key:"updateView",value:function(){this.props.GCV;Object(_.e)(this.basis,this.angles),this.viewMatrix.lookAt(new P.a.Vector3(0,0,0),this.basis[2],this.basis[1]),this.viewMatrix.setPosition(this.getCurrentPosition())}},{key:"updateProjection",value:function(){var e=this.props.GCV,t=this.Camera.screenWidth/this.Camera.screenHeight;this.setPerspectiveProjection(e.Config.dollhouse_fov,t,1,1e3)}}]),t}(lt),dt=function(e){function t(e){var n;return a()(this,t),(n=u()(this,d()(t).call(this,e))).rotationVelocity=void 0,n.name=L.a.ATTRACTION,n.rotationVelocity=0,n}return f()(t,e),l()(t,[{key:"onUpdate",value:function(e){var n=this.props.GCV;this.rotationVelocity=Object(_.i)(this.rotationVelocity,n.Config.attraction_rotation_speed,.5*e),this.angles.x+=this.rotationVelocity*e,this.angles.y=n.Config.attraction_camera_angle,ot()(d()(t.prototype),"onUpdate",this).call(this,e)}},{key:"onKeyDown",value:function(e){this.Camera.setMode(L.a.DOLLHOUSE),this.Camera.currentMode.onKeyDown(e)}},{key:"onMouseDown",value:function(e){this.Camera.setMode(L.a.DOLLHOUSE),this.Camera.currentMode.onMouseDown(e)}},{key:"onMouseWheel",value:function(e){this.Camera.setMode(L.a.DOLLHOUSE),this.Camera.currentMode.onMouseWheel(e)}}]),t}(ht),pt=function(e){function t(e){var n,i,r,o,s;a()(this,t),(n=u()(this,d()(t).call(this,e))).zoom=void 0,n.zoomVelocity=void 0,n.zoomResetDelay=void 0,n.bounce=void 0,n.bounceTime=void 0,n.bounceElapsed=void 0,n.bounceDirection=void 0,n.angularVelocity=void 0,n.desiredAngles=void 0,n.lastDateOfPressForwardOrBackward=void 0,n.move=void 0,n.onEnter=function(){var e=new P.a.Vector2,t=new P.a.Vector3;return function(n){var i=this.props.GCV;if(this.zoom=1,this.zoomResetDelay=0,void 0!==n.position){var r=n.position,o=r.x,a=r.y,s=r.z;this.position.set(o,a,s)}if(void 0!==n.angles){var l=n.angles,c=l.x,u=l.y,h=i.Config.inside_fov/2/this.zoom,d=e.set(Object(_.d)(c),Object(_.c)(u,i.Config.inside_min_angle+h,i.Config.inside_max_angle-h));this.setAngles(d,!0)}else{var p=this.Camera.previousMode;if(p)switch(p.name){case L.a.ATTRACTION:case L.a.DOLLHOUSE:case L.a.OUTDOOR:var f=p.getCurrentAngles();f.y=0,this.setAngles(f,!0);break;case L.a.INSIDE:break;case L.a.FLOORPLAN:var m=t.set(0,1,0).transformDirection(p.viewMatrix),v=e.set(180*Math.atan2(m.x,m.z)/Math.PI,0);this.setAngles(v,!0);break;default:this.setAngles(e.set(180,0),!0)}}this.updateView(),this.updateProjection()}.bind(this)}.bind(xe()(n))(),n.doMove=(i=new P.a.Vector3,r=new P.a.Vector3,o=new P.a.Vector3(0,1,0),function(){var e=n.props.GCV,t=n.move;if(0!==t.x){var a=n.position,s=e.Camera.getCurrentCamera().getWorldDirection(i),l=r.crossVectors(s,o).multiplyScalar(t.x),c=e.Panoramas.getFrontId(a,l,!0,!0,120,!0);null!==c&&e.Transitions.start({cameraMode:L.a.INSIDE,transitionStyle:L.y.FLY,panoramaId:c})}else if(0!==t.z){var u=n.position,h=e.Camera.getCurrentCamera().getWorldDirection(i).multiplyScalar(t.z),d=e.Panoramas.getFrontId(u,h,!0,!0,120,!0);null!==d?e.Transitions.start({cameraMode:L.a.INSIDE,transitionStyle:L.y.FLY,panoramaId:d}):e.Transitions.isInTransition()||n.addBounce(t.z>0?"forward":"backward")}}),n.getState=(s=new P.a.Quaternion,function(){var e=n.props.GCV,t=xe()(n),i=t.position,r=t.angles,o=i.x,a=i.y,l=i.z,c=0===o&&0===a&&0===l,u=(new P.a.Vector3).copy(n.basis[2]);if(e.Panoramas.active){var h=s.copy(e.Panoramas.active.rotation);u.applyQuaternion(h.inverse())}return{is360:c,position:c?null:{x:o,y:a,z:l},angles:{x:r.x,y:r.y},view:{x:n.basis[2].x,y:n.basis[2].y,z:n.basis[2].z},panoramaView:{x:u.x,y:u.y,z:u.z},panoramaId:e.Panoramas.activeId,fov:e.Config.inside_fov/n.zoom}});n.props.GCV;return n.name=L.a.INSIDE,n.basis=[new P.a.Vector3(1,0,0),new P.a.Vector3(0,1,0),new P.a.Vector3(0,0,1)],n.position=new P.a.Vector3,n.zoom=1,n.zoomVelocity=0,n.zoomResetDelay=0,n.bounce=0,n.bounceTime=null,n.bounceElapsed=null,n.bounceDirection=1,n.mouseDown=null,n.angles=new P.a.Vector2,n.angularVelocity=new P.a.Vector2,n.desiredAngles=null,n.updateView(),n.updateProjection(),n.lastDateOfPressForwardOrBackward=Date.now(),n.move={x:0,z:0},n.addBounce=n.addBounce.bind(xe()(n)),n}return f()(t,e),l()(t,[{key:"onTransformFinished",value:function(){var e=this.props.GCV,n=Boolean(e.datum.tour.outdoorMesh);e.isStagedMesh()&&n&&e.setStagedMesh(!1),this.angularVelocity.set(0,0),ot()(d()(t.prototype),"onTransformFinished",this).call(this)}},{key:"checkKeyboardInput",value:function(e){var t=this.props.GCV,n=t.InputManager.getKey("ArrowLeft")-t.InputManager.getKey("ArrowRight");0!==n&&(t.handleUIVisibility(),this.angularVelocity.x=n*t.Config.inside_keyb_rotation_speed)}},{key:"onUpdate",value:function(e){var n=this.props.GCV;this.checkKeyboardInput(e),this.angles.x+=this.angularVelocity.x*e,this.angles.y+=this.angularVelocity.y*e,this.doMove(),null!==this.desiredAngles?(this.angularVelocity.x=Object(_.f)(this.desiredAngles.x,this.angles.x,this.angularVelocity.x,n.Config.inside_move_spring,e),this.angularVelocity.y=Object(_.f)(this.desiredAngles.y,this.angles.y,this.angularVelocity.y,n.Config.inside_move_spring,e),this.angles.distanceTo(this.desiredAngles)<.01&&(this.desiredAngles=null)):this.angularVelocity.multiplyScalar(null===this.mouseDown?Math.max(1-n.Config.inside_idle_inertia*e,0):n.Config.inside_rotation_damping);var i=n.Config.inside_fov/2/this.zoom;this.angles.y=Object(_.c)(this.angles.y,n.Config.inside_min_angle+i,n.Config.inside_max_angle-i),this.zoomResetDelay>0&&(this.zoomResetDelay-=e,this.zoomResetDelay<=0&&this.setZoom(1));var r=n.TileManager.getPanoramaSize()/this.Camera.screenHeight*180/Math.PI/n.Config.inside_fov*.8;this.zoom+=this.zoomVelocity*e,this.zoomVelocity*=n.Config.inside_zoom_damping;var o=n.ENV.browser.mobile?n.Config.inside_min_zoom_mobile:n.Config.inside_min_zoom,a=Math.min(n.ENV.browser.mobile?n.Config.inside_max_zoom_mobile:n.Config.inside_max_zoom,Math.max(o,r));if(this.zoom=Object(_.c)(this.zoom,o,a),n.HighresPanoSphere&&n.HighresPanoSphere.setFov(n.Config.inside_fov/this.zoom),null!==this.bounceTime){this.bounceElapsed+=e;var s=this.bounceElapsed/this.bounceTime;if(s>1)this.bounce=0,this.bounceTime=this.bounceElapsed=null;else{var l=Math.sin(s*Math.PI);this.bounce=n.Config.inside_bounce_zoom*l}}this.updateView(),this.updateProjection(),ot()(d()(t.prototype),"onUpdate",this).call(this,e)}},{key:"onMouseMove",value:function(e,t){var n=this.props.GCV;if(null!==this.mouseDown){this.initUserInteraction(),n.handleUIVisibility();var i=this.Camera.screenWidth/this.Camera.screenHeight,r=this.getCurrentAngles();r.x+=e*i*n.Config.inside_rotation_sensitivity/this.zoom,r.y-=t*n.Config.inside_rotation_sensitivity/this.zoom,this.setAngles(r),this.zoomResetDelay=n.Config.inside_zoom_reset_delay}}},{key:"onMouseDown",value:function(e){this.mouseDown=e}},{key:"onMouseUp",value:function(e){this.mouseDown=null}},{key:"onMouseLeave",value:function(){this.mouseDown=null}},{key:"onMouseWheel",value:function(e){this.initUserInteraction();var t=this.props.GCV;if(t.handleUIVisibility(),!t.Panoramas.active||!t.Panoramas.active.isHighlight||t.MouseInteraction.get("isViewpointZoomEnabled")){if(t.MouseInteraction.get("mouseOverMinimap"))return t.Minimap.handleMouseWheel(e);this.zoomResetDelay=t.Config.inside_zoom_reset_delay,this.setZoom(this.zoom*Math.pow(t.Config.inside_zoom_step,-e))}}},{key:"getMoveByKey",value:function(e){this.props.GCV;var t={x:0,z:0},n=["KeyW","ArrowUp"].includes(e),i=["KeyS","ArrowDown"].includes(e),o=["KeyA"].includes(e),a=["KeyD"].includes(e);return n?r()({},t,{z:1}):i?r()({},t,{z:-1}):o?r()({},t,{x:-1}):a?r()({},t,{x:1}):t}},{key:"onKeyDown",value:function(e){var t=this.getMoveByKey(e);this.move.x+=t.x,this.move.z+=t.z,this.doMove()}},{key:"onKeyUp",value:function(e){var t=this.getMoveByKey(e);this.move.x-=t.x,this.move.z-=t.z}},{key:"transformTo",value:function(e){var t=this.props.GCV;if(void 0!==e.angles){var n=t.Config.inside_fov/2/this.zoom;this.desiredAngles=e.angles.clone(),this.desiredAngles.x=Object(_.d)(this.desiredAngles.x),this.desiredAngles.y=Object(_.c)(this.desiredAngles.y,t.Config.inside_min_angle+n,t.Config.inside_max_angle-n)}}},{key:"setAngles",value:function(e,t){var n=this.props.GCV,i=e;if(e instanceof P.a.Quaternion){var r=new P.a.Quaternion(e.x,e.y,e.z,e.w);(new P.a.Euler).setFromQuaternion(r);var o=new P.a.Vector3(0,0,-1).applyQuaternion(r);i=Object(_.g)(o)}if(t)this.angles.copy(i),this.angularVelocity.set(0,0);else{var a=(1-n.Config.inside_rotation_damping)/this.Camera.lastDeltaTime;this.angularVelocity.x+=a*(i.x-this.angles.x),this.angularVelocity.y+=a*(i.y-this.angles.y)}this.desiredAngles=null}},{key:"addBounce",value:function(e){var t=this.props.GCV;null===this.bounceTime&&(this.bounceTime=t.Config.inside_bounce_time,this.bounceElapsed=0,this.bounceDirection="forward"===e?1:-1)}},{key:"setZoom",value:function(e,t){var n=this.props.GCV;if(t)this.zoom=e,this.zoomVelocity=0;else{var i=(1-n.Config.inside_zoom_damping)/this.Camera.lastDeltaTime;this.zoomVelocity+=i*(e-this.zoom)}}},{key:"getCurrentAngles",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Vector2).copy(this.angles)}},{key:"getCurrentPosition",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Vector3;var e=this.position,t=e.x,n=e.y,i=e.z;return 0===t&&0===n&&0===i?null:new P.a.Vector3(t,n,i)}},{key:"updateView",value:function(){Object(_.e)(this.basis,this.angles),this.viewMatrix.lookAt(new P.a.Vector3(0,0,0),this.basis[2],this.basis[1]),this.viewMatrix.setPosition(this.position)}},{key:"updateProjection",value:function(){var e=this.props.GCV,t=this.Camera.screenWidth/this.Camera.screenHeight,n=this.zoom+this.bounce*this.bounceDirection;this.setPerspectiveProjection(e.Config.inside_fov/n,t,.1,1e3)}}]),t}(lt),ft=(n(294),function(e){function t(e){var n,i,r,o,s,l,c;a()(this,t),(n=u()(this,d()(t).call(this,e))).zoom=void 0,n.zoomVelocity=void 0,n.onEnter=function(){var e=new P.a.Vector3;new P.a.Vector3;return function(i){var r=n.props.GCV;ot()(d()(t.prototype),"onEnter",xe()(n)).call(xe()(n),i),n.zoom=r.Config.floorplan_default_zoom;var o=n.Camera.sceneBounds.getCenter(e);n.position.copy(o),void 0!==i.position&&n.setPosition(i.position,!0),void 0!==i.zoom&&n.setZoom(i.zoom,!0),n.onWindowResize(n.Camera.screenWidth,n.Camera.screenHeight);var a=n.scale/n.zoom/2,s=Math.PI/180*r.Config.dollhouse_fov/2;n.position.y+=a/Math.tan(s),n.updateView()}}(),n.onWindowResize=(i=new P.a.Vector3,r=new P.a.Vector3,o=new P.a.Vector3,s=new P.a.Box3,l=new P.a.Box3,c=new P.a.Matrix4,function(e,a){for(var u=n.props.GCV,h=e/a,p=s.makeEmpty(),f=c,m=0;m<u.FloorPlanController.floors.length;m++){var v=u.FloorPlanController.floors[m];v.userData.isVisible&&f.copy(v.matrixWorld);var g=l.copy(v.geometry.boundingBox).applyMatrix4(v.matrixWorld);p.union(g);var y=u.Floors.floors[m];p.union(y.boundingBox)}var b=r.set(1,0,0),x=o.set(0,1,0);b.transformDirection(f),x.transformDirection(f);var w=p.getSize(i),A=Math.max((Math.abs(b.x*w.x)+Math.abs(b.y*w.y)+Math.abs(b.z*w.z))/h,Math.abs(x.x*w.x)+Math.abs(x.y*w.y)+Math.abs(x.z*w.z));n.scale=u.Config.floorplan_default_zoom*A*(1+u.Config.floorplan_border_size),ot()(d()(t.prototype),"onWindowResize",xe()(n)).call(xe()(n),e,a)}),n.onMouseMove=function(){var e=new P.a.Vector3,t=new P.a.Matrix4;return function(n,i){var r=this.props.GCV;if(null!==this.mouseDown){this.initUserInteraction(),r.handleUIVisibility();var o=this.Camera.screenWidth/this.Camera.screenHeight,a=this.getCurrentPosition(),s=e;s.set(-n*o*r.Config.floorplan_pan_sensitivity*this.scale/this.zoom,i*r.Config.floorplan_pan_sensitivity*this.scale/this.zoom,0);var l=s.length(),c=!0,u=!1,h=void 0;try{for(var d,p=r.FloorPlanController.floors[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;if(f.userData.isVisible){s.transformDirection(t.extractRotation(f.matrixWorld)),s.multiplyScalar(l);break}}}catch(e){u=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw h}}a.add(s),this.setPosition(a)}}.bind(this)}.bind(xe()(n))(),n.updateView=function(){var e=new P.a.Vector3(1,0,0),t=new P.a.Vector3(0,1,0),n=new P.a.Vector3(0,-1,0),i=new P.a.Vector3(0,0,-1),r=new P.a.Vector3,o=new P.a.Vector3,a=new P.a.Vector3;return function(){var s=this.props.GCV;this.viewMatrix.makeBasis(e,i,t);var l=!0,c=!1,u=void 0;try{for(var h,d=s.FloorPlanController.floors[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value;if(p.userData.isVisible){this.viewMatrix.makeBasis(r.copy(e).transformDirection(p.matrixWorld),o.copy(n).transformDirection(p.matrixWorld),a.copy(i).transformDirection(p.matrixWorld));break}}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}this.viewMatrix.setPosition(this.position)}.bind(this)}.bind(xe()(n))();var h=n.props.GCV;return n.name=L.a.FLOORPLAN,n.projectionType="ortho",n.position=new P.a.Vector3,n.velocity=new P.a.Vector3,n.scale=20,n.zoom=h.Config.floorplan_default_zoom,n.zoomVelocity=0,n.mouseDown=null,n.updateView(),n.updateProjection(),n.onEnter=n.onEnter.bind(xe()(n)),n}return f()(t,e),l()(t,[{key:"onUpdate",value:function(e){var n=this.props.GCV;this.position.x+=this.velocity.x*e,this.position.z+=this.velocity.z*e,this.velocity.multiplyScalar(null===this.mouseDown?Math.max(1-n.Config.floorplan_idle_inertia*e,0):n.ENV.browser.mobile?n.Config.floorplan_velocity_damping_mobile:n.Config.floorplan_velocity_damping);var i=this.position.y;this.position.y=i,Math.abs(this.zoomVelocity)>Number.EPSILON&&(this.zoom+=this.zoomVelocity*e,this.zoom=Object(_.c)(this.zoom,n.Config.floorplan_min_zoom,n.Config.floorplan_max_zoom),this.zoomVelocity*=n.Config.floorplan_zoom_damping,this.updateProjection()),this.updateView(),ot()(d()(t.prototype),"onUpdate",this).call(this,e)}},{key:"onMouseWheel",value:function(e){this.initUserInteraction();var t=this.props.GCV;t.handleUIVisibility(),this.setZoom(this.zoom*Math.pow(t.Config.floorplan_zoom_step,-e))}},{key:"onMouseDown",value:function(e){this.mouseDown=e}},{key:"onMouseUp",value:function(e){this.mouseDown=null}},{key:"onMouseLeave",value:function(){this.mouseDown=null}},{key:"updateProjection",value:function(){var e=this.Camera.screenWidth/this.Camera.screenHeight,t=this.scale/this.zoom,n=t*e;this.setOrthoProjection(n,t,-1,1e3)}},{key:"getState",value:function(){var e=this.position;return{position:{x:e.x,y:e.y,z:e.z},zoom:this.zoom}}},{key:"setZoom",value:function(e,t){var n=this.props.GCV;if(t)this.zoom=e,this.zoomVelocity=0;else{var i=(1-n.Config.floorplan_zoom_damping)/this.Camera.lastDeltaTime;this.zoomVelocity+=i*(e-this.zoom)}}},{key:"getCurrentPosition",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Vector3).copy(this.position)}},{key:"setPosition",value:function(e,t){var n=this.props.GCV;if(t)this.position.copy(e),this.velocity.set(0,0,0);else{var i=(1-(n.ENV.browser.mobile?n.Config.floorplan_velocity_damping_mobile:n.Config.floorplan_velocity_damping))/this.Camera.lastDeltaTime;this.velocity.x+=i*(e.x-this.position.x),this.velocity.y+=i*(e.y-this.position.y),this.velocity.z+=i*(e.z-this.position.z)}}}]),t}(lt)),mt=function(e){function t(e){var n,i,r,o;return a()(this,t),(n=u()(this,d()(t).call(this,e))).upVector=void 0,n.targetVelocity=void 0,n.desiredTarget=void 0,n.angularVelocity=void 0,n.desiredAngles=void 0,n.distanceVelocity=void 0,n.distanceFactor=void 0,n.desiredDistance=void 0,n.onEnter=(i=new P.a.Vector3,r=new P.a.Vector3,o=new P.a.Vector3,function(e){ot()(d()(t.prototype),"onEnter",xe()(n)).call(xe()(n),e);var a=n.props.GCV;n.distanceFactor=a.Config.outdoor_distance_factor*n.Camera.sceneBounds.getSize(r).length();var s=n.Camera.previousMode;if(s)switch(s.name){case L.a.ATTRACTION:case L.a.DOLLHOUSE:n.setTarget(n.Camera.sceneBounds.clampPoint(s.target,o),!0),n.setAngles(s.angles,!0),n.angles.y=Object(_.c)(n.angles.y,a.Config.outdoor_min_angle,a.Config.outdoor_max_angle),n.setDistance(Object(_.c)(s.distance*a.Config.outdoor_default_distance/a.Config.dollhouse_default_distance,a.Config.outdoor_min_distance,a.Config.outdoor_max_distance),!0),n.resetVelocity();break;case L.a.OUTDOOR:n.target=n.Camera.sceneBounds.clampPoint(s.target,o),n.angles.copy(s.angles),n.distance=s.distance,n.resetVelocity();break;case L.a.FLOORPLAN:var l=i.set(0,1,0).transformDirection(s.viewMatrix);n.setAngles(new P.a.Vector2(180*Math.atan2(l.x,l.z)/Math.PI,a.Config.outdoor_default_angle),!0),n.setTarget(new P.a.Vector3(0,n.Camera.sceneBounds.getCenter(i).y,0),!0),n.setDistance(a.Config.outdoor_default_distance,!0);break;case L.a.INSIDE:var c=s.getCurrentAngles();c.y=a.Config.outdoor_default_angle,n.setTarget(new P.a.Vector3(0,n.Camera.sceneBounds.getCenter(i).y,0),!0),n.setAngles(c,!0),n.setDistance(a.Config.outdoor_default_distance,!0)}else n.setAngles(new P.a.Vector2(180,a.Config.outdoor_default_angle),!0),n.setTarget(new P.a.Vector3(0,n.Camera.sceneBounds.getCenter(i).y,0),!0);if(void 0!==e.target){var u=e.target,h=u.x,p=u.y,f=u.z;n.setTarget(new P.a.Vector3(h,p,f),!0)}if(void 0!==e.angles){var m=e.angles,v=m.x,g=m.y;n.setAngles(new P.a.Vector2(v,g),!0)}void 0!==e.distance&&n.setDistance(e.distance,!0),n.updateView()}),n.checkKeyboardInput=function(){var e=new P.a.Vector3;return function(t){var i=n.props.GCV,r=i.InputManager.getKey("ArrowRight")-i.InputManager.getKey("ArrowLeft"),o=i.InputManager.getKey("ArrowDown")-i.InputManager.getKey("ArrowUp"),a=i.InputManager.getKey("KeyA")-i.InputManager.getKey("KeyD"),s=i.InputManager.getKey("KeyW")-i.InputManager.getKey("KeyS");if(null===n.desiredAngles&&(0!==r&&(i.handleUIVisibility(),n.angularVelocity.x=r*i.Config.outdoor_keyb_rotation_speed),0!==o&&(i.handleUIVisibility(),n.angularVelocity.y=o*i.Config.outdoor_keyb_rotation_speed)),0!==a||0!==s){i.handleUIVisibility();var l=n.angles.x*Math.PI/180,c=n.Camera.sceneBounds.getSize(e).length()*i.Config.outdoor_keyb_pan_speed;n.targetVelocity.x=c*(s*Math.sin(l)+a*Math.cos(l)),n.targetVelocity.z=c*(s*Math.cos(l)-a*Math.sin(l))}}}(),n.name=L.a.OUTDOOR,n.upVector=new P.a.Vector3(0,1,0),n.basis=[new P.a.Vector3(1,0,0),new P.a.Vector3(0,1,0),new P.a.Vector3(0,0,1)],n.target=new P.a.Vector3,n.targetVelocity=new P.a.Vector3,n.desiredTarget=null,n.angles=new P.a.Vector2,n.angularVelocity=new P.a.Vector2,n.desiredAngles=null,n.distance=1,n.distanceVelocity=0,n.distanceFactor=0,n.desiredDistance=null,n.mouseDown=null,n.updateView(),n.updateProjection(),n}return f()(t,e),l()(t,[{key:"onUpdate",value:function(e){var n=this.props.GCV;this.checkKeyboardInput(e),this.target.x+=this.targetVelocity.x*e,this.target.y+=this.targetVelocity.y*e,this.target.z+=this.targetVelocity.z*e,null!==this.desiredTarget?(this.targetVelocity.x=Object(_.f)(this.desiredTarget.x,this.target.x,this.targetVelocity.x,n.Config.outdoor_move_spring,e),this.targetVelocity.y=Object(_.f)(this.desiredTarget.y,this.target.y,this.targetVelocity.y,n.Config.outdoor_move_spring,e),this.targetVelocity.z=Object(_.f)(this.desiredTarget.z,this.target.z,this.targetVelocity.z,n.Config.outdoor_move_spring,e),this.desiredTarget.distanceTo(this.target)<.01&&(this.desiredTarget=null)):(this.Camera.sceneBounds.clampPoint(this.target,this.target),this.targetVelocity.multiplyScalar(null===this.mouseDown?Math.max(1-n.Config.outdoor_idle_inertia*e,0):n.Config.outdoor_velocity_damping)),this.angles.x+=this.angularVelocity.x*e,this.angles.y+=this.angularVelocity.y*e,null!==this.desiredAngles?(this.angularVelocity.x=Object(_.f)(this.desiredAngles.x,this.angles.x,this.angularVelocity.x,n.Config.outdoor_move_spring,e),this.angularVelocity.y=Object(_.f)(this.desiredAngles.y,this.angles.y,this.angularVelocity.y,n.Config.outdoor_move_spring,e),this.desiredAngles.distanceTo(this.angles)<.1&&(this.desiredAngles=null)):this.angularVelocity.multiplyScalar(null===this.mouseDown?Math.max(1-n.Config.outdoor_idle_inertia*e,0):n.Config.outdoor_rotation_damping),null===this.desiredAngles&&(this.angles.x=Object(_.d)(this.angles.x),this.angles.y=Object(_.c)(this.angles.y,n.Config.outdoor_min_angle,n.Config.outdoor_max_angle)),this.distance+=this.distanceVelocity*e,null!==this.desiredDistance?(this.distanceVelocity=Object(_.f)(this.desiredDistance,this.distance,this.distanceVelocity,n.Config.outdoor_move_spring,e),Math.abs(this.distance-this.desiredDistance)<.01&&(this.desiredDistance=null)):this.distanceVelocity*=n.Config.outdoor_distance_damping,this.distance=Object(_.c)(this.distance,n.Config.outdoor_min_distance,n.Config.outdoor_max_distance),this.updateView(),ot()(d()(t.prototype),"onUpdate",this).call(this,e)}},{key:"onMouseDown",value:function(e){this.mouseDown=e}},{key:"onMouseUp",value:function(e){this.mouseDown=null}},{key:"onMouseLeave",value:function(){this.mouseDown=null}},{key:"onMouseMove",value:function(e,t){var n=this.props.GCV,i=this.Camera.screenWidth/this.Camera.screenHeight;if(0===this.mouseDown&&null===this.desiredAngles){this.initUserInteraction(),n.handleUIVisibility();var r=this.getCurrentAngles();r.x-=i*n.Config.outdoor_rotation_sensitivity*e,r.y+=n.Config.outdoor_rotation_sensitivity*t,this.setAngles(r)}if(2===this.mouseDown){this.initUserInteraction();var o=e*i*n.Config.outdoor_pan_sensitivity*this.distance*this.distanceFactor,a=t*n.Config.outdoor_pan_sensitivity*this.distance*this.distanceFactor,s=new P.a.Vector3(this.basis[2].x,0,this.basis[2].z).normalize(),l=this.basis[0],c=this.getCurrentTarget();c.x+=l.x*o-s.x*a,c.y+=l.y*o-s.y*a,c.z+=l.z*o-s.z*a,this.setTarget(c)}}},{key:"onMouseWheel",value:function(e){this.initUserInteraction();var t=this.props.GCV;this.setDistance(this.distance*Math.pow(t.Config.outdoor_distance_step,e))}},{key:"getState",value:function(){var e=this.target,t=this.angles;return{target:{x:e.x,y:e.y,z:e.z},angles:{x:t.x,y:t.y},view:{x:this.basis[2].x,y:this.basis[2].y,z:this.basis[2].z},distance:this.distance}}},{key:"transformTo",value:function(e){var t=this.props.GCV;void 0!==e.target&&(this.desiredTarget=new P.a.Vector3(e.target.x,e.target.y,e.target.z),this.Camera.sceneBounds.clampPoint(this.desiredTarget,this.desiredTarget)),void 0!==e.angles&&(this.desiredAngles=new P.a.Vector2(e.angles.x,e.angles.y),this.desiredAngles.x=Object(_.d)(this.desiredAngles.x),this.desiredAngles.y=Object(_.c)(this.desiredAngles.y,t.Config.outdoor_min_angle,t.Config.outdoor_max_angle)),void 0!==e.distance&&(this.desiredDistance=Object(_.c)(e.distance,t.Config.outdoor_min_distance,t.Config.outdoor_max_distance)),this.resetVelocity()}},{key:"getCurrentTarget",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Vector3).copy(this.target)}},{key:"getCurrentAngles",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Vector2).copy(this.angles)}},{key:"getCurrentPosition",value:function(){return(new P.a.Vector3).copy(this.basis[2]).multiplyScalar(-this.distance*this.distanceFactor).add(this.target)}},{key:"resetVelocity",value:function(){this.targetVelocity.set(0,0,0),this.angularVelocity.set(0,0),this.distanceVelocity=0}},{key:"setTarget",value:function(e,t){var n=this.props.GCV;if(t)this.target.copy(e),this.targetVelocity.set(0,0,0);else{var i=(1-n.Config.outdoor_velocity_damping)/this.Camera.lastDeltaTime;this.targetVelocity.x+=i*(e.x-this.target.x),this.targetVelocity.y+=i*(e.y-this.target.y),this.targetVelocity.z+=i*(e.z-this.target.z)}this.desiredTarget=null}},{key:"setAngles",value:function(e,t){var n=this.props.GCV;if(t)this.angles.copy(e),this.angularVelocity.set(0,0);else{var i=(1-n.Config.outdoor_rotation_damping)/this.Camera.lastDeltaTime;this.angularVelocity.x+=i*(e.x-this.angles.x),this.angularVelocity.y+=i*(e.y-this.angles.y)}this.desiredAngles=null}},{key:"setDistance",value:function(e,t){var n=this.props.GCV;if(t)this.distance=e,this.distanceVelocity=0;else{var i=(1-n.Config.outdoor_distance_damping)/this.Camera.lastDeltaTime;this.distanceVelocity+=i*(e-this.distance)}this.desiredDistance=null}},{key:"updateView",value:function(){this.props.GCV;Object(_.e)(this.basis,this.angles),this.viewMatrix.lookAt(new P.a.Vector3(0,0,0),this.basis[2],this.basis[1]),this.viewMatrix.setPosition(this.getCurrentPosition())}},{key:"updateProjection",value:function(){var e=this.props.GCV,t=this.Camera.screenWidth/this.Camera.screenHeight;this.setPerspectiveProjection(e.Config.outdoor_fov,t,1,1e3)}}]),t}(lt),vt=function(){function e(t){var n;a()(this,e),this.lastDeltaTime=void 0,this.currentMode=void 0,this.previousMode=void 0,this.currTransform=void 0,this.prevTransform=void 0,this.is360=void 0,this.transform=void 0,this.screenWidth=void 0,this.screenHeight=void 0,this.camera=void 0,this.sceneBounds=void 0,this.inTransform=void 0,this.Callbacks=void 0,this.isInstantTransition=void 0,this.modes=void 0,this.props=void 0,this.time=void 0,this.props=t;var i=this.props.GCV;this.lastDeltaTime=1/60,this.currTransform=null,this.prevTransform=null,this.is360=!1,this.screenWidth=1e3,this.screenHeight=1e3,this.camera=new P.a.OrthographicCamera(-1,1,1,-1,1,1e3),this.sceneBounds=new P.a.Box3,this.inTransform=!1,this.Callbacks=new it(t),this.isInstantTransition=!1,i.InputManager.addInputListener(new nt(this)),this.camera.matrixAutoUpdate=!1,this.modes=(n={},$e()(n,L.a.ATTRACTION,new dt(r()({},t,{Camera:this}))),$e()(n,L.a.DOLLHOUSE,new ht(r()({},t,{Camera:this}))),$e()(n,L.a.INSIDE,new pt(r()({},t,{Camera:this}))),$e()(n,L.a.FLOORPLAN,new ft(r()({},t,{Camera:this}))),$e()(n,L.a.OUTDOOR,new mt(r()({},t,{Camera:this}))),n),this.transformTo=this.transformTo.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseWheel=this.onMouseWheel.bind(this),this.setMode=this.setMode.bind(this),this.update=this.update.bind(this)}return l()(e,[{key:"setInstantTransition",value:function(e){this.isInstantTransition=e}},{key:"update",value:function(e){var t=this.props.GCV;if(this.lastDeltaTime=Math.max(e,1e-4),t.HighresPanoSphere&&(t.HighresPanoSphere.visible=!0),void 0!==this.transform)if(t.HighresPanoSphere&&(t.HighresPanoSphere.visible=!1),this.transform.update(e),this.transform.isFinished())this.transform=void 0,this.inTransform=!1,this.currentMode.onTransformFinished(),this.Callbacks.onTransformFinished(this.previousMode?this.previousMode.name:void 0,this.currentMode.name);else{var n=this.transform.progress;this.Callbacks.onTransformProgress(this.previousMode?this.previousMode.name:void 0,this.currentMode.name,n);var i=this.transform.current;this.camera.matrix.compose(i.position,i.rotation,i.scale),this.camera.updateMatrixWorld(!0),this.camera.projectionMatrix.copy(i.projection),this.camera.projectionMatrixInverse.getInverse(this.camera.projectionMatrix)}if(!this.inTransform&&this.currentMode){this.currentMode.onUpdate(e);var r=new P.a.Vector3,o=new P.a.Quaternion,a=new P.a.Vector3;this.currentMode.viewMatrix.decompose(r,o,a),this.camera.position.copy(r),this.camera.setRotationFromQuaternion(o),this.camera.updateMatrix(),this.camera.updateMatrixWorld(!0),this.camera.projectionMatrix.copy(this.currentMode.projectionMatrix),this.camera.projectionMatrixInverse.getInverse(this.camera.projectionMatrix)}}},{key:"setMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props.GCV,i=n.redux,r=i.store,o=i.actions;if(n.Camera.inTransform)return!1;if(void 0===this.modes[e])return console.log(3),void console.log("Invalid camera mode: "+e);this.is360=t.is360||!1,r.dispatch(o.floors.setDisabled(this.is360)),this.prevTransform=this.currentMode?this.currentMode.getCurrentTransform():void 0,this.previousMode=this.currentMode,this.currentMode=this.modes[e],this.previousMode&&(this.previousMode.onMouseLeave(),this.previousMode.onExit()),this.currentMode&&this.currentMode.onEnter(t);var a=!0;if(void 0!==t.needTransition)a=t.needTransition;else if(this.previousMode||(a=!1),this.previousMode){var s=this.currentMode.name,l=this.previousMode.name,c=L.a.DOLLHOUSE,u=L.a.ATTRACTION;(s===c&&l===u||s===u&&l===c)&&(a=!1)}if(a){this.inTransform=!0,this.currTransform=this.currentMode.getCurrentTransform();var h=(new P.a.Vector3).subVectors(this.currTransform.position,this.prevTransform.position),d=this.isInstantTransition?0:Object(_.c)(h.length()/n.Config.transition_speed,n.Config.transition_time_min,n.Config.transition_time_max);this.time=d}else this.inTransform=!1,this.currentMode.onTransformFinished();this.camera.isPerspectiveCamera="perspective"===this.currentMode.projectionType,this.camera.isOrthographicCamera="ortho"===this.currentMode.projectionType}},{key:"startTransform",value:function(){if(this.inTransform&&!this.transform){var e=this.time||0;this.transform=new tt(this.prevTransform,this.currTransform,e),this.Callbacks.onTransformStarted(this.previousMode?this.previousMode.name:void 0,this.currentMode.name)}}},{key:"transformTo",value:function(e){void 0!==this.currentMode&&this.currentMode.transformTo(e)}},{key:"getState",value:function(){if(this.currentMode){var e=this.currentMode.getState();return e.cameraMode=this.currentMode.name,Object.keys(e).forEach(function(t){var n=e[t];(n instanceof P.a.Vector2||n instanceof P.a.Vector3||n instanceof P.a.Vector4||n instanceof P.a.Matrix4)&&(e[t]=n.toArray())}),e}}},{key:"restoreState",value:function(e){return Object.keys(e).forEach(function(t){var n=e[t];if(n instanceof Array)switch(n.length){case 2:e[t]=(new P.a.Vector2).fromArray(n);break;case 3:e[t]=(new P.a.Vector3).fromArray(n);break;case 4:e[t]=(new P.a.Vector4).fromArray(n);break;case 16:e[t]=(new P.a.Matrix4).fromArray(n);break;default:console.log("Unknown item type in camera saved state: "+n)}}),e}},{key:"setSceneBounds",value:function(e){this.sceneBounds.copy(e)}},{key:"setTargetHeight",value:function(e){this.props.GCV;if(this.currentMode.name===L.a.ATTRACTION||this.currentMode.name===L.a.DOLLHOUSE||this.currentMode.name===L.a.OUTDOOR){var t=this.currentMode.getState();t.target.y=e,this.currentMode.transformTo(t)}}},{key:"getCurrentCamera",value:function(){return this.camera}},{key:"stopAnimation",value:function(){var e=this.props.GCV;this.currentMode.name===L.a.ATTRACTION&&e.Camera.setMode(L.a.DOLLHOUSE)}},{key:"onWindowResize",value:function(e,t){var n=this;this.screenWidth=e,this.screenHeight=t,Object.keys(this.modes).forEach(function(i){n.modes[i].onWindowResize(e,t)})}},{key:"onMouseDown",value:function(e){this.currentMode&&!this.currentMode.locked&&this.currentMode.onMouseDown(e)}},{key:"onMouseUp",value:function(e){this.currentMode&&!this.currentMode.locked&&this.currentMode.onMouseUp(e)}},{key:"onMouseMove",value:function(e,t){this.currentMode&&!this.currentMode.locked&&this.currentMode.onMouseMove(e,t)}},{key:"onMouseWheel",value:function(e){this.currentMode&&!this.currentMode.locked&&this.currentMode.onMouseWheel(e)}},{key:"onMouseLeave",value:function(){this.currentMode&&!this.currentMode.locked&&this.currentMode.onMouseLeave()}},{key:"onKeyDown",value:function(e){this.currentMode&&!this.currentMode.locked&&this.currentMode.onKeyDown(e)}},{key:"onKeyUp",value:function(e){this.currentMode&&!this.currentMode.locked&&this.currentMode.onKeyUp(e)}}]),e}(),gt=(n(229),/.jpg$/),yt=new ae(function(e,t){return t.quality-e.quality}),bt=function(){function e(t){a()(this,e),this.props=t,this.FLOOR_HIDE_TIME=.5,this.HIDDEN_FLOORS_OPACITY=.11,this.DEPTH_WRITE_OPACITY_BIAS=.1,this.mesh=null,this.simpleMaterials=[],this.projectionMaterials=[],this.textureMaps=[],this.floors=[],this.visible=!1,this.bounds=(new P.a.Box3).makeEmpty(),this.surfaces=[],this.nullTexture=null,this.useSimpleMaterials=!0,this.forceAllVisible=!1,this.materialsInitialized=!1,this.blankMaterial=new P.a.RawShaderMaterial({depthWrite:!0,depthTest:!0,colorWrite:!1,vertexShader:"\n        attribute vec3 position;\n\n        uniform mat4 modelViewMatrix;\n        uniform mat4 projectionMatrix;\n\n        void main() {\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position.xyz, 1.0);\n        }\n      ",fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0);\n        }\n      "}),this.hiddenFloorsOpacity=this.HIDDEN_FLOORS_OPACITY,this._geometryData=null,this._materialData=null,this._textures={},this._imageLoader=new ee,this._texturePath="",this._textureResolutions=[],this.initNullTexture()}return l()(e,[{key:"setVisible",value:function(e){var t=this.props.GCV;this.visible!==e&&(this.visible=e,e?t.Scene.add(this.mesh):t.Scene.remove(this.mesh))}},{key:"useSimpleMaterial",value:function(e){var t=this;this.useSimpleMaterials!==e&&(this.useSimpleMaterials=e,this.mesh.children.forEach(function(n,i){n.material=e?t.simpleMaterials[i]:t.projectionMaterials[i]}),this.update(0))}},{key:"initNullTexture",value:function(){if(!this.nullTexture){var e=document.createElement("canvas"),t=e.getContext("2d");t.fillStyle="red",t.fillRect(0,0,8,8);var n=[e,e,e,e,e,e];this.nullTexture=new P.a.CubeTexture(n)}}},{key:"setMeshData",value:function(e){this._geometryData=e.geometry,this._materialData=e.materials,this.setGeometryData(this._geometryData),this.setMaterialData(this._materialData),this.setupMesh()}},{key:"setGeometryData",value:function(e){this._geometryData=e,this.floors=[];var t=e.verts.length/5;this.bounds.makeEmpty();for(var n=0;n<t;n++){var i=new P.a.Vector3(e.verts[5*n],e.verts[5*n+1],e.verts[5*n+2]);this.bounds.expandByPoint(i)}}},{key:"setMaterialData",value:function(e){var t=this;this._materialData=e,this.textureMaps=[],e.forEach(function(e){-1===t.textureMaps.indexOf(e.texmap)&&t.textureMaps.push(e.texmap)})}},{key:"setupMesh",value:function(){var e=this,t=this.props.GCV;this.projectionMaterials=[],this.simpleMaterials=[];var n=new P.a.ShaderMaterial({uniforms:{sTexMain:{type:"t",value:this.nullTexture},sTex1:{type:"t",value:this.nullTexture},sTex2:{type:"t",value:this.nullTexture},gFactor1:{type:"1f",value:0},gFactor2:{type:"1f",value:0},gOpacity:{type:"1f",value:1},gMatrix1:{type:"m4",value:new P.a.Matrix4},gMatrix2:{type:"m4",value:new P.a.Matrix4},gPos1:{type:"v3",value:new P.a.Vector3},gPos2:{type:"v3",value:new P.a.Vector3},gColorBlend:{type:"v4",value:new P.a.Vector4(1,1,1,0)},gEnableHidding:{value:!1},gResolution:{value:new P.a.Vector2},gCursorPos:{value:new P.a.Vector2}},vertexShader:t.ShaderLib.getShaderSource("transition_effect.vs"),fragmentShader:t.ShaderLib.getShaderSource("transition_effect.fs")});t.ENV.hidePanoUnderCursor&&(n.defines.HIDE_PANO_UNDER_CURSOR=1);var i=new P.a.ShaderMaterial({uniforms:{sTexMain:{type:"t",value:this.nullTexture},gOpacity:{type:"1f",value:1},gColorBlend:{type:"v4",value:new P.a.Vector4(1,1,1,0)}},vertexShader:t.ShaderLib.getShaderSource("simple_material_color_blend.vs"),fragmentShader:t.ShaderLib.getShaderSource("simple_material_color_blend.fs")}),r=new P.a.InterleavedBuffer(this._geometryData.verts,5),o=new P.a.BufferGeometry;o.addAttribute("position",new P.a.InterleavedBufferAttribute(r,3,0,!1)),o.addAttribute("uv",new P.a.InterleavedBufferAttribute(r,2,3,!1)),o.setIndex(new P.a.BufferAttribute(this._geometryData.inds,1)),this.mesh=new P.a.Object3D;var a=t.Renderer.context;this._geometryData.surfaces.forEach(function(r,s){e.surfaces.push(r),void 0===r.floorIndex&&(r.floorIndex="0"),"string"!=typeof r.floorIndex&&(r.floorIndex=String(r.floorIndex)),r.visible=!0,e.floors.includes(r.floorIndex)||e.floors.push(r.floorIndex);var l=void 0!==r.materialIndex?r.materialIndex:s,c=e._materialData[l],u=n.clone();u.name=c.name,u.texmap=c.texmap,e.projectionMaterials.push(u);var h=i.clone();if(h.name=c.name,h.texmap=c.texmap,e.simpleMaterials.push(h),c.texmap in e._textures){var d=e._textures[c.texmap];u.map=d,u.uniforms.sTexMain.value=d,u.needsUpdate=!0,h.map=d,h.uniforms.sTexMain.value=d,h.needsUpdate=!0}var p=new P.a.Mesh(o,h);p.userData.indexOffset=r.indexOffset,p.userData.indexCount=r.indexCount,p.userData.vertexOffset=r.vertexOffset,p.userData.bbox=new P.a.Box3,p.userData.centroid=new P.a.Vector3,p.userData.floorId=r.floorIndex,e.mesh.add(p);for(var f=o.attributes.position,m=o.index,v=new P.a.Vector3,g=f.offset,y=0,b=r.indexOffset;b<r.indexOffset+r.indexCount;b++)f.offset=5*r.vertexOffset+g,v.fromBufferAttribute(f,m.getX(b)),p.userData.bbox.expandByPoint(v),p.userData.centroid.add(v),y++;if(p.userData.centroid.multiplyScalar(1/y),t.ENV.showBBox){var x=new P.a.Box3Helper(p.userData.bbox,16711680);t.Scene.add(x)}f.offset=g,p.onBeforeRender=function(e,t,n,i,r,o){for(var s in i.attributes){var l=i.attributes[s];"position"===s?l.offset=5*p.userData.vertexOffset:"uv"===s&&(l.offset=3+5*p.userData.vertexOffset)}if(r.program){var c=r.program.getAttributes();"position"in c&&a.vertexAttribPointer(c.position,3,a.FLOAT,!1,20,20*p.userData.vertexOffset),"uv"in c&&a.vertexAttribPointer(c.uv,2,a.FLOAT,!1,20,12+20*p.userData.vertexOffset)}i.drawRange.start=p.userData.indexOffset,i.drawRange.count=p.userData.indexCount},p.frustumCulled=!1}),this._compileShaders(),this.setVisibleFloors(this.floors),this.materialsInitialized=!1}},{key:"hidePanoramaUnderCursor",value:function(){this.mesh.children.forEach(function(e){var t=e.material;t.uniforms.gEnableHidding&&(t.uniforms.gEnableHidding.value=!0)})}},{key:"showPanoramaUnderCursor",value:function(){this.mesh.children.forEach(function(e){var t=e.material;t.uniforms.gEnableHidding&&(t.uniforms.gEnableHidding.value=!1)})}},{key:"setTexturePath",value:function(e){this._texturePath=e}},{key:"setTextureResolutions",value:function(e){this._textureResolutions=e}},{key:"getTexturePath",value:function(e){if(void 0===this._textureResolutions)return this._texturePath;var t=this._textureResolutions.length-1,n=Math.min(e,t);return this._texturePath+this._textureResolutions[n]+"/"}},{key:"loadTextures",value:function(t,n){var i,r=this,o=this.props.GCV,a=o.contentVersion,s=this.getTexturePath(t),l=this.textureMaps.length,c=0;function u(e,t){var n=document.createElement("canvas"),i=n.getContext("2d");return n.width=n.height=e,i.fillStyle=t,i.fillRect(0,0,e,e),n}if(o.ENV.atlasMipmap){var h=["#f00","#0f0","#00f","#400","#040","#004"],d=2048,p=u(d,"#f00");(i=new P.a.CanvasTexture(p)).mipmaps[0]=p,d/=2;for(var f=1;d>=1;f++,d/=2){var m=f<h.length?h[f]:"#fff";i.mipmaps[f]=u(d,m)}i.repeat.set(1e3,1e3),i.wrapS=P.a.RepeatWrapping,i.wrapT=P.a.RepeatWrapping,i.magFilter=P.a.NearestFilter,i.minFilter=P.a.NearestMipMapLinearFilter}var v=function(e,t){var a;o.ENV.atlasMipmap?a=r._textures[t]=i:(t in r._textures&&r._textures[t].dispose(),a=r._textures[t]=new P.a.Texture(e,void 0,void 0,void 0,void 0,void 0,P.a.RGBFormat)),a.needsUpdate=!0,r.projectionMaterials.forEach(function(e){e.texmap===t&&(e.map=a,e.needsUpdate=!0,e.uniforms.sTexMain.value=e.map)}),r.simpleMaterials.forEach(function(e){e.texmap===t&&(e.map=a,e.dispatchEvent({type:"updateTexture",tex:a}),e.needsUpdate=!0,e.uniforms.sTexMain.value=e.map)}),c++,void 0!==n&&o.LoadingProgress.set(n,c/l)},g={},y=function(n,i){var o=function(e,t){return new oe({quality:e},function(){return r._imageLoader.load(t)})}(t,n);return e.getLoadManager().executeTask(o).then(function(e){return v(e,i)}).catch(function(){return b(n,i)})},b=function(e,t){O.b.warn("Unable to load mesh texture "+e,"new attempt");var n=g[t];return g[t]=isNaN(n)?0:n+1,Object(D.a)(Math.min(300*n,3e3)).then(function(){return y(Be(e),t)})};return Promise.all(this.textureMaps.map(function(e){var t=s+(o.datum.tour.materialsWebp?e.replace(gt,".webp"):e)+a;return y(t,e)}))}},{key:"setVisibleFloors",value:function(e){e=e||this.floors,this.surfaces.forEach(function(t){t.visible=e.includes(t.floorIndex)})}},{key:"setTransition",value:function(e,t){var n=this,i=this.props.GCV;if(null===i.Panoramas.active||null===i.ActiveCubemap||!0===i.ActiveCubemap.completed){var r=i.ActiveCubemap||this.nullTexture,o=i.PreviousCubemap||this.nullTexture,a=new P.a.Matrix4,s=new P.a.Matrix4,l=new P.a.Vector3,c=new P.a.Vector3,u=0,h=0;if(!this.useSimpleMaterials)switch(e){case L.x.NONE:this.forceAllVisible=!1;break;case L.x.ENTER:this.forceAllVisible=!0,i.Panoramas.active&&(u=t*t,a.compose(i.Panoramas.active.position,i.Panoramas.active.rotation,new P.a.Vector3(1,1,1)),a.getInverse(a),l.copy(i.Panoramas.active.position));break;case L.x.EXIT:this.forceAllVisible=!1,i.Panoramas.previous&&(h=1-t*t,s.compose(i.Panoramas.previous.position,i.Panoramas.previous.rotation,new P.a.Vector3(1,1,1)),s.getInverse(s),c.copy(i.Panoramas.previous.position));break;case L.x.TRANSITION:this.forceAllVisible=!0,i.Panoramas.active&&(u=t*t,a.compose(i.Panoramas.active.position,i.Panoramas.active.rotation,new P.a.Vector3(1,1,1)),a.getInverse(a),l.copy(i.Panoramas.active.position)),i.Panoramas.previous&&(h=1-t*t,s.compose(i.Panoramas.previous.position,i.Panoramas.previous.rotation,new P.a.Vector3(1,1,1)),s.getInverse(s),c.copy(i.Panoramas.previous.position))}if(this.mesh)this.mesh.children.forEach(function(e,d){n.useSimpleMaterials||(1!==t||i.ENV.hidePanoUnderCursor?e.material=n.projectionMaterials[d]:(e.material=n.blankMaterial,e.material.visible=i.isDepthNeeded()));var p=e.material;p.uniforms.sTexMain&&(p.uniforms.sTexMain.value=p.map),p.uniforms.sTex1&&(p.uniforms.sTex1.value=r),p.uniforms.sTex2&&(p.uniforms.sTex2.value=o),p.uniforms.gFactor1&&(p.uniforms.gFactor1.value=u),p.uniforms.gFactor2&&(p.uniforms.gFactor2.value=h),p.uniforms.gMatrix1&&(p.uniforms.gMatrix1.value=a),p.uniforms.gMatrix2&&(p.uniforms.gMatrix2.value=s),p.uniforms.gPos1&&(p.uniforms.gPos1.value=l),p.uniforms.gPos2&&(p.uniforms.gPos2.value=c)});this.updateOpacity()}}},{key:"updateOpacity",value:function(){this.mesh&&this.mesh.children.forEach(function(e){var t=e.material;t.uniforms.gOpacity&&(t.uniforms.gOpacity.value=t.opacity),t.uniforms.gColorBlend&&(t.uniforms.gColorBlend.value=new P.a.Vector4(.4,.4,.4,1-t.opacity))})}},{key:"setHiddenFloorsOpacity",value:function(e){this.hiddenFloorsOpacity=void 0!==e?e:this.HIDDEN_FLOORS_OPACITY}},{key:"updateMaterials",value:function(){this.props.GCV;this.setTransition(L.x.EXIT,1)}},{key:"update",value:function(e){var t=this,n=this.props.GCV;this.mesh&&(this.mesh.visible=!n.Camera.is360);var i=e/this.FLOOR_HIDE_TIME,r=!1,o=n.InputManager.getMousePos(),a=new P.a.Vector2(o.x/(n.ENV.element.offsetWidth*n.ENV.scale)*2-1,-o.y/(n.ENV.element.offsetHeight*n.ENV.scale)*2+1);this.surfaces.forEach(function(e,o){var s=t.simpleMaterials[o],l=s.opacity,c=t.mesh.children[o],u=t.forceAllVisible||e.visible;s.opacity=u?Math.min(s.opacity+i,1):Math.max(s.opacity-i,t.hiddenFloorsOpacity),s.opacity!==l&&(r=!0),s.transparent=s.opacity<1,s.depthWrite=u?s.opacity>t.hiddenFloorsOpacity+t.DEPTH_WRITE_OPACITY_BIAS:s.opacity>1-t.DEPTH_WRITE_OPACITY_BIAS,c.renderOrder=c.userData.centroid.distanceTo(n.Camera.getCurrentCamera().position),s.transparent&&(c.renderOrder=-c.renderOrder);var h=t.projectionMaterials[o];h.opacity=s.opacity,h.depthWrite=s.depthWrite,h.transparent=s.transparent,n.ENV.hidePanoUnderCursor&&(h.uniforms.gResolution.value.set(n.ENV.element.offsetWidth*n.ENV.scale*devicePixelRatio,n.ENV.element.offsetHeight*n.ENV.scale*devicePixelRatio),h.uniforms.gCursorPos.value.copy(a))}),this.materialsInitialized?r&&this.updateOpacity():(this.materialsInitialized=!0,this.updateMaterials())}},{key:"_compileShaders",value:function(){var e=this.props.GCV,t=new P.a.Scene,n=new P.a.Mesh(new P.a.PlaneGeometry(1,1,1),this.blankMaterial);n.frustumCulled=!1,t.add(n);for(var i=0;i<this.simpleMaterials.length;i++){var r=this.simpleMaterials[i];(n=n.clone()).material=r,n.frustumCulled=!1,t.add(n);var o=this.projectionMaterials[i];(n=n.clone()).material=o,n.frustumCulled=!1,t.add(n)}e.Renderer.render(t,new P.a.Camera),n.geometry.dispose()}}],[{key:"getLoadManager",value:function(){return yt}}]),e}(),xt=function(){function e(t){var n,i=this;a()(this,e),this.getTargetHeight=(n=new P.a.Vector3,function(){var e=i.props.GCV,t=0;return null!==i.visibleList&&i.floors.length>0?(i.visibleList.forEach(function(e){var r=i.floors.find(function(t){return t.id===e});void 0!==r&&(t+=r.boundingBox.getCenter(n).y)}),t/=i.visibleList.length):t=e.SceneBounds.getCenter(n).y,t}),this.props=t,this.floors=[],this.numbers=[],this.visibleList=null}return l()(e,[{key:"init",value:function(e){var t=this,n=this.props.GCV;if(n.datum.tour.floorPlanUrl){var i={id:0,number:0,textureUrl:n.datum.tour.floorPlanUrl,boundingBox:n.SceneBounds,textureMin:n.datum.tour.floorPlanTexMin,textureMax:n.datum.tour.floorPlanTexMax};this.numbers.push(0),this.floors.push(i),n.FloorPlanController.addFloor(i)}else n.datum.tour.floors.forEach(function(i){var o=e.mesh.children,a=new P.a.Box3,s=!0,l=!1,c=void 0;try{for(var u,h=o[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;d.userData.floorId===i.id&&a.union(d.userData.bbox)}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}a.isEmpty()&&a.copy(n.SceneBounds),t.numbers.push(i.number);var p=n.datum.user.floors&&n.datum.user.floors.find(function(e){return e.id===i.id}),f=r()({},i,{useUserPlan:p&&p.useUserPlan,boundingBox:a});t.floors.push(f),n.FloorPlanController.addFloor(f)})}},{key:"getUpperId",value:function(){var e=Math.max.apply(Math,w()(this.numbers));return this.floors.find(function(t){return t.number===e}).id}},{key:"getLowerId",value:function(){var e=Math.min.apply(Math,w()(this.numbers));return this.floors.find(function(t){return t.number===e}).id}},{key:"setVisible",value:function(e){var t=this,n=this.props.GCV,i=n.redux,r=i.store,o=i.actions,a=n.Camera.currentMode,s=a.name===L.a.INSIDE,l=a.name===L.a.DOLLHOUSE||a.name===L.a.ATTRACTION;if(e!==this.visibleList&&!(this.floors.length<2)){if(e){var c=!1,u=!0,h=!1,d=void 0;try{for(var p,f=function(){var n=p.value;if(t.floors.find(function(e){return e.id===n}))return t.visibleList=w()(e),c=!0,"break"},m=e[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){if("break"===f())break}}catch(e){h=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw d}}if(!c)return}else this.visibleList=null;if(e=this.visibleList,n.NewFinalModel.setVisibleFloors(e),n.FloorPlanController.setVisibleFloors(e),n.StagedFinalModel&&n.StagedFinalModel.setVisibleFloors(e),n.NonStagedFinalModel&&n.NonStagedFinalModel.setVisibleFloors(e),e&&s&&!e.includes(n.Panoramas.active.floorId)){var v=n.Panoramas.getNearestIdFromFloor(n.Camera.getCurrentCamera().position,e[0]);if(!v)return;n.Transitions.start({cameraMode:L.a.INSIDE,transitionStyle:L.y.FLY_FADE,panoramaId:v})}r.dispatch(o.floors.selectFloor(e));var g=this.getTargetHeight();if(l)n.Camera.modes[L.a.DOLLHOUSE].updateLimits();n.Camera.setTargetHeight(g)}}},{key:"updateBoundingBoxParams",value:function(){var e=this.props.GCV,t=e.Camera.modes[L.a.DOLLHOUSE],n=this.getTargetHeight();if(this.floors.length<2){var i=this.getBoundingBox();if(e.Config.dollhouse_singlefloor_max_angle<0){var r=(n-i.max.y)/Math.sin(Math.PI/180*e.Config.dollhouse_singlefloor_max_angle)+e.Config.dollhouse_singlefloor_min_distance;t.setMaxAngle(e.Config.dollhouse_singlefloor_max_angle),t.setMinDistance(r,!0)}else console.error("dollhouse_singlefloor_max_angle have to be less 0")}else t.setMaxAngle(e.Config.dollhouse_multifloor_max_angle),t.setMinDistance(e.Config.dollhouse_multifloor_min_distance_factor,!1)}},{key:"getBoundingBox",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new P.a.Box3,n=this.props.GCV;return null!==this.visibleList&&this.floors.length>0?this.visibleList.forEach(function(n){var i=e.floors.find(function(e){return e.id===n});t.union(i.boundingBox)}):t.copy(n.SceneBounds),t}},{key:"getVisible",value:function(){var e=this.props.GCV;return this.visibleList&&this.visibleList.length>0?this.visibleList:e.datum.tour.floors.length>0?e.datum.tour.floors.map(function(e){return e.id}):["0"]}}]),e}(),wt=(n(302),function(){function e(){a()(this,e),this.managers=[],this.isStarted=!1,this.retainedThreads=new Map,this._comparator=function(){return 0},this._loop=this._loop.bind(this),this._retainThread=this._retainThread.bind(this),this._releaseThread=this._releaseThread.bind(this),this.start()}return l()(e,[{key:"addManager",value:function(e){this.managers.push(e),this.retainedThreads.set(e,0)}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;this.isStarted=!0;for(var t=0;t<e;t++)this._loop()}},{key:"stop",value:function(){this.isStarted=!1}},{key:"setComparator",value:function(e){this._comparator=e}},{key:"_loop",value:function(){var e=this;if(this.isStarted){this.managers.sort(this._comparator);var t=this._findBusyManager();t?t.doTask().then(function(){return e._releaseThread(t),e._loop()}).catch(function(n){return e._releaseThread(t),e._loop()}):setTimeout(this._loop,100)}}},{key:"_findBusyManager",value:function(){for(var e in this.managers){var t=this.managers[e];if(t.getTaskCount()&&this._retainThread(t))return t}}},{key:"_retainThread",value:function(e){var t=this.retainedThreads.get(e);return t<10&&(this.retainedThreads.set(e,t+1),!0)}},{key:"_releaseThread",value:function(e){this.retainedThreads.set(e,Math.max(this.retainedThreads.get(e)-1,0))}}]),e}());(new wt).stop();var At=n(210),Mt=n.n(At),Et=(n(235),{NONE:0,RENDERER:1,CONTENT:2}),Ct=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this)))._renderInitiator=Et.NONE,e._animationFrameHandle=0,e._render=e._render.bind(xe()(e)),e._currentTime=-1/0,e._throttledSet=new Set,e}return f()(t,e),l()(t,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et.CONTENT;this._renderInitiator=Math.max(this._renderInitiator,e),this._animationFrameHandle||(this._animationFrameHandle=requestAnimationFrame(this._render))}},{key:"stop",value:function(){this._renderInitiator=Et.NONE,this._animationFrameHandle&&(cancelAnimationFrame(this._animationFrameHandle),this._animationFrameHandle=0)}},{key:"throttle",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this,o=0,a=!1;function s(){var l=r._currentTime,c=i-(l-o);return(c<=0||c>i)&&(o=r._currentTime,e.apply(t,n),t=n=null,o=l,r._throttledSet.delete(s),a=!1,!0)}return function(){o||(o=r._currentTime),t=this,n=arguments,s()||a||(r._throttledSet.add(s),a=!0)}}},{key:"_render",value:function(e){this._currentTime=e;var t=!0,n=!1,i=void 0;try{for(var r,o=this._throttledSet[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){(0,r.value)()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this._animationFrameHandle=0,this.emit("render",this._renderInitiator),this._renderInitiator=Et.NONE}}]),t}(N.EventEmitter),St=[new P.a.Vector3(1,0,0),new P.a.Vector3(-1,0,0),new P.a.Vector3(0,1,0),new P.a.Vector3(0,-1,0),new P.a.Vector3(0,0,1),new P.a.Vector3(0,0,-1)],Tt=function(){function e(t,n){a()(this,e),this.position=t,this.meshUuid=n}return l()(e,[{key:"clone",value:function(){return new e(this.position.clone(),this.meshUuid)}}]),e}(),_t=function(e){function t(e,n,i,r){var o;a()(this,t),(o=u()(this,d()(t).call(this))).sourceMeshUuids=new Set;var s=function(e,t,n,i,r){var o=e.children[0].geometry,a=[],s=new P.a.Vector3,l=new P.a.Vector3,c=new P.a.Vector3,u=o.attributes.position,h=new P.a.Matrix4;h.makeRotationFromEuler(n),h.setPosition(t);var d=(new P.a.Matrix4).getInverse(h),p=o.index,f=e.children,m=!0,v=!1,g=void 0;try{for(var y,b=f[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var x=y.value,w=d.clone().multiply(x.matrixWorld),A=(new P.a.Matrix4).getInverse(w),M=new P.a.Box3(i.clone().negate(),i),E=M.clone().applyMatrix4(A);if(x.userData.bbox.intersectsBox(E)){u.offset=5*x.userData.vertexOffset;for(var C=x.userData.indexOffset;C<x.userData.indexOffset+x.userData.indexCount;C+=3)s.fromBufferAttribute(u,p.getX(C+0)),l.fromBufferAttribute(u,p.getX(C+1)),c.fromBufferAttribute(u,p.getX(C+2)),E.intersectsTriangle(new P.a.Triangle(s,l,c))&&(Pt(a,w,s,x.uuid),Pt(a,w,l,x.uuid),Pt(a,w,c,x.uuid))}}}catch(e){v=!0,g=e}finally{try{m||null==b.return||b.return()}finally{if(v)throw g}}u.offset=0,a=function(e,t){new P.a.Vector3;for(var n=[],i=[],r=[],o=0;o<e.length;o+=3){r=[e[o+0],e[o+1],e[o+2]];for(var a=0;a<St.length;a++){var s=St[a],l=.5*Math.abs(t.dot(s));i=[];for(var c=0;c<r.length;c+=3){var u=r[c+0],h=r[c+1],d=r[c+2],p=0,f=0,m=0,v=void 0,g=void 0,y=void 0,b=void 0,x=u.position.dot(s)-l,w=h.position.dot(s)-l,A=d.position.dot(s)-l;switch(((p=x>0)?1:0)+((f=w>0)?1:0)+((m=A>0)?1:0)){case 0:i.push(u),i.push(h),i.push(d);break;case 1:p?(g=d,y=Lt(u,v=h,s,l),b=Lt(u,g,s,l)):f?(b=d,v=Lt(h,y=u,s,l),g=Lt(h,b,s,l)):m&&(g=h,y=Lt(d,v=u,s,l),b=Lt(d,g,s,l)),i.push(v),i.push(g),i.push(y),i.push(b),i.push(y.clone()),i.push(g.clone());break;case 2:p?f?m||(g=Lt(v=d,u,s,l),y=Lt(v,h,s,l)):(g=Lt(v=h,d,s,l),y=Lt(v,u,s,l)):(g=Lt(v=u,h,s,l),y=Lt(v,d,s,l)),i.push(v),i.push(g),i.push(y)}}r=i}n.push.apply(n,r)}return n}(a,i);var S=[],T=[];S.length=3*a.length,T.length=2*a.length;for(var _="",L=0;L<a.length;L++){var k=a[L];_!==k.meshUuid&&(_=k.meshUuid,r.add(_)),T[2*L+0]=.5+k.position.x/i.x,T[2*L+1]=.5+k.position.y/i.y,k.position.applyMatrix4(h),S[3*L+0]=k.position.x,S[3*L+1]=k.position.y,S[3*L+2]=k.position.z}return{position:new P.a.Float32BufferAttribute(S,3),uv:new P.a.Float32BufferAttribute(T,2)}}(e,n,i,r,o.sourceMeshUuids);for(var l in s)o.addAttribute(l,s[l]);return o.computeVertexNormals(),o}return f()(t,e),t}(P.a.BufferGeometry);function Pt(e,t,n,i){n.applyMatrix4(t),e.push(new Tt(n.clone(),i))}function Lt(e,t,n,i){var r=e.position.dot(n)-i,o=r/(r-(t.position.dot(n)-i));return new Tt(new P.a.Vector3(e.position.x+o*(t.position.x-e.position.x),e.position.y+o*(t.position.y-e.position.y),e.position.z+o*(t.position.z-e.position.z)),e.meshUuid)}var kt={blending:P.a.CustomBlending,blendSrc:P.a.OneFactor,blendDst:P.a.OneMinusSrcAlphaFactor,transparent:!0,depthWrite:!1,uniforms:{uStart:{value:new P.a.Vector3},uFinish:{value:new P.a.Vector3},uFloorplanViewFactor:{value:0},uResolution:{value:new P.a.Vector2},uTexture:{type:"s"},uWidth:{value:64}},vertexShader:"\n    uniform vec2 uResolution;\n    uniform vec3 uStart;\n    uniform vec3 uFinish;\n    uniform float uWidth;\n    uniform float uFloorplanViewFactor;\n\n    varying vec2 vUv;\n    varying float vAlpha;\n\n    void main() {\n      float aspect = uResolution.x / uResolution.y;\n      vec4 pos = modelViewMatrix * vec4(position, 1.0);\n\n      vec4 start = modelViewMatrix * vec4(uStart, 1.0);\n      vec4 finish = modelViewMatrix * vec4(uFinish, 1.0);\n      // TODO: trim the segment (start, finish)\n\n      vec4 ndcStart = projectionMatrix * start;\n      vec4 ndcFinish = projectionMatrix * finish;\n\n      // WHY: do we take ndcFinish.w and not ndcStart.w?\n      float clipW = ndcFinish.w;\n      ndcStart /= ndcStart.w;\n      ndcFinish /= ndcFinish.w;\n\n      vec2 lineDir = (ndcFinish.xy - ndcStart.xy) * vec2(aspect, 1.);\n      vec2 dir = normalize(lineDir);\n      vec2 offset = vec2(dir.y, -dir.x);\n      offset /= uResolution.y / uWidth;\n      vUv = uv * vec2(length(lineDir) / length(offset), 1);\n      vUv.y = 1. - vUv.y;\n      offset.x /= aspect;\n\n      offset *= clipW * (uv.y - 0.5);\n\n      gl_Position = projectionMatrix * pos;\n      gl_Position.xy -= offset;\n      vAlpha = uFloorplanViewFactor;\n      // NOTE: optimized pow(vAlpha, 8.0)\n      vAlpha = vAlpha * vAlpha;\n      vAlpha = vAlpha * vAlpha;\n      vAlpha = vAlpha * vAlpha;\n      vAlpha = vAlpha * vAlpha;\n    }\n  ",fragmentShader:"\n    uniform float time;\n    uniform vec3 uColor;\n    uniform sampler2D uTexture;\n\n    varying vec2 vUv;\n    varying float vAlpha;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vUv) * vAlpha;\n      gl_FragColor.xyz *= gl_FragColor.a;\n    }\n  "},It={transparent:!0,depthWrite:!1,polygonOffset:!0,polygonOffsetFactor:-4,uniforms:{uColor:{value:new P.a.Vector3},uFloorplanViewFactor:{value:0},uSize:{value:new P.a.Vector2},uNormal:{value:new P.a.Vector3},uDoubleSide:{value:!1}},vertexShader:"\n    uniform vec2 uSize;\n    uniform vec3 uNormal;\n    uniform float uFloorplanViewFactor;\n    uniform bool uDoubleSide;\n\n    varying vec2 vUv;\n    varying float vVisibility;\n    void main() {\n      vec4 pos = modelViewMatrix * vec4(position, 1.0);\n      vVisibility = dot(normalMatrix * normal, normalMatrix * uNormal) *\n        (1. - uFloorplanViewFactor);\n      if (uDoubleSide) {\n        vVisibility = abs(vVisibility);\n      }\n\n      vUv = uv * uSize;\n\n      gl_Position = projectionMatrix * pos;\n    }\n  ",fragmentShader:"\n    uniform vec3 uColor;\n\n    varying vec2 vUv;\n    varying float vVisibility;\n    void main() {\n      // FIXME: too many magic constants\n      float alpha = smoothstep(0., 0.3, sin((vUv.x + vUv.y) * 30.) - 0.5) * 0.5;\n      gl_FragColor = vec4(uColor, alpha * vVisibility);\n    }\n  "},Ot=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this)))._floorplanMaterial=new P.a.ShaderMaterial(kt).clone(),e._nonfloorplanMaterial=new P.a.ShaderMaterial(It).clone(),e._resolution=new P.a.Vector2,e}return f()(t,e),l()(t,[{key:"create",value:function(e,t,n){var i=this,r=e.lines,o=function(e){var n=r[e],o=(new P.a.Vector3).fromArray(n.startPoint),a=(new P.a.Vector3).fromArray(n.finishPoint),s=a.clone().sub(o),l=o.clone().add(s.clone().multiplyScalar(.5)),c=s.length();s.normalize();var u=(new P.a.Vector3).crossVectors(s,new P.a.Vector3(0,1,0)).normalize(),h=void 0,d=void 0,p=void 0,f=void 0;switch(n.type){case"Trash":h=new P.a.Color(1,.172,.285),d=new P.a.Texture,(p=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/gAqAERKLBP8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4goLCggBuKCwwQAAAMRJREFUWMNj/KflwjCQgIlhgMGoA0YdMOqAUQeMOmDAHcDCwMBQN5AOYPyn5fJ/NA2M+ERYT6TaRgYGBgaGrFgIb9pimDhF+mGJsAGuADeoh6pjuLtxOgMDAwODsn8mTI5s/ci5YEAcwQRjQCXqiQjGBmSLKdXPePv27f/UCk5y9DNRyyfk6oenAWomLFL0M1E7TknVz0SLhEWKfiZapW5i9TPRMosRo5+J1vmckH4mehQ2+PQz4ume20MxNtBEROVDlH4AOSSNUHMV0XEAAAAASUVORK5CYII=",p.onload=function(e){d.image=p,d.wrapS=P.a.RepeatWrapping,d.wrapT=P.a.ClampToEdgeWrapping,d.needsUpdate=!0},f=32;break;case"Mirror":h=new P.a.Color(.531,.695,.434),d=new P.a.Texture,(p=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QAjwC0AGk8zBMMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4goLCgY2np44QAAAAOxJREFUWMNj7N+SyTCQgIlhgMGoA0YdMOqAUQeMOmDAHcDCwMBQN9AOaBxNAyM+EdYTqbaRgYGBwVzVi4GBgYHh5O1tMHGK9DP2b8n8z8DA0EBEYqyHqmPwUS9iYGBgYNhysw8mR7Z+Zo8o0wYGBgYHqKKDeAyAyTncenucQU3EkkFNxJLh1tvjDJToZ57SuLyBUkMo0c+cl5fXQA2fkKufWcn9TwO1gpMc/cweUaYN1IxTUvUze0SZUj1hkaKf2SPKlCapm1j9sBAYMEfAHDBgjkB2wIA4At0BdHcEI57uuT0UYwNNRFQ+ROkHAD8f0wpv5IBwAAAAAElFTkSuQmCC",p.onload=function(e){d.image=p,d.wrapS=P.a.RepeatWrapping,d.wrapT=P.a.ClampToEdgeWrapping,d.needsUpdate=!0},f=32;break;case"Window":h=new P.a.Color(.039,.773,.98),d=new P.a.Texture,(p=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXNc+lmA8WMGZwHKo7QqAAAAtUlEQVRYw2N0Ov6fYSABE8MAg1EHjDpg1AGjDmAB4rqBdAAjsCj+P+KjAATqiVTfCCJ8ud6COZu/CTNQqh85ChpgCvCAeqg6hpkid8AC6W9UGCjRz7yrIqZhyzchENsBquggHgNgcg4gPb5c78CYEv2Mt2/f/k8Nn5Crn/lq1KQGavjElfMDw47vgiTrh6cBaiSsL/+YGfb/ECBFP+NoOcBCQlDTrCgerY5HHTDqgFEHjGwHAADYNVjWH7ER4AAAAABJRU5ErkJggg==",p.onload=function(e){d.image=p,d.wrapS=P.a.RepeatWrapping,d.wrapT=P.a.ClampToEdgeWrapping,d.needsUpdate=!0},f=64}var m=function(e,t,n,i){var r=new P.a.Geometry;return r.vertices.push(e.clone().add(new P.a.Vector3(0,n/2,0)),t.clone().add(new P.a.Vector3(0,n/2,0)),t.clone().add(new P.a.Vector3(0,n/2,0)),e.clone().add(new P.a.Vector3(0,n/2,0))),r.faceVertexUvs[0].push([new P.a.Vector2(0,0),new P.a.Vector2(1,0),new P.a.Vector2(1,1)],[new P.a.Vector2(0,0),new P.a.Vector2(1,1),new P.a.Vector2(0,1)]),r.faces.push(new P.a.Face3(0,1,2,void 0,new P.a.Color(0,0,0)),new P.a.Face3(0,2,3,void 0,new P.a.Color(0,0,0))),r.colorsNeedUpdate=!0,r.computeBoundingSphere(),r}(o,a,n.height),v=new P.a.Mesh(m,i._floorplanMaterial.clone());v.material.uniforms.uStart.value=o,v.material.uniforms.uFinish.value=a,v.material.uniforms.uTexture.value=d,v.material.uniforms.uWidth.value=f,v.userData.floorId=null,v.renderOrder=11,i.add(v);var g=[],y=void 0;if("Trash"!==n.type){var b=new _t(t,l,new P.a.Euler(0,Math.atan2(u.x,u.z),0),new P.a.Vector3(c,n.height,.1)),x=!0,w=!1,A=void 0;try{for(var M,E=t.children[Symbol.iterator]();!(x=(M=E.next()).done);x=!0){var C=M.value;b.sourceMeshUuids.has(C.uuid)&&!g.includes(C.userData.floorId)&&g.push(C.userData.floorId)}}catch(e){w=!0,A=e}finally{try{x||null==E.return||E.return()}finally{if(w)throw A}}y=new P.a.Mesh(b,i._nonfloorplanMaterial.clone())}else{var S=function(e,t,n,i){var r=new P.a.Geometry,o=e.clone().add(new P.a.Vector3(0,-n/2,0)),a=t.clone().add(new P.a.Vector3(0,-n/2,0));return r.vertices.push(o.clone(),a.clone(),a.clone().add(new P.a.Vector3(0,n,0)),o.clone().add(new P.a.Vector3(0,n,0))),r.faceVertexUvs[0].push([new P.a.Vector2(0,0),new P.a.Vector2(1,0),new P.a.Vector2(1,1)],[new P.a.Vector2(0,0),new P.a.Vector2(1,1),new P.a.Vector2(0,1)]),r.faces.push(new P.a.Face3(0,1,2),new P.a.Face3(0,2,3)),r.colorsNeedUpdate=!0,r.computeBoundingSphere(),r}(o,a,n.height);S.computeVertexNormals(),(y=new P.a.Mesh(S,i._nonfloorplanMaterial.clone())).renderOrder=2,i.add(y)}var T=new P.a.Vector2(c,n.height);if(y.material.uniforms.uSize.value=T,y.material.uniforms.uColor.value=h,y.material.uniforms.uNormal.value=u,y.material.uniforms.uDoubleSide.value="Window"===n.type,i.add(y),"Trash"===n.type){y.userData.floorIds=v.userData.floorIds=null;var _=!0,L=!1,k=void 0;try{for(var I,O=t.children[Symbol.iterator]();!(_=(I=O.next()).done);_=!0){var D=I.value,R=o.clone().max(D.userData.bbox.min).min(D.userData.bbox.max);o.equals(R)&&!g.includes(D.userData.floorId)&&g.push(D.userData.floorId)}}catch(e){L=!0,k=e}finally{try{_||null==O.return||O.return()}finally{if(L)throw k}}}y.userData.floorIds=v.userData.floorIds=g.length>0?g:null};for(var a in r)o(a)}},{key:"setSize",value:function(e,t){this._resolution.x=e,this._resolution.y=t;var n=!0,i=!1,r=void 0;try{for(var o,a=this.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"uResolution"in s.material.uniforms&&(s.material.uniforms.uResolution.value=this._resolution)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"setFloorplanView",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;"uFloorplanViewFactor"in a.material.uniforms&&(a.material.uniforms.uFloorplanViewFactor.value=e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}},{key:"update",value:function(e){this.children.forEach(function(t){t.visible=null===t.userData.floorIds||null===e||e.filter(function(e){return t.userData.floorIds.includes(e)}).length>0})}}]),t}(P.a.Object3D);var Dt=new P.a.RawShaderMaterial({side:P.a.DoubleSide,depthWrite:!1,depthTest:!0,uniforms:{uTexture:{type:"t",value:null},uCubeMatrix:{type:"m4",value:new P.a.Matrix4},uViewMatrix:{type:"m4",value:new P.a.Matrix4},uProjectionMatrix:{type:"m4",value:new P.a.Matrix4}},vertexShader:"\n    attribute vec4 position;\n    uniform vec4 cameraPosition;\n\n    uniform mat4 uCubeMatrix;\n    uniform mat4 uViewMatrix;\n    uniform mat4 uProjectionMatrix;\n    varying vec3 vUv;\n    void main() {\n      vec3 wPos = position.xyz + cameraPosition.xyz;\n      vec3 coords = mat3(uCubeMatrix) * position.xyz;\n      vUv.x = coords.z;\n      vUv.y = coords.y;\n      vUv.z = coords.x;\n      gl_Position = uProjectionMatrix * uViewMatrix * vec4(wPos.xyz, 1.0);\n    }\n  ",fragmentShader:"\n    precision mediump float;\n    uniform samplerCube uTexture;\n    varying vec3 vUv;\n    void main() {\n      gl_FragColor = textureCube(uTexture, vUv);\n      gl_FragColor.w = 0.5;\n    }\n  "}),Rt=new P.a.RawShaderMaterial({depthWrite:!1,depthTest:!0,uniforms:{uTexture:{type:"t",value:null},uTexAspectRatio:{type:"f",value:1},uScreenAspectRatio:{type:"f",value:1}},vertexShader:"\n    attribute vec4 position;\n    attribute vec2 uv;\n\n    uniform float uTexAspectRatio;\n    uniform float uScreenAspectRatio;\n\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      float factor = uScreenAspectRatio / uTexAspectRatio;\n      vec2 pos = position.xy;\n      if (factor > 1.) {\n        pos.y = pos.y * factor;\n      } else {\n        pos.x = pos.x / factor;\n      }\n      gl_Position = vec4(pos, 1.0, 1.0);\n    }\n  ",fragmentShader:"\n    precision mediump float;\n    uniform sampler2D uTexture;\n    varying vec2 vUv;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vUv);\n      gl_FragColor.w = 0.5;\n    }\n  "}),Nt=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this))).screenWidth=void 0,e.screenHeight=void 0,e.showAllways=void 0,e.texture=void 0,e.material=void 0,e.backgroundMesh=void 0,e.material=null,e.backgroundMesh=null,e.screenWidth=1,e.screenHeight=1,e.showAllways=!1,e}return f()(t,e),l()(t,[{key:"init",value:function(e,t){var n=this;if(this.dispose(),this.showAllways=t,this.texture=e,e.isCubeTexture){this.material=Dt.clone(),this.material.uniforms.uTexture.value=e;var i=new P.a.BoxGeometry(20,20,20);this.backgroundMesh=new P.a.Mesh(i,this.material),this.backgroundMesh.onBeforeRender=function(e,t,i,r,o,a){n.material.uniforms.uViewMatrix.value=i.matrixWorldInverse}}else{this.material=Rt.clone(),this.material.uniforms.uTexture.value=e;var r=new P.a.PlaneGeometry(2,2);this.backgroundMesh=new P.a.Mesh(r,this.material),e.onUpdate=function(){n.material.uniforms.uTexAspectRatio.value=e.image.width/e.image.height}}this.backgroundMesh.frustumCulled=!1,this.backgroundMesh.renderOrder=1/0,this.add(this.backgroundMesh)}},{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.showAllways?this.backgroundMesh.renderOrder=-1/0:this.visible=!1}},{key:"dispose",value:function(){this.material&&(this.texture.dispose(),this.material.dispose(),this.backgroundMesh.geometry.dispose())}},{key:"setSize",value:function(e,t){if(this.screenWidth=e,this.screenHeight=t,this.material)if(this.material.uniforms.uProjectionMatrix){var n=.1*this.screenWidth/this.screenHeight;this.material.uniforms.uProjectionMatrix.value.makePerspective(-n/2,n/2,.05,-.05,.1,17.3206)}else this.material.uniforms.uScreenAspectRatio.value=e/t}}]),t}(P.a.Object3D);function Vt(e){return e.ENV.browser.safari&&e.ENV.browser.mobile}var Bt,Ft=function(){function e(t){var n=this;a()(this,e),this.setError=function(e){O.b.error(e),n.state.isError=!0},this.onResize=function(){var e=n.ENV.element,t=e.offsetWidth,i=e.offsetHeight;n.Renderer.setSize(t,i),n.ENV.disableSupersampling&&!n.PostprocessingComposer.postfx||n.PostprocessingComposer.setSize(t,i),n.UserRegions.setSize(t,i),n.HighresPanoSphere.setSize(t,i),n.Background.setSize(t,i),n.Camera.onWindowResize(t,i)},this.getDeltaTime=function(){return n.state.deltaTime},this.isStagedMesh=function(){return void 0!==n.NonStagedFinalModel},this.toggleStagedMesh=function(){n.setStagedMesh(!n.isStagedMesh())},this.setStagedMesh=function(e){if(n.isStagedMesh()===e||!n.StagedFinalModel||!n.isStagedModelReady)return!1;var t=n.redux,i=t.store,r=t.actions,o=Boolean(n.datum.tour.outdoorMesh),a=n.Camera.currentMode.name===L.a.INSIDE;if(!o){var s=e?n.datum.tour.stagedPanoramasPath:n.datum.tour.panoramasPath;n.Panoramas.setPath(s)}return e?(n.NonStagedFinalModel=n.NewFinalModel,n.NewFinalModel=n.StagedFinalModel,n.Camera.setSceneBounds(n.NewFinalModel.bounds)):(n.NewFinalModel=n.NonStagedFinalModel,n.NonStagedFinalModel=void 0),n.NewFinalModel.useSimpleMaterial(!0),n.Camera.setSceneBounds(n.NewFinalModel.bounds),o&&n.Floors.floors.length>1&&(n.Floors.setVisible(null),i.dispatch(r.floors.setDisabled(e))),i.dispatch(r.staging.setStagedMode(e)),!o&&a?n.Transitions.start({cameraMode:L.a.INSIDE,transitionStyle:L.y.FLY,panoramaId:n.Panoramas.activeId,time:400}).then(function(){n.updateModelVisibility()}):(n.NewFinalModel.updateMaterials(),n.updateModelVisibility()),!0},this.redux=t.redux;var i=this.redux.store.getState().app,r=i.ENV,o=i.datum;this.ENV=r,this.datum=o,this.setReady=t.setReady,this.contentVersion="?rev=".concat(this.datum.tour.version||"default","&viewer=").concat("DEV/1039"),this.state={isError:!1,isMeshLoaded:!1,isHighResTextures:!1,isPanoLoaded:!1,isFloorplanLoaded:!1,isLowResTexturesLoaded:!1,isPlayerStarted:!1,lastLoadingProgress:0,currentTime:0,deltaTime:0,fixedDeltaTime:0,fixedTimeMin:1/60,fixedTimeMax:.1,minDeltaTime:1/0,maxDeltaTime:0,defaultTimeToResetStats:20,timeToResetStats:20},this.promises={loadCollision:null,loadGeometry:null,loadMaterials:null,loadTextures:null,loadHighResTextures:null,loadMesh:null,loadFloorplan:null,loadStagedGeometry:null,loadStagedMaterials:null,loadStagedTextures:null,loadStagedHighResTextures:null,loadStagedMesh:null,showBackground:null,startInteractionMode:null},this._userRegionVisible=!1,this.showUIWithDebounce=Mt()(this.showUIWithDebounce,1300),this.init()}return l()(e,[{key:"init",value:function(){var e=this;this.Config=new R({userConfig:this.datum.user.config,envConfig:this.ENV.config,textureQuality:this.ENV.textureQuality,tileMinLod:this.ENV.tileMinLod,tileMaxLod:this.ENV.tileMaxLod,modelTextureResolutions:this.datum.tour.modelTextureResolutions,panoTileLods:this.datum.tour.panoTileLods,isMSIE:this.ENV.browser.msie}),this.ENV.isDebug||this.ENV.isMobileDebug?(window.GCV||(window.GCV=[]),window.GCV.push(this),this.Debug=new G({GCV:this}),O.b.setLevel(O.a.ALL)):O.b.setLevel(O.a.ERROR),this.loaderTaskManager=new wt;var t=function(t,n){if(!e.Camera.currentMode)return 0;var i=e.Camera.currentMode.name===L.a.INSIDE,r=t.getNextTask(),o=n.getNextTask();if(i){if("PanoramasLoadManager"===t.name){if("TileManagerLoadManager"!==n.name)return 1;if(r&&r.id===e.Panoramas.activeId||o&&o.priority<0)return 1}else if("TileManagerLoadManager"===t.name&&r&&r.priority>0&&o&&o.id!==e.Panoramas.activeId)return 1}else if("PanoramasLoadManager"===t.name)return 1;return 0};this.loaderTaskManager.setComparator(function(e,n){return t(n,e)||-t(e,n)||Math.random()-.5}),this.ShaderLib=new Y;var n={preserveDrawingBuffer:this.ENV.preserveDrawingBuffer};Vt(this)&&(n.antialias=!0,n.alpha=!0),this.InputManager=new K({GCV:this}),this.Renderer=new P.a.WebGLRenderer(n),Vt(this)&&(this.Renderer.domElement.style.background="black"),this.Renderer.domElement.addEventListener("webglcontextlost",function(t){t.preventDefault(),e.ENV.element.dispatchEvent(new Event("contextlost"))},!1),this.Scene=new P.a.Scene,this.SceneBounds=(new P.a.Box3).makeEmpty(),this.CollisionTree=null,this.HighPolyCollisionTree=null,this.NewFinalModel=new bt({GCV:this}),this.StagedFinalModel=null,this.isStagedModelReady=!1,this.Floors=new xt({GCV:this}),this.FloorPlanController=new Pe({GCV:this}),this.MouseInteraction=new Ae({GCV:this}),this.Clock=new P.a.Clock(!1),this.ActiveCubemap=null,this.PreviousCubemap=null,this.PanoVersion=0,this.PanoUserActionDelay=500,this.PanoSphere=new ze({GCV:this}),this.CubeRender=new Ve({GCV:this}),this.TileManager=new he({GCV:this}),this.Panoramas=new Fe({GCV:this}),this.SceneTags=new Ge.c({GCV:this}),this.Minimap=new Je({GCV:this}),this.LoadingIndicatorTimeout=0,this.LoadingIndicatorDelay=.5,this.LoadingProgress=new ke,this.Transitions=new He({GCV:this}),this.TransitionFade=new je(this.Renderer),this.Camera=new vt({GCV:this}),this.UserRegions=new Ot(this),this.Panoramas.setPath(this.datum.tour.panoramasPath),this.Background=new Nt,this.Scene.add(this.Background);var i=bt.getLoadManager();i.name="FinalModelLoadManager",this.loaderTaskManager.addManager(i),this.TileManagerLoadManager=this.TileManager.getLoadManager(),this.TileManagerLoadManager.name="TileManagerLoadManager",this.loaderTaskManager.addManager(this.TileManagerLoadManager);var r=this.Panoramas.getLoadManager();if(r.name="PanoramasLoadManager",this.loaderTaskManager.addManager(r),this.HighresPanoSphere=new ce,this.HighresPanoSphere.setMinTileLod(this.Config.inside_tile_min_lod),this.Scene.add(this.HighresPanoSphere),this.RenderLoopManager=new Ct,this.Clock.start(),this.state.deltaTime=this.Clock.getDelta(),this.state.currentTime=this.Clock.getElapsedTime(),this.Renderer.setPixelRatio(window.devicePixelRatio),this.Renderer.setSize(this.ENV.element.offsetWidth*this.ENV.scale,this.ENV.element.offsetHeight*this.ENV.scale),this.PostprocessingComposer=new Ue.b(this.Renderer),this.ENV.browser.mobile||this.PostprocessingComposer.setPostFX(1),this.ENV.isDebug){var o=this.redux,a=o.store,s=o.actions;a.dispatch(s.debug.addRange("pano_user_action_delay",{description:"Tile rendering delay in ms after any user action",min:0,max:3e3,value:this.PanoUserActionDelay,step:50,onChange:function(t){e.PanoUserActionDelay=t}}))}this.InputCallbacks=new J({GCV:this}),this.Scene.add(new P.a.AmbientLight(16777215,1)),this.LoadingProgress.reset();var l=void 0!==this.datum.tour.panoTileLods?this.datum.tour.panoTileLods[this.TileManager.getMaxLod()]:this.datum.tour.panoramaSize;this.CubeRender.setSize(1024),this.TileManager.setSize(l,this.datum.tour.panoramaTileSize);var c=this.datum.tour.fixPanoramaOrientation||!1;this.Panoramas.load(this.datum.tour.panoramas,c),"defaultPanoramaId"in this.ENV||"defaultPanoramaId"in this.datum.user?this.Panoramas.setDefaultID(this.ENV.defaultPanoramaId||this.datum.user.defaultPanoramaId):this.Panoramas.setDefaultID(null),this.ENV.browser.mobile&&this.MouseInteraction.set("isCursorsVisible",!1),this.SceneTags.on("startmove",function(){e.Camera.currentMode&&(e.Camera.currentMode.lock(),e.MouseInteraction.set("isCursorsVisible",!1))}),this.SceneTags.on("endmove",function(){e.Camera.currentMode&&(e.Camera.currentMode.unlock(),e.ENV.browser.mobile||e.MouseInteraction.set("isCursorsVisible",!0))});var u=this.update.bind(this);this.loadContent().then(u),this.RenderLoopManager.on("render",u);var h=setInterval(function(){if(e.LoadingProgress.allDone())clearInterval(h);else{e.LoadingProgress.update();var t=e.LoadingProgress.getSummary().toFixed(2);t!==e.state.lastLoadingProgress&&(e.state.lastLoadingProgress=t);var n=e.redux,i=n.store,r=n.actions;i.getState().app.loading.progressValue!==t&&i.dispatch(r.app.setLoadingProgress(t))}},200)}},{key:"loadContent",value:function(){var e=this,t=this.datum.tour,n=t.collisionTreeUrl,i=t.collisionMeshUrl,r=t.highPolyCollisionTreeUrl,o=void 0!==n?n:i,a=Object(D.a)(0).then(function(){return e.loadCollisionTree(o,e.ENV.useHighPolyCollision?r:void 0)});a.then(function(){e.ENV.debug.ShowCollisionMesh&&e.CollisionTree.show(),e.Panoramas.project(),e.Panoramas.updateVisiblePanoramas()});var s=this.loadLowResModel(this.NewFinalModel,this.datum.tour.meshUrl+this.contentVersion,this.datum.tour.materialsUrl+this.contentVersion,this.datum.tour.meshTexturesPath,""),l=C()(s,4),c=l[0],u=l[1],h=l[2],d=l[3];h.then(function(){e.state.isLowResTexturesLoaded=!0;var t=e.redux,n=t.store,i=t.actions;n.dispatch(i.app.setComponentReadyState("inside",!0))}),d.then(function(){e.SceneBounds=e.NewFinalModel.bounds,e.Floors.init(e.NewFinalModel),(e.ENV.generateUserRegions||e.ENV.isDebug)&&e.datum.tour.userRegionsLines&&e.UserRegions.create(e.datum.tour.userRegionsLines,e.NewFinalModel.mesh,e.Floors),e.ENV.isDebug&&e.showUserRegions(),e.state.isMeshLoaded=!0,e.NewFinalModel.setVisible(!0),e.Camera.setSceneBounds(e.SceneBounds),e.Floors.updateBoundingBoxParams(),e.PanoSphere.init(),e.Minimap.init(),e.Minimap.setSceneBounds(e.SceneBounds);var t=e.redux,n=t.store,i=t.actions;n.dispatch(i.app.setComponentReadyState("dollhouse",!0))});var p=d.then(function(){return e.FloorPlanController.load()}).then(function(){e.state.isFloorplanLoaded=!0,e.Minimap.setupFloorplan();var t=e.redux,n=t.store,i=t.actions;n.dispatch(i.app.setComponentReadyState("floorplan",!0))}),f=Promise.resolve(),m=Promise.resolve(),v=Promise.resolve(),g=Promise.resolve(),y=Promise.resolve();this.datum.tour.stagedMeshUrl&&(this.StagedFinalModel=new bt({GCV:this}),f=d.then(function(){var t=e.loadLowResModel(e.StagedFinalModel,e.datum.tour.stagedMeshUrl+e.contentVersion,e.datum.tour.stagedMaterialsUrl+e.contentVersion,e.datum.tour.stagedMeshTexturesPath,"staged-"),n=C()(t,4);return m=n[0],v=n[1],g=n[2],f=n[3]}).then(function(){e.isStagedModelReady=!0;var t=e.redux,n=t.store,i=t.actions;n.dispatch(i.app.setComponentReadyState("outdoor",!0)),n.dispatch(i.app.setComponentReadyState("staging",!0))}),y=Promise.all([d,f,h,g]).then(function(){return e.StagedFinalModel.loadTextures(e.ENV.browser.mobile?e.Config.texture_quality_mobile:e.Config.texture_quality,"staged-high-res-textures")}));var b=Promise.all([d,f,h,g]).then(function(){return e.NewFinalModel.loadTextures(e.ENV.browser.mobile?e.Config.texture_quality_mobile:e.Config.texture_quality,"high-res-textures")}).then(function(){e.state.isHighResTextures=!0});Promise.all([b,y]).then(function(){return e.Panoramas.setPath(e.datum.tour.panoramasPath),e.Panoramas.loadLowRes()}),this.Panoramas.setPath(this.datum.tour.panoramasPath);var x,w=this.loadBackground().then(function(){e.state.isPanoLoaded=!0});switch(this.ENV.positions.find(function(t){return t.id===e.ENV.startPositionId}).cameraMode){case L.a.INSIDE:x=Promise.all([w,a,d]);break;case L.a.DOLLHOUSE:case L.a.ATTRACTION:x=Promise.all([w,a,d]);break;case L.a.FLOORPLAN:x=Promise.all([w,a,d,p]);break;case L.a.OUTDOOR:x=Promise.all([w,a,f]);break;default:x=Promise.all([w,a,d])}return this.promises.loadCollision=a,this.promises.loadGeometry=c,this.promises.loadMaterials=u,this.promises.loadTextures=h,this.promises.loadHighResTextures=b,this.promises.loadMesh=d,this.promises.loadFloorplan=p,this.promises.loadStagedGeometry=m,this.promises.loadStagedMaterials=v,this.promises.loadStagedTextures=g,this.promises.loadStagedHighResTextures=y,this.promises.loadStagedMesh=f,this.promises.showBackground=w,this.promises.startInteractionMode=x,x.then(function(){document.getElementById("".concat(e.ENV.prefix,"-").concat(e.ENV.id,"-canvas")).appendChild(e.Renderer.domElement),e.state.isPlayerStarted=!0,e.Camera.setMode(L.a.ATTRACTION),e.onResize(),e.setReady(e)})}},{key:"loadBackground",value:function(){var e=this;return new Promise(function(t){var n,i=function(){n.wrapS=P.a.ClampToEdgeWrapping,n.wrapT=P.a.ClampToEdgeWrapping,n.minFilter=P.a.LinearFilter,n.magFilter=P.a.LinearFilter,e.Background.init(n,e.ENV.hidePanoUnderCursor),t(n)},r=function(){var t="".concat(e.ENV.scriptPath,"core-background.jpg")+e.contentVersion;n=(new P.a.TextureLoader).load(t,i)};if(e.datum.tour.backgroundPanoramaPath){var o=new P.a.CubeTextureLoader;o.setPath(e.datum.tour.backgroundPanoramaPath),o.setCrossOrigin("Anonymous"),n=o.load(["0.jpg"+e.contentVersion,"2.jpg"+e.contentVersion,"4.jpg"+e.contentVersion,"5.jpg"+e.contentVersion,"3.jpg"+e.contentVersion,"1.jpg"+e.contentVersion],i,void 0,r)}else{var a=e.datum.tour.backgroundPath||"".concat(e.ENV.scriptPath,"core-background.jpg");n=(new P.a.TextureLoader).load(a+e.contentVersion,i,void 0,r)}})}},{key:"update",value:function(e){this.RenderLoopManager.start();var t=this.Clock.getElapsedTime();if(this.state.deltaTime=t-this.state.currentTime,this.ENV.isDebug&&this.Debug.update(this.state.deltaTime),this.state.deltaTime=Math.min(this.state.deltaTime,1/30),this.state.currentTime=t,this.InputManager.setUserLastAction(this.InputManager.getUserLastAction()+Math.round(1e3*this.state.deltaTime)),this.NonStagedFinalModel?(this.NonStagedFinalModel.update(this.state.deltaTime),this.StagedFinalModel.update(this.state.deltaTime)):this.NewFinalModel.update(this.state.deltaTime),this.ActiveCubemap&&!1===this.ActiveCubemap.completed&&(this.LoadingIndicatorTimeout-=this.state.deltaTime,this.LoadingIndicatorTimeout),this.state.timeToResetStats-=this.state.deltaTime,this.state.timeToResetStats<0&&(this.state.timeToResetStats=this.state.defaultTimeToResetStats,this.state.minDeltaTime=1/0,this.state.maxDeltaTime=0),this.state.minDeltaTime=Math.min(this.state.minDeltaTime,this.state.deltaTime),this.state.maxDeltaTime=Math.max(this.state.maxDeltaTime,this.state.deltaTime),this.state.fixedDeltaTime=Math.min(this.state.deltaTime,this.state.fixedTimeMax),this.state.fixedDeltaTime=Math.max(this.state.fixedDeltaTime,this.state.fixedTimeMin),!0===this.state.isPlayerStarted){var n=new P.a.Clock(!0);this.TransitionFade.update(this.state.deltaTime),this.Camera.update(this.state.deltaTime),this.Minimap.update(this.state.deltaTime),this.MouseInteraction.update(),this.InputManager.resetEvents(),this.SceneTags.update(this.state.deltaTime),this.InputManager.getUserLastAction()>this.PanoUserActionDelay&&this.TileManager.update(),this.CubeRender.flushTiles(this.state.deltaTime),this.PanoSphere.update();var i=this.Camera.getCurrentCamera().position;if(i.equals(this.HighresPanoSphere.position)||this.HighresPanoSphere.position.copy(i),this.HighresPanoSphere.update(this.state.deltaTime),this.ENV.hidePanoUnderCursor){var r=this.InputManager.getMousePos(),o=new P.a.Vector2(r.x/(this.ENV.element.offsetWidth*this.ENV.scale)*2-1,-r.y/(this.ENV.element.offsetHeight*this.ENV.scale)*2+1);this.HighresPanoSphere.setCursorPos(o)}this.FloorPlanController.update(),this.ENV.disableSupersampling||this.PostprocessingComposer.update(this.state.deltaTime,this.Renderer);var a=this.Floors.getVisible();this.UserRegions.update(a),this.UserRegions.visible=!this.Camera.is360;var s=this.PostprocessingComposer.isEnabled&&!this.ENV.disableSupersampling||this.PostprocessingComposer.postfx;n.getElapsedTime();this.Renderer.autoClear=!1,s?this._userRegionVisible?this.PostprocessingComposer.render([this.Scene,this.UserRegions],this.Camera.getCurrentCamera()):this.PostprocessingComposer.render([this.Scene],this.Camera.getCurrentCamera()):(this.Renderer.setRenderTarget(null),this.Renderer.clear(!0,!0),this.Renderer.render(this.Scene,this.Camera.getCurrentCamera()),this._userRegionVisible&&this.Renderer.render(this.UserRegions,this.Camera.getCurrentCamera())),this.TransitionFade.render(),this.Minimap.render()}}},{key:"getTime",value:function(){return this.state.currentTime}},{key:"getFixedDeltaTime",value:function(){return this.state.fixedDeltaTime}},{key:"updateModelVisibility",value:function(){this.NewFinalModel.setVisible(!0),this.isStagedMesh()?this.NonStagedFinalModel.setVisible(!1):this.StagedFinalModel.setVisible(!1)}},{key:"loadCollisionTree",value:function(e,t){var n=this,i=new ye;return i.load(e+this.contentVersion).then(function(e){var r=n.redux,o=r.store,a=r.actions;if(o.dispatch(a.layout.setFloorHack(i.noFloorHack)),n.CollisionTree=i,n.HighPolyCollisionTree=i,n.LoadingProgress.set("collision-mesh",1),void 0!==t){var s=new ye;s.load(t+n.contentVersion).then(function(e){n.HighPolyCollisionTree=s})}})}},{key:"loadLowResModel",value:function(e,t,n,i,r){var o=this,a=this.datum.tour.modelTextureResolutions,s=new pe({GCV:this});e.setTextureResolutions(a),e.setTexturePath(i);var l=function(e){var t=1;if(e.lengthComputable)t=e.loaded/e.total;else{var n=e.target.getResponseHeader("x-amz-meta-x-decompressed-content-length");t=e.loaded/n}e.target.responseURL&&-1!==e.target.responseURL.indexOf(".mesh")?o.LoadingProgress.set(r+"mesh",t):e.target.responseURL&&-1!==e.target.responseURL.indexOf(".mtr")&&o.LoadingProgress.set(r+"materials",t)},c=s.loadGeometry(t,l).then(function(t){e.setGeometryData(t)}),u=Object(D.a)(0),h=Promise.race([c,u]).then(function(){return s.loadMaterial(n,l)}).then(function(t){e.setMaterialData(t)}),d=h.then(function(){var t=o.ENV.browser.mobile?o.Config.texture_quality_mobile:o.Config.texture_quality,n=Math.max(0,t-2);return e.loadTextures(n,r+"low-res-textures")}),p=Promise.all([c,h]).then(function(){e.setupMesh()});return[c,h,d,Promise.all([d,p]).catch(function(e){o.setError(e,"Unable to load mesh and materials")})]}},{key:"showUIWithDebounce",value:function(){var e=this.redux,t=e.store,n=e.actions;t.dispatch(n.layout.setUIVisibility(!0))}},{key:"handleUIVisibility",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!1}},{key:"showUserRegions",value:function(){return!this._userRegionVisible&&this.Scene&&this.UserRegions&&(this._userRegionVisible=!0),this._userRegionVisible}},{key:"hideUserRegions",value:function(){return this._userRegionVisible&&this.Scene&&this.UserRegions&&(this._userRegionVisible=!1),this._userRegionVisible}},{key:"isUserRegionVisible",value:function(){return this._userRegionVisible}},{key:"isDepthNeeded",value:function(){return this.ENV.isDebug||this.SceneTags.tags.length>0}}]),e}(),zt=function(e){function t(){var e;return a()(this,t),e=u()(this,d()(t).call(this)),document.documentElement.addEventListener("touchstart",function(e){e.touches.length>1&&e.preventDefault()},!1),e}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.actions,n=e.EnvFromPlayer;new k(n).then(function(e){t.setDatum(e),t.setENV(e,n)}).catch(function(e){return n.element.dispatchEvent(new Event("tourNotFound")),Promise.reject(e)})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ENV,i=t.redux,r=t.actions,o=t.onReadyIndexCallback;if(null===e.ENV&&null!==n){if(!n.components.canvas)return r.setLoadingDone(),r.setComponentsVisibility({splash:!1}),void o(null);Bt=new Ft({redux:i,setReady:function(){r.setLoadingDone(),o(Bt)}})}}},{key:"render",value:function(){return this.props.ENV?v.a.createElement(I.a,{stopSpinner:this.props.stopSpinner}):null}}]),t}(v.a.PureComponent),Ut=Object(y.connect)(function(e){return r()({},e.app)},function(e){return{actions:r()({},Object(g.bindActionCreators)(b,e))}})(zt);n.d(t,"b",function(){return Ut}),n.d(t,"a",function(){return Bt})},function(e,t,n){(function(t){var n="object",i=function(e){return e&&e.Math==Math&&e};e.exports=i(typeof globalThis==n&&globalThis)||i(typeof window==n&&window)||i(typeof self==n&&self)||i(typeof t==n&&t)||Function("return this")()}).call(this,n(136))},function(e,t,n){!function(e){"use strict";function t(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),Object.assign(t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,i=n[e];if(void 0!==i){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var i=n.slice(0),r=0,o=i.length;r<o;r++)i[r].call(this,e)}}}});var n,i,r,o="104",a=0,s=1,l=2,c=1,u=2,h=0,d=1,p=2,f=0,m=1,v=2,g=0,y=1,b=2,x=3,w=4,A=5,M=100,E=101,C=102,S=103,T=104,_=200,P=201,L=202,k=203,I=204,O=205,D=206,R=207,N=208,V=209,B=210,F=0,z=1,U=2,j=3,H=4,G=5,W=6,Q=7,Y=0,X=1,K=2,q=0,J=1,Z=2,$=3,ee=4,te=5,ne=301,ie=302,re=303,oe=304,ae=305,se=306,le=307,ce=1e3,ue=1001,he=1002,de=1003,pe=1004,fe=1005,me=1006,ve=1007,ge=1008,ye=1009,be=1010,xe=1011,we=1012,Ae=1013,Me=1014,Ee=1015,Ce=1016,Se=1017,Te=1018,_e=1019,Pe=1020,Le=1021,ke=1022,Ie=1023,Oe=1024,De=1025,Re=Ie,Ne=1026,Ve=1027,Be=1028,Fe=33776,ze=33777,Ue=33778,je=33779,He=35840,Ge=35841,We=35842,Qe=35843,Ye=36196,Xe=37808,Ke=37809,qe=37810,Je=37811,Ze=37812,$e=37813,et=37814,tt=37815,nt=37816,it=37817,rt=37818,ot=37819,at=37820,st=37821,lt=2201,ct=2400,ut=0,ht=1,dt=2,pt=3e3,ft=3001,mt=3007,vt=3002,gt=3004,yt=3005,bt=3006,xt=3200,wt=3201,At=0,Mt=1,Et={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&i|128]+e[i>>8&255]+"-"+e[i>>16&255]+e[i>>24&255]+e[255&r]+e[r>>8&255]+e[r>>16&255]+e[r>>24&255];return o.toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Et.DEG2RAD},radToDeg:function(e){return e*Et.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function Ct(e,t){this.x=e||0,this.y=t||0}function St(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==i?i:1}function Tt(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function _t(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(Ct.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Ct.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}}),Object.assign(St,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,o,a){var s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[o+0],d=r[o+1],p=r[o+2],f=r[o+3];if(u!==f||s!==h||l!==d||c!==p){var m=1-a,v=s*h+l*d+c*p+u*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var w=a*g;if(s=s*m+h*w,l=l*m+d*w,c=c*m+p*w,u=u*m+f*w,m===1-a){var A=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=A,l*=A,c*=A,u*=A}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}}),Object.defineProperties(St.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(St.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,o=e.order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(i/2),u=a(r/2),h=s(n/2),d=s(i/2),p=s(r/2);return"XYZ"===o?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"YXZ"===o?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"ZXY"===o?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"ZYX"===o?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"YZX"===o?(this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p):"XZY"===o&&(this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],h=n[10],d=i+s+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-l)*t,this._y=(o-c)*t,this._z=(a-r)*t):i>s&&i>h?(t=2*Math.sqrt(1+i-s-h),this._w=(u-l)/t,this._x=.25*t,this._y=(r+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-i-h),this._w=(o-c)/t,this._x=(r+a)/t,this._y=.25*t,this._z=(l+u)/t):(t=2*Math.sqrt(1+h-i-s),this._w=(a-r)/t,this._x=(o+c)/t,this._y=(l+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Et.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,i=e._y,r=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+i*l-r*s,this._y=i*c+o*s+r*a-n*l,this._z=r*c+o*l+n*s-i*a,this._w=o*c-n*a-i*s-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,i=this._y,r=this._z,o=this._w,a=o*e._w+n*e._x+i*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*n+t*this._x,this._y=l*i+t*this._y,this._z=l*r+t*this._z,this.normalize()}var c=Math.sqrt(s),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Tt.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(r=new St,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(r.setFromEuler(e))}),applyAxisAngle:function(){var e=new St;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*i-a*n,c=s*n+a*t-r*i,u=s*i+r*n-o*t,h=-r*t-o*n-a*i;return this.x=l*s+h*-r+c*-a-u*-o,this.y=c*s+h*-o+u*-r-l*-a,this.z=u*s+h*-a+l*-o-c*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,o=t.x,a=t.y,s=t.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:(i=new Tt,function(e){return i.copy(this).projectOnVector(e),this.sub(i)}),reflect:function(){var e=new Tt;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Et.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(_t.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,o,a,s,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new Tt;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=i[0],m=i[3],v=i[6],g=i[1],y=i[4],b=i[7],x=i[2],w=i[5],A=i[8];return r[0]=o*f+a*g+s*x,r[3]=o*m+a*y+s*w,r[6]=o*v+a*b+s*A,r[1]=l*f+c*g+u*x,r[4]=l*m+c*y+u*w,r[7]=l*v+c*b+u*A,r[2]=h*f+d*g+p*x,r[5]=h*m+d*y+p*w,r[8]=h*v+d*b+p*A,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*r*c+n*a*s+i*r*l-i*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,i=this.elements,r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=n[8],p=d*l-c*h,f=c*u-d*s,m=h*s-l*u,v=r*p+o*f+a*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return i[0]=p*y,i[1]=(a*h-d*o)*y,i[2]=(c*o-a*l)*y,i[3]=f*y,i[4]=(d*r-a*u)*y,i[5]=(a*s-c*r)*y,i[6]=m*y,i[7]=(o*u-h*r)*y,i[8]=(l*r-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,o,a){var s=Math.cos(r),l=Math.sin(r);this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-i*l,i*s,-i*(-l*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],o=i[3],a=i[6],s=i[1],l=i[4],c=i[7];return i[0]=t*r+n*s,i[3]=t*o+n*l,i[6]=t*a+n*c,i[1]=-n*r+t*s,i[4]=-n*o+t*l,i[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Pt,Lt,kt,It,Ot,Dt,Rt,Nt,Vt,Bt,Ft,zt,Ut,jt,Ht={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===n&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),n.width=e.width,n.height=e.height;var i=n.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=n}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Gt=0;function Wt(e,t,n,i,r,o,a,s,l,c){Object.defineProperty(this,"id",{value:Gt++}),this.uuid=Et.generateUUID(),this.name="",this.image=void 0!==e?e:Wt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Wt.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ue,this.wrapT=void 0!==i?i:ue,this.magFilter=void 0!==r?r:me,this.minFilter=void 0!==o?o:ge,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:Ie,this.type=void 0!==s?s:ye,this.offset=new Ct(0,0),this.repeat=new Ct(1,1),this.center=new Ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _t,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:pt,this.version=0,this.onUpdate=null}function Qt(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1}function Yt(e,t,n){this.width=e,this.height=t,this.scissor=new Qt(0,0,e,t),this.scissorTest=!1,this.viewport=new Qt(0,0,e,t),n=n||{},this.texture=new Wt(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:me,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Xt(e,t,n){Yt.call(this,e,t,n),this.samples=4}function Kt(e,t,n){Yt.call(this,e,t,n)}function qt(e,t,n,i,r,o,a,s,l,c,u,h){Wt.call(this,null,o,a,s,l,c,i,r,u,h),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:de,this.minFilter=void 0!==c?c:de,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Jt(e,t){this.min=void 0!==e?e:new Tt(1/0,1/0,1/0),this.max=void 0!==t?t:new Tt(-1/0,-1/0,-1/0)}function Zt(e,t){this.center=void 0!==e?e:new Tt,this.radius=void 0!==t?t:0}function $t(e,t){this.normal=void 0!==e?e:new Tt(1,0,0),this.constant=void 0!==t?t:0}function en(e,t,n,i,r,o){this.planes=[void 0!==e?e:new $t,void 0!==t?t:new $t,void 0!==n?n:new $t,void 0!==i?i:new $t,void 0!==r?r:new $t,void 0!==o?o:new $t]}function tn(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Wt.DEFAULT_IMAGE=void 0,Wt.DEFAULT_MAPPING=300,Wt.prototype=Object.assign(Object.create(t.prototype),{constructor:Wt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Et.generateUUID()),!t&&void 0===e.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var o=0,a=i.length;o<a;o++)r.push(Ht.getDataURL(i[o]))}else r=Ht.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ce:e.x=e.x-Math.floor(e.x);break;case ue:e.x=e.x<0?0:1;break;case he:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ce:e.y=e.y-Math.floor(e.y);break;case ue:e.y=e.y<0?0:1;break;case he:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Wt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Qt.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,i,r,o=e.elements,a=o[0],s=o[4],l=o[8],c=o[1],u=o[5],h=o[9],d=o[2],p=o[6],f=o[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,v=(u+1)/2,g=(f+1)/2,y=(s+c)/4,b=(l+d)/4,x=(h+p)/4;return m>v&&m>g?m<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(m),i=y/n,r=b/n):v>g?v<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(v),n=y/i,r=x/i):g<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(g),n=b/r,i=x/r),this.set(n,i,r,t),this}var w=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(l-d)/w,this.z=(c-s)/w,this.w=Math.acos((a+u+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return void 0===Ut&&(Ut=new Qt,jt=new Qt),Ut.set(e,e,e,e),jt.set(t,t,t,t),this.clamp(Ut,jt)},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Yt.prototype=Object.assign(Object.create(t.prototype),{constructor:Yt,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Xt.prototype=Object.assign(Object.create(Yt.prototype),{constructor:Xt,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Yt.prototype.copy.call(this,e),this.samples=e.samples,this}}),Kt.prototype=Object.create(Yt.prototype),Kt.prototype.constructor=Kt,Kt.prototype.isWebGLRenderTargetCube=!0,qt.prototype=Object.create(Wt.prototype),qt.prototype.constructor=qt,qt.prototype.isDataTexture=!0,Object.assign(Jt.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],h=e[s+2];c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,i),this.max.set(r,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),h=e.getZ(s);c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,i),this.max.set(r,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Tt;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Tt),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Tt),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,i=new Tt;function r(r){var o=r.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(t=0,n=a.length;t<n;t++)i.copy(a[t]),i.applyMatrix4(r.matrixWorld),e.expandByPoint(i)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(t=0,n=s.count;t<n;t++)i.fromBufferAttribute(s,t).applyMatrix4(r.matrixWorld),e.expandByPoint(i)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(r),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Tt),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(zt=new Tt,function(e){return this.clampPoint(e.center,zt),zt.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new Tt,t=new Tt,n=new Tt,i=new Tt,r=new Tt,o=new Tt,a=new Tt,s=new Tt,l=new Tt,c=new Tt;function u(i){var r,o;for(r=0,o=i.length-3;r<=o;r+=3){a.fromArray(i,r);var s=l.x*Math.abs(a.x)+l.y*Math.abs(a.y)+l.z*Math.abs(a.z),c=e.dot(a),u=t.dot(a),h=n.dot(a);if(Math.max(-Math.max(c,u,h),Math.min(c,u,h))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),e.subVectors(a.a,s),t.subVectors(a.b,s),n.subVectors(a.c,s),i.subVectors(t,e),r.subVectors(n,t),o.subVectors(e,n);var h=[0,-i.z,i.y,0,-r.z,r.y,0,-o.z,o.y,i.z,0,-i.x,r.z,0,-r.x,o.z,0,-o.x,-i.y,i.x,0,-r.y,r.x,0,-o.y,o.x,0];return!!u(h)&&!!u(h=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(i,r),u(h=[c.x,c.y,c.z]))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Tt),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Tt;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var e=new Tt;return function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(Ft=[new Tt,new Tt,new Tt,new Tt,new Tt,new Tt,new Tt,new Tt],function(e){return this.isEmpty()?this:(Ft[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ft[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ft[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ft[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ft[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ft[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ft[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ft[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ft),this)}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(Zt.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(Bt=new Jt,function(e,t){var n=this.center;void 0!==t?n.copy(t):Bt.setFromPoints(e).getCenter(n);for(var i=0,r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Tt),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Jt),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign($t.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new Tt,t=new Tt;return function(n,i,r){var o=e.subVectors(r,i).cross(t.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Tt),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new Tt;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new Tt);var i=t.delta(e),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/r;return o<0||o>1?void 0:n.copy(i).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Tt),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new Tt,t=new _t;return function(n,i){var r=i||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(en.prototype,{set:function(e,t,n,i,r,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-i,u-s,f-h,y-m).normalize(),t[1].setComponents(a+i,u+s,f+h,y+m).normalize(),t[2].setComponents(a+r,u+l,f+d,y+v).normalize(),t[3].setComponents(a-r,u-l,f-d,y-v).normalize(),t[4].setComponents(a-o,u-c,f-p,y-g).normalize(),t[5].setComponents(a+o,u+c,f+p,y+g).normalize(),this},intersectsObject:(Vt=new Zt,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Vt.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Vt)}),intersectsSprite:function(){var e=new Zt;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++){var o=t[r].distanceToPoint(n);if(o<i)return!1}return!0},intersectsBox:(Nt=new Tt,function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(Nt.x=i.normal.x>0?e.max.x:e.min.x,Nt.y=i.normal.y>0?e.max.y:e.min.y,Nt.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Nt)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}),Object.assign(tn.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=h,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new tn).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new Tt;return function(t){var n=this.elements,i=t.elements,r=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){var h=o*c,d=o*u,p=a*c,f=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=d+p*l,t[5]=h-f*l,t[9]=-a*s,t[2]=f-h*l,t[6]=p+d*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,v=s*u,g=l*c,y=l*u;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*c,v=s*u,g=l*c,y=l*u;t[0]=m-y*a,t[4]=-o*u,t[8]=g+v*a,t[1]=v+g*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var h=o*c,d=o*u,p=a*c,f=a*u;t[0]=s*c,t[4]=p*l-d,t[8]=h*l+f,t[1]=s*u,t[5]=f*l+h,t[9]=d*l-p,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*l,w=a*s,A=a*l;t[0]=s*c,t[4]=A-b*u,t[8]=w*u+x,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=x*u+w,t[10]=b-A*u}else if("XZY"===e.order){var b=o*s,x=o*l,w=a*s,A=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=b*u+A,t[5]=o*c,t[9]=x*u-w,t[2]=w*u-x,t[6]=a*c,t[10]=A*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(Dt=new Tt(0,0,0),Rt=new Tt(1,1,1),function(e){return this.compose(Dt,e,Rt)}),lookAt:(kt=new Tt,It=new Tt,Ot=new Tt,function(e,t,n){var i=this.elements;return Ot.subVectors(e,t),0===Ot.lengthSq()&&(Ot.z=1),Ot.normalize(),kt.crossVectors(n,Ot),0===kt.lengthSq()&&(1===Math.abs(n.z)?Ot.x+=1e-4:Ot.z+=1e-4,Ot.normalize(),kt.crossVectors(n,Ot)),kt.normalize(),It.crossVectors(Ot,kt),i[0]=kt.x,i[4]=It.x,i[8]=Ot.x,i[1]=kt.y,i[5]=It.y,i[9]=Ot.y,i[2]=kt.z,i[6]=It.z,i[10]=Ot.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,i=t.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],w=i[0],A=i[4],M=i[8],E=i[12],C=i[1],S=i[5],T=i[9],_=i[13],P=i[2],L=i[6],k=i[10],I=i[14],O=i[3],D=i[7],R=i[11],N=i[15];return r[0]=o*w+a*C+s*P+l*O,r[4]=o*A+a*S+s*L+l*D,r[8]=o*M+a*T+s*k+l*R,r[12]=o*E+a*_+s*I+l*N,r[1]=c*w+u*C+h*P+d*O,r[5]=c*A+u*S+h*L+d*D,r[9]=c*M+u*T+h*k+d*R,r[13]=c*E+u*_+h*I+d*N,r[2]=p*w+f*C+m*P+v*O,r[6]=p*A+f*S+m*L+v*D,r[10]=p*M+f*T+m*k+v*R,r[14]=p*E+f*_+m*I+v*N,r[3]=g*w+y*C+b*P+x*O,r[7]=g*A+y*S+b*L+x*D,r[11]=g*M+y*T+b*k+x*R,r[15]=g*E+y*_+b*I+x*N,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new Tt;return function(t){for(var n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14],p=e[3],f=e[7],m=e[11],v=e[15];return p*(+r*s*u-i*l*u-r*a*h+n*l*h+i*a*d-n*s*d)+f*(+t*s*d-t*l*h+r*o*h-i*o*d+i*l*c-r*s*c)+m*(+t*l*u-t*a*d-r*o*u+n*o*d+r*a*c-n*l*c)+v*(-i*a*c-t*s*u+t*a*h+i*o*u-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,i=e.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=i[8],p=i[9],f=i[10],m=i[11],v=i[12],g=i[13],y=i[14],b=i[15],x=p*y*h-g*f*h+g*u*m-c*y*m-p*u*b+c*f*b,w=v*f*h-d*y*h-v*u*m+l*y*m+d*u*b-l*f*b,A=d*g*h-v*p*h+v*c*m-l*g*m-d*c*b+l*p*b,M=v*p*u-d*g*u-v*c*f+l*g*f+d*c*y-l*p*y,E=r*x+o*w+a*A+s*M;if(0===E){var C="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(C);return console.warn(C),this.identity()}var S=1/E;return n[0]=x*S,n[1]=(g*f*s-p*y*s-g*a*m+o*y*m+p*a*b-o*f*b)*S,n[2]=(c*y*s-g*u*s+g*a*h-o*y*h-c*a*b+o*u*b)*S,n[3]=(p*u*s-c*f*s-p*a*h+o*f*h+c*a*m-o*u*m)*S,n[4]=w*S,n[5]=(d*y*s-v*f*s+v*a*m-r*y*m-d*a*b+r*f*b)*S,n[6]=(v*u*s-l*y*s-v*a*h+r*y*h+l*a*b-r*u*b)*S,n[7]=(l*f*s-d*u*s+d*a*h-r*f*h-l*a*m+r*u*m)*S,n[8]=A*S,n[9]=(v*p*s-d*g*s-v*o*m+r*g*m+d*o*b-r*p*b)*S,n[10]=(l*g*s-v*c*s+v*o*h-r*g*h-l*o*b+r*c*b)*S,n[11]=(d*c*s-l*p*s-d*o*h+r*p*h+l*o*m-r*c*m)*S,n[12]=M*S,n[13]=(d*g*a-v*p*a+v*o*f-r*g*f-d*o*y+r*p*y)*S,n[14]=(v*c*a-l*g*a-v*o*u+r*g*u+l*o*y-r*c*y)*S,n[15]=(l*p*a-d*c*a+d*o*u-r*p*u-l*o*f+r*c*f)*S,this},scale:function(e){var t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,a=e.y,s=e.z,l=r*o,c=r*a;return this.set(l*o+n,l*a-i*s,l*s+i*a,0,l*a+i*s,c*a+n,c*s-i*o,0,l*s-i*a,c*s+i*o,r*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var i=this.elements,r=t._x,o=t._y,a=t._z,s=t._w,l=r+r,c=o+o,u=a+a,h=r*l,d=r*c,p=r*u,f=o*c,m=o*u,v=a*u,g=s*l,y=s*c,b=s*u,x=n.x,w=n.y,A=n.z;return i[0]=(1-(f+v))*x,i[1]=(d+b)*x,i[2]=(p-y)*x,i[3]=0,i[4]=(d-b)*w,i[5]=(1-(h+v))*w,i[6]=(m+g)*w,i[7]=0,i[8]=(p+y)*A,i[9]=(m-g)*A,i[10]=(1-(h+f))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:(Pt=new Tt,Lt=new tn,function(e,t,n){var i=this.elements,r=Pt.set(i[0],i[1],i[2]).length(),o=Pt.set(i[4],i[5],i[6]).length(),a=Pt.set(i[8],i[9],i[10]).length(),s=this.determinant();s<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Lt.copy(this);var l=1/r,c=1/o,u=1/a;return Lt.elements[0]*=l,Lt.elements[1]*=l,Lt.elements[2]*=l,Lt.elements[4]*=c,Lt.elements[5]*=c,Lt.elements[6]*=c,Lt.elements[8]*=u,Lt.elements[9]*=u,Lt.elements[10]*=u,t.setFromRotationMatrix(Lt),n.x=r,n.y=o,n.z=a,this}),makePerspective:function(e,t,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(o+r)/(o-r),d=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,i,r,o){var a=this.elements,s=1/(t-e),l=1/(n-i),c=1/(o-r),u=(t+e)*s,h=(n+i)*l,d=(o+r)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var nn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor;\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function rn(e){var t={};for(var n in e)for(var i in t[n]={},e[n]){var r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}return t}function on(e){for(var t={},n=0;n<e.length;n++){var i=rn(e[n]);for(var r in i)t[r]=i[r]}return t}var an,sn,ln,cn={clone:rn,merge:on},un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hn(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(hn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,i){if(t=Et.euclideanModulo(t,1),n=Et.clamp(n,0,1),i=Et.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=e(o,r,t+1/3),this.g=e(o,r,t),this.b=e(o,r,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],u=c.length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(e&&e.length>0){var c=un[e];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,i=this.r,r=this.g,o=this.b,a=Math.max(i,r,o),s=Math.min(i,r,o),l=(s+a)/2;if(s===a)t=0,n=0;else{var c=a-s;switch(n=l<=.5?c/(a+s):c/(2-a-s),a){case i:t=(r-o)/c+(r<o?6:0);break;case r:t=(o-i)/c+2;break;case o:t=(i-r)/c+4}t/=6}return e.h=t,e.s=n,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(ln={},function(e,t,n){return this.getHSL(ln),ln.h+=e,ln.s+=t,ln.l+=n,this.setHSL(ln.h,ln.s,ln.l),this}),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:(an={h:0,s:0,l:0},sn={h:0,s:0,l:0},function(e,t){this.getHSL(an),e.getHSL(sn);var n=Et.lerp(an.h,sn.h,t),i=Et.lerp(an.s,sn.s,t),r=Et.lerp(an.l,sn.l,t);return this.setHSL(n,i,r),this}),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var dn,pn={common:{diffuse:{value:new hn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new _t},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new hn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new hn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new _t}},sprite:{diffuse:{value:new hn(15658734)},opacity:{value:1},center:{value:new Ct(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new _t}}},fn={basic:{uniforms:on([pn.common,pn.specularmap,pn.envmap,pn.aomap,pn.lightmap,pn.fog]),vertexShader:nn.meshbasic_vert,fragmentShader:nn.meshbasic_frag},lambert:{uniforms:on([pn.common,pn.specularmap,pn.envmap,pn.aomap,pn.lightmap,pn.emissivemap,pn.fog,pn.lights,{emissive:{value:new hn(0)}}]),vertexShader:nn.meshlambert_vert,fragmentShader:nn.meshlambert_frag},phong:{uniforms:on([pn.common,pn.specularmap,pn.envmap,pn.aomap,pn.lightmap,pn.emissivemap,pn.bumpmap,pn.normalmap,pn.displacementmap,pn.gradientmap,pn.fog,pn.lights,{emissive:{value:new hn(0)},specular:{value:new hn(1118481)},shininess:{value:30}}]),vertexShader:nn.meshphong_vert,fragmentShader:nn.meshphong_frag},standard:{uniforms:on([pn.common,pn.envmap,pn.aomap,pn.lightmap,pn.emissivemap,pn.bumpmap,pn.normalmap,pn.displacementmap,pn.roughnessmap,pn.metalnessmap,pn.fog,pn.lights,{emissive:{value:new hn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag},matcap:{uniforms:on([pn.common,pn.bumpmap,pn.normalmap,pn.displacementmap,pn.fog,{matcap:{value:null}}]),vertexShader:nn.meshmatcap_vert,fragmentShader:nn.meshmatcap_frag},points:{uniforms:on([pn.points,pn.fog]),vertexShader:nn.points_vert,fragmentShader:nn.points_frag},dashed:{uniforms:on([pn.common,pn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nn.linedashed_vert,fragmentShader:nn.linedashed_frag},depth:{uniforms:on([pn.common,pn.displacementmap]),vertexShader:nn.depth_vert,fragmentShader:nn.depth_frag},normal:{uniforms:on([pn.common,pn.bumpmap,pn.normalmap,pn.displacementmap,{opacity:{value:1}}]),vertexShader:nn.normal_vert,fragmentShader:nn.normal_frag},sprite:{uniforms:on([pn.sprite,pn.fog]),vertexShader:nn.sprite_vert,fragmentShader:nn.sprite_frag},background:{uniforms:{uvTransform:{value:new _t},t2D:{value:null}},vertexShader:nn.background_vert,fragmentShader:nn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nn.cube_vert,fragmentShader:nn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nn.equirect_vert,fragmentShader:nn.equirect_frag},distanceRGBA:{uniforms:on([pn.common,pn.displacementmap,{referencePosition:{value:new Tt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nn.distanceRGBA_vert,fragmentShader:nn.distanceRGBA_frag},shadow:{uniforms:on([pn.lights,pn.fog,{color:{value:new hn(0)},opacity:{value:1}}]),vertexShader:nn.shadow_vert,fragmentShader:nn.shadow_frag}};function mn(){var e=null,t=!1,n=null;function i(r,o){!1!==t&&(n(r,o),e.requestAnimationFrame(i))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(i),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function vn(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);i&&(e.deleteBuffer(i.buffer),t.delete(n))},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);void 0===r?t.set(n,function(t,n){var i=t.array,r=t.dynamic?35048:35044,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,i,r),t.onUploadCallback();var a=5126;return i instanceof Float32Array?a=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?a=5123:i instanceof Int16Array?a=5122:i instanceof Uint32Array?a=5125:i instanceof Int32Array?a=5124:i instanceof Int8Array?a=5120:i instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(n,i)):r.version<n.version&&(function(t,n,i){var r=n.array,o=n.updateRange;e.bindBuffer(i,t),!1===n.dynamic?e.bufferData(i,r,35044):-1===o.count?e.bufferSubData(i,0,r):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(i,o.offset*r.BYTES_PER_ELEMENT,r.subarray(o.offset,o.offset+o.count)),o.count=-1)}(r.buffer,n,i),r.version=n.version)}}}function gn(e,t,n,i,r,o){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new Tt,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new hn,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}function yn(e,t,n,i){this._x=e||0,this._y=t||0,this._z=n||0,this._order=i||yn.DefaultOrder}function bn(){this.mask=1}fn.physical={uniforms:on([fn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag},Object.assign(gn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),yn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],yn.DefaultOrder="XYZ",Object.defineProperties(yn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(yn.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var i=Et.clamp,r=e.elements,o=r[0],a=r[4],s=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===t?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new tn;return function(t,n,i){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,i)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(dn=new St,function(e){return dn.setFromEuler(this),this.setFromQuaternion(dn,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Tt(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(bn.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var xn,wn,An,Mn,En=0;function Cn(){Object.defineProperty(this,"id",{value:En++}),this.uuid=Et.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Cn.DefaultUp.clone();var e=new Tt,t=new yn,n=new St,i=new Tt(1,1,1);t.onChange(function(){n.setFromEuler(t,!1)}),n.onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new tn},normalMatrix:{value:new _t}}),this.matrix=new tn,this.matrixWorld=new tn,this.matrixAutoUpdate=Cn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new bn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Cn.DefaultUp=new Tt(0,1,0),Cn.DefaultMatrixAutoUpdate=!0,Cn.prototype=Object.assign(Object.create(t.prototype),{constructor:Cn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(Mn=new St,function(e,t){return Mn.setFromAxisAngle(e,t),this.quaternion.multiply(Mn),this}),rotateOnWorldAxis:function(){var e=new St;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new Tt(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new Tt(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new Tt(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new Tt;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new Tt(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new Tt(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new Tt(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(An=new tn,function(e){return e.applyMatrix4(An.getInverse(this.matrixWorld))}),lookAt:function(){var e=new St,t=new tn,n=new Tt,i=new Tt;return function(r,o,a){r.isVector3?n.copy(r):n.set(r,o,a);var s=this.parent;this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(i,n,this.up):t.lookAt(n,i,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n],o=r.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Tt),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(xn=new Tt,wn=new Tt,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new St),this.updateMatrixWorld(!0),this.matrixWorld.decompose(xn,e,wn),e}),getWorldScale:function(){var e=new Tt,t=new St;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new Tt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Tt),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==ut&&(i.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var c=a[s];r(e.shapes,c)}else r(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],s=0,l=this.material.length;s<l;s++)u.push(r(e.materials,this.material[s]));i.material=u}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(var s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(t){var h=m(e.geometries),d=m(e.materials),p=m(e.textures),f=m(e.images),a=m(e.shapes);h.length>0&&(n.geometries=h),d.length>0&&(n.materials=d),p.length>0&&(n.textures=p),f.length>0&&(n.images=f),a.length>0&&(n.shapes=a)}return n.object=i,n;function m(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}});var Sn,Tn,_n=0;function Pn(){Object.defineProperty(this,"id",{value:_n+=2}),this.uuid=Et.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ln(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function kn(e,t,n){Ln.call(this,new Int8Array(e),t,n)}function In(e,t,n){Ln.call(this,new Uint8Array(e),t,n)}function On(e,t,n){Ln.call(this,new Uint8ClampedArray(e),t,n)}function Dn(e,t,n){Ln.call(this,new Int16Array(e),t,n)}function Rn(e,t,n){Ln.call(this,new Uint16Array(e),t,n)}function Nn(e,t,n){Ln.call(this,new Int32Array(e),t,n)}function Vn(e,t,n){Ln.call(this,new Uint32Array(e),t,n)}function Bn(e,t,n){Ln.call(this,new Float32Array(e),t,n)}function Fn(e,t,n){Ln.call(this,new Float64Array(e),t,n)}function zn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Un(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}Pn.prototype=Object.assign(Object.create(t.prototype),{constructor:Pn,isGeometry:!0,applyMatrix:function(e){for(var t=(new _t).getNormalMatrix(e),n=0,i=this.vertices.length;n<i;n++){var r=this.vertices[n];r.applyMatrix4(e)}for(var n=0,i=this.faces.length;n<i;n++){var o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(var a=0,s=o.vertexNormals.length;a<s;a++)o.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new tn;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new tn;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new tn;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new tn;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new tn;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:(Tn=new Cn,function(e){Tn.lookAt(e),Tn.updateMatrix(),this.applyMatrix(Tn.matrix)}),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,i=e.attributes,r=i.position.array,o=void 0!==i.normal?i.normal.array:void 0,a=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,l=void 0!==i.uv2?i.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0,u=0;c<r.length;c+=3,u+=2)t.vertices.push((new Tt).fromArray(r,c)),void 0!==a&&t.colors.push((new hn).fromArray(a,c));function h(e,n,i,r){var c=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[i].clone()],u=void 0===o?[]:[(new Tt).fromArray(o,3*e),(new Tt).fromArray(o,3*n),(new Tt).fromArray(o,3*i)],h=new gn(e,n,i,u,c,r);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([(new Ct).fromArray(s,2*e),(new Ct).fromArray(s,2*n),(new Ct).fromArray(s,2*i)]),void 0!==l&&t.faceVertexUvs[1].push([(new Ct).fromArray(l,2*e),(new Ct).fromArray(l,2*n),(new Ct).fromArray(l,2*i)])}var d=e.groups;if(d.length>0)for(var c=0;c<d.length;c++)for(var p=d[c],f=p.start,m=p.count,u=f,v=f+m;u<v;u+=3)void 0!==n?h(n[u],n[u+1],n[u+2],p.materialIndex):h(u,u+1,u+2,p.materialIndex);else if(void 0!==n)for(var c=0;c<n.length;c+=3)h(n[c],n[c+1],n[c+2]);else for(var c=0;c<r.length/3;c+=3)h(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(Sn=new Tt,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sn).negate(),this.translate(Sn.x,Sn.y,Sn.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new tn;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var e=new Tt,t=new Tt,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,n,i,r,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new Tt;if(e){var s,l,c,u=new Tt,h=new Tt;for(i=0,r=this.faces.length;i<r;i++)o=this.faces[i],s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],u.subVectors(c,l),h.subVectors(s,l),u.cross(h),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o=this.faces[i],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(i=0,r=this.faces.length;i<r;i++){var d=(o=this.faces[i]).vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var i=(n=this.faces[e]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var o=new Pn;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)l=new Tt,c={a:new Tt,b:new Tt,c:new Tt},a.push(l),s.push(c)}var l,c,u=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)r=this.faces[n],l=u.faceNormals[n],c=u.vertexNormals[n],l.copy(r.normal),c.a.copy(r.vertexNormals[0]),c.b.copy(r.vertexNormals[1]),c.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Jt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Zt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var i,r=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,l=e.faces,c=this.faceVertexUvs[0],u=e.faceVertexUvs[0],h=this.colors,d=e.colors;void 0===n&&(n=0),void 0!==t&&(i=(new _t).getNormalMatrix(t));for(var p=0,f=a.length;p<f;p++){var m=a[p],v=m.clone();void 0!==t&&v.applyMatrix4(t),o.push(v)}for(var p=0,f=d.length;p<f;p++)h.push(d[p].clone());for(p=0,f=l.length;p<f;p++){var g,y,b,x=l[p],w=x.vertexNormals,A=x.vertexColors;(g=new gn(x.a+r,x.b+r,x.c+r)).normal.copy(x.normal),void 0!==i&&g.normal.applyMatrix3(i).normalize();for(var M=0,E=w.length;M<E;M++)y=w[M].clone(),void 0!==i&&y.applyMatrix3(i).normalize(),g.vertexNormals.push(y);g.color.copy(x.color);for(var M=0,E=A.length;M<E;M++)b=A[M],g.vertexColors.push(b.clone());g.materialIndex=x.materialIndex+n,s.push(g)}for(p=0,f=u.length;p<f;p++){var C=u[p],S=[];if(void 0!==C){for(var M=0,E=C.length;M<E;M++)S.push(C[M].clone());c.push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,i,r,o,a,s,l={},c=[],u=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)e=this.vertices[n],t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h),void 0===l[t]?(l[t]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[t]];var d=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=u[r.a],r.b=u[r.b],r.c=u[r.c],o=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var f=d[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];this.vertices.push(new Tt(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var i,r,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(i=[]),a&&a.length===t&&(r=[]);for(var n=0;n<t;n++){var s=e[n]._id;i&&i.push(o[s]),r&&r.push(a[s])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var i=[],r=0;r<this.vertices.length;r++){var o=this.vertices[r];i.push(o.x,o.y,o.z)}for(var a=[],s=[],l={},c=[],u={},h=[],d={},r=0;r<this.faces.length;r++){var p=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],m=p.normal.length()>0,v=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,b=0;if(b=M(b,0,0),b=M(b,1,!0),b=M(b,2,!1),b=M(b,3,f),b=M(b,4,m),b=M(b,5,v),b=M(b,6,g),b=M(b,7,y),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),f){var x=this.faceVertexUvs[0][r];a.push(S(x[0]),S(x[1]),S(x[2]))}if(m&&a.push(E(p.normal)),v){var w=p.vertexNormals;a.push(E(w[0]),E(w[1]),E(w[2]))}if(g&&a.push(C(p.color)),y){var A=p.vertexColors;a.push(C(A[0]),C(A[1]),C(A[2]))}}function M(e,t,n){return n?e|1<<t:e&~(1<<t)}function E(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]?l[t]:(l[t]=s.length/3,s.push(e.x,e.y,e.z),l[t])}function C(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]?u[t]:(u[t]=c.length,c.push(e.getHex()),u[t])}function S(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/2,h.push(e.x,e.y),d[t])}return e.data={},e.data.vertices=i,e.data.normals=s,c.length>0&&(e.data.colors=c),h.length>0&&(e.data.uvs=[h]),e.data.faces=a,e},clone:function(){return(new Pn).copy(this)},copy:function(e){var t,n,i,r,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),i=0,r=u.length;i<r;i++){var h=u[i],d=[];for(o=0,a=h.length;o<a;o++){var p=h[o];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var f=e.morphTargets;for(t=0,n=f.length;t<n;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],i=0,r=f[t].vertices.length;i<r;i++)m.vertices.push(f[t].vertices[i].clone());if(void 0!==f[t].normals)for(m.normals=[],i=0,r=f[t].normals.length;i<r;i++)m.normals.push(f[t].normals[i].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,n=v.length;t<n;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],i=0,r=v[t].vertexNormals.length;i<r;i++){var y=v[t].vertexNormals[i],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],i=0,r=v[t].faceNormals.length;i<r;i++)g.faceNormals.push(v[t].faceNormals[i].clone());this.morphNormals.push(g)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var A=e.lineDistances;for(t=0,n=A.length;t<n;t++)this.lineDistances.push(A[t]);var M=e.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=e.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ln.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ln.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new hn),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Ct),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Tt),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Qt),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),kn.prototype=Object.create(Ln.prototype),kn.prototype.constructor=kn,In.prototype=Object.create(Ln.prototype),In.prototype.constructor=In,On.prototype=Object.create(Ln.prototype),On.prototype.constructor=On,Dn.prototype=Object.create(Ln.prototype),Dn.prototype.constructor=Dn,Rn.prototype=Object.create(Ln.prototype),Rn.prototype.constructor=Rn,Nn.prototype=Object.create(Ln.prototype),Nn.prototype.constructor=Nn,Vn.prototype=Object.create(Ln.prototype),Vn.prototype.constructor=Vn,Bn.prototype=Object.create(Ln.prototype),Bn.prototype.constructor=Bn,Fn.prototype=Object.create(Ln.prototype),Fn.prototype.constructor=Fn,Object.assign(zn.prototype,{computeGroups:function(e){for(var t,n=[],i=void 0,r=e.faces,o=0;o<r.length;o++){var a=r[o];a.materialIndex!==i&&(i=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:i})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,i=e.vertices,r=e.faceVertexUvs,o=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var c=0;c<l;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var u,h=e.morphNormals,d=h.length;if(d>0){u=[];for(var c=0;c<d;c++)u[c]={name:h[c].name,data:[]};this.morphTargets.normal=u}var p=e.skinIndices,f=e.skinWeights,m=p.length===i.length,v=f.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var c=0;c<n.length;c++){var g=n[c];this.vertices.push(i[g.a],i[g.b],i[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=g.color;this.colors.push(w,w,w)}if(!0===o){var A=r[0][c];void 0!==A?this.uvs.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new Ct,new Ct,new Ct))}if(!0===a){var A=r[1][c];void 0!==A?this.uvs2.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new Ct,new Ct,new Ct))}for(var M=0;M<l;M++){var E=s[M].vertices;t[M].data.push(E[g.a],E[g.b],E[g.c])}for(var M=0;M<d;M++){var C=h[M].vertexNormals[c];u[M].data.push(C.a,C.b,C.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var jn=1;function Hn(){Object.defineProperty(this,"id",{value:jn+=2}),this.uuid=Et.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Gn(e,t,n,i,r,o){Pn.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new Wn(e,t,n,i,r,o)),this.mergeVertices()}function Wn(e,t,n,i,r,o){Hn.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};var a=this;e=e||1,t=t||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,o=Math.floor(o)||1;var s=[],l=[],c=[],u=[],h=0,d=0;function p(e,t,n,i,r,o,p,f,m,v,g){var y,b,x=o/m,w=p/v,A=o/2,M=p/2,E=f/2,C=m+1,S=v+1,T=0,_=0,P=new Tt;for(b=0;b<S;b++){var L=b*w-M;for(y=0;y<C;y++){var k=y*x-A;P[e]=k*i,P[t]=L*r,P[n]=E,l.push(P.x,P.y,P.z),P[e]=0,P[t]=0,P[n]=f>0?1:-1,c.push(P.x,P.y,P.z),u.push(y/m),u.push(1-b/v),T+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var I=h+y+C*b,O=h+y+C*(b+1),D=h+(y+1)+C*(b+1),R=h+(y+1)+C*b;s.push(I,O,R),s.push(O,D,R),_+=6}a.addGroup(d,_,g),d+=_,h+=T}p("z","y","x",-1,-1,n,t,e,o,r,0),p("z","y","x",1,-1,n,t,-e,o,r,1),p("x","z","y",1,1,e,n,t,i,o,2),p("x","z","y",1,-1,e,n,-t,i,o,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.addAttribute("position",new Bn(l,3)),this.addAttribute("normal",new Bn(c,3)),this.addAttribute("uv",new Bn(u,2))}function Qn(e,t,n,i){Pn.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Yn(e,t,n,i)),this.mergeVertices()}function Yn(e,t,n,i){Hn.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r,o,a=(e=e||1)/2,s=(t=t||1)/2,l=Math.floor(n)||1,c=Math.floor(i)||1,u=l+1,h=c+1,d=e/l,p=t/c,f=[],m=[],v=[],g=[];for(o=0;o<h;o++){var y=o*p-s;for(r=0;r<u;r++){var b=r*d-a;m.push(b,-y,0),v.push(0,0,1),g.push(r/l),g.push(1-o/c)}}for(o=0;o<c;o++)for(r=0;r<l;r++){var x=r+u*o,w=r+u*(o+1),A=r+1+u*(o+1),M=r+1+u*o;f.push(x,w,M),f.push(w,A,M)}this.setIndex(f),this.addAttribute("position",new Bn(m,3)),this.addAttribute("normal",new Bn(v,3)),this.addAttribute("uv",new Bn(g,2))}Hn.prototype=Object.assign(Object.create(t.prototype),{constructor:Hn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Un(e)>65535?Vn:Rn)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Ln(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new _t).getNormalMatrix(e);i.applyToBufferAttribute(n),n.needsUpdate=!0}var r=this.attributes.tangent;if(void 0!==r){var i=(new _t).getNormalMatrix(e);i.applyToBufferAttribute(r),r.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new tn;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new tn;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new tn;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new tn;return function(t,n,i){return e.makeTranslation(t,n,i),this.applyMatrix(e),this}}(),scale:function(){var e=new tn;return function(t,n,i){return e.makeScale(t,n,i),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Cn;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new Tt;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Bn(3*t.vertices.length,3),i=new Bn(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new Bn(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new Bn(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new zn).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Ln(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Ln(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var i=new Float32Array(3*e.colors.length);this.addAttribute("color",new Ln(i,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Ln(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Ln(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[a],c=0,u=l.length;c<u;c++){var h=l[c],d=new Bn(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var p=new Bn(4*e.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new Bn(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){var e=new Jt;return function(){null===this.boundingBox&&(this.boundingBox=new Jt);var t=this.attributes.position,n=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),n)for(var i=0,r=n.length;i<r;i++){var o=n[i];e.setFromBufferAttribute(o),this.boundingBox.expandByPoint(e.min),this.boundingBox.expandByPoint(e.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var e=new Jt,t=new Jt,n=new Tt;return function(){null===this.boundingSphere&&(this.boundingSphere=new Zt);var i=this.attributes.position,r=this.morphAttributes.position;if(i){var o=this.boundingSphere.center;if(e.setFromBufferAttribute(i),r)for(var a=0,s=r.length;a<s;a++){var l=r[a];t.setFromBufferAttribute(l),e.expandByPoint(t.min),e.expandByPoint(t.max)}e.getCenter(o);for(var c=0,a=0,s=i.count;a<s;a++)n.fromBufferAttribute(i,a),c=Math.max(c,o.distanceToSquared(n));if(r)for(var a=0,s=r.length;a<s;a++)for(var l=r[a],u=0,h=l.count;u<h;u++)n.fromBufferAttribute(l,u),c=Math.max(c,o.distanceToSquared(n));this.boundingSphere.radius=Math.sqrt(c),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Ln(new Float32Array(n.length),3));else for(var i=t.normal.array,r=0,o=i.length;r<o;r++)i[r]=0;var a,s,l,c=t.normal.array,u=new Tt,h=new Tt,d=new Tt,p=new Tt,f=new Tt;if(e)for(var m=e.array,r=0,o=e.count;r<o;r+=3)a=3*m[r+0],s=3*m[r+1],l=3*m[r+2],u.fromArray(n,a),h.fromArray(n,s),d.fromArray(n,l),p.subVectors(d,h),f.subVectors(u,h),p.cross(f),c[a]+=p.x,c[a+1]+=p.y,c[a+2]+=p.z,c[s]+=p.x,c[s+1]+=p.y,c[s+2]+=p.z,c[l]+=p.x,c[l+1]+=p.y,c[l+2]+=p.z;else for(var r=0,o=n.length;r<o;r+=9)u.fromArray(n,r),h.fromArray(n,r+3),d.fromArray(n,r+6),p.subVectors(d,h),f.subVectors(u,h),p.cross(f),c[r]=p.x,c[r+1]=p.y,c[r+2]=p.z,c[r+3]=p.x,c[r+4]=p.y,c[r+5]=p.z,c[r+6]=p.x,c[r+7]=p.y,c[r+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==e.attributes[i])for(var r=n[i],o=r.array,a=e.attributes[i],s=a.array,l=a.itemSize*t,c=Math.min(s.length,o.length-l),u=0,h=l;u<c;u++,h++)o[h]=s[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new Tt;return function(){for(var t=this.attributes.normal,n=0,i=t.count;n<i;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=new n.constructor(t.length*i),o=0,a=0,s=0,l=t.length;s<l;s++){o=t[s]*i;for(var c=0;c<i;c++)r[a++]=n[o++]}return new Ln(r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Hn,n=this.index.array,i=this.attributes;for(var r in i){var o=i[r],a=e(o,n);t.addAttribute(r,a)}var s=this.morphAttributes;for(r in s){for(var l=[],c=s[r],u=0,h=c.length;u<h;u++){var o=c[u],a=e(o,n);l.push(a)}t.morphAttributes[r]=l}for(var d=this.groups,u=0,p=d.length;u<p;u++){var f=d[u];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var i=this.index;null!==i&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var n in r){var o=r[n],a={itemSize:o.itemSize,type:o.array.constructor.name,array:Array.prototype.slice.call(o.array),normalized:o.normalized};""!==o.name&&(a.name=o.name),e.data.attributes[n]=a}var s={},l=!1;for(var n in this.morphAttributes){for(var c=this.morphAttributes[n],u=[],h=0,d=c.length;h<d;h++){var o=c[h],a={itemSize:o.itemSize,type:o.array.constructor.name,array:Array.prototype.slice.call(o.array),normalized:o.normalized};""!==o.name&&(a.name=o.name),u.push(a)}u.length>0&&(s[n]=u,l=!0)}l&&(e.data.morphAttributes=s);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e},clone:function(){return(new Hn).copy(this)},copy:function(e){var t,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var l=[],c=s[t];for(n=0,i=c.length;n<i;n++)l.push(c[n].clone());this.morphAttributes[t]=l}var u=e.groups;for(n=0,i=u.length;n<i;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Gn.prototype=Object.create(Pn.prototype),Gn.prototype.constructor=Gn,Wn.prototype=Object.create(Hn.prototype),Wn.prototype.constructor=Wn,Qn.prototype=Object.create(Pn.prototype),Qn.prototype.constructor=Qn,Yn.prototype=Object.create(Hn.prototype),Yn.prototype.constructor=Yn;var Xn=0;function Kn(){Object.defineProperty(this,"id",{value:Xn++}),this.uuid=Et.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=y,this.side=h,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=f,this.opacity=1,this.transparent=!1,this.blendSrc=I,this.blendDst=O,this.blendEquation=M,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=j,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}Kn.prototype=Object.assign(Object.create(t.prototype),{constructor:Kn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){var t=[];for(var n in e){var i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==y&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==h&&(n.side=this.side),this.vertexColors!==f&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var i=t.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var qn,Jn,Zn,$n,ei,ti,ni,ii,ri,oi,ai,si,li="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",ci="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function ui(e){Kn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=li,this.fragmentShader=ci,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function hi(e,t){this.origin=void 0!==e?e:new Tt,this.direction=void 0!==t?t:new Tt}function di(e,t,n){this.a=void 0!==e?e:new Tt,this.b=void 0!==t?t:new Tt,this.c=void 0!==n?n:new Tt}function pi(e){Kn.call(this),this.type="MeshBasicMaterial",this.color=new hn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function fi(e,t){Cn.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Hn,this.material=void 0!==t?t:new pi({color:16777215*Math.random()}),this.drawMode=ut,this.updateMorphTargets()}function mi(e,t,n,i){var r,o,a=new hn(0),s=0,l=null,c=0;function u(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,i)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),u(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(a,s=e)},render:function(t,i,p,f){var m=i.background,v=e.vr,g=v.getSession&&v.getSession();if(g&&"additive"===g.environmentBlendMode&&(m=null),null===m?(u(a,s),l=null,c=0):m&&m.isColor&&(u(m,1),f=!0,l=null,c=0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLRenderTargetCube)){void 0===o&&((o=new fi(new Wn(1,1,1),new ui({type:"BackgroundCubeMaterial",uniforms:rn(fn.cube.uniforms),vertexShader:fn.cube.vertexShader,fragmentShader:fn.cube.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),o.geometry.removeAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(o));var y=m.isWebGLRenderTargetCube?m.texture:m;o.material.uniforms.tCube.value=y,o.material.uniforms.tFlip.value=m.isWebGLRenderTargetCube?1:-1,l===m&&c===y.version||(o.material.needsUpdate=!0,l=m,c=y.version),t.unshift(o,o.geometry,o.material,0,0,null)}else m&&m.isTexture&&(void 0===r&&((r=new fi(new Yn(2,2),new ui({type:"BackgroundMaterial",uniforms:rn(fn.background.uniforms),vertexShader:fn.background.vertexShader,fragmentShader:fn.background.fragmentShader,side:h,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(r)),r.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),r.material.uniforms.uvTransform.value.copy(m.matrix),l===m&&c===m.version||(r.material.needsUpdate=!0,l=m,c=m.version),t.unshift(r,r.geometry,r.material,0,0,null))}}}function vi(e,t,n,i){var r;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r)},this.renderInstances=function(o,a,s){var l;if(i.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[i.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](r,a,s,o.maxInstancedCount),n.update(s,r,o.maxInstancedCount)}}function gi(e,t,n){var i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=u>0,y=o||!!t.get("OES_texture_float"),b=g&&y,x=o?e.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:b,maxSamples:x}}function yi(){var e=this,t=null,n=0,i=!1,r=!1,o=new $t,a=new _t,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,n,i,r){var l=null!==t?t.length:0,c=null;if(0!==l){if(c=s.value,!0!==r||null===c){var u=i+4*l,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===c||c.length<u)&&(c=new Float32Array(u));for(var d=0,p=i;d!==l;++d,p+=4)o.copy(t[d]).applyMatrix4(h,a),o.normal.toArray(c,p),c[p+3]=o.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=l,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,r,o){var a=0!==e.length||r||0!==n||i;return i=r,t=c(e,o,0),n=e.length,a},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,l()},this.setState=function(e,o,a,u,h,d){if(!i||null===e||0===e.length||r&&!a)r?c(null):l();else{var p=r?0:n,f=4*p,m=h.clippingState||null;s.value=m,m=c(e,u,f,d);for(var v=0;v!==f;++v)m[v]=t[v];h.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=p}}}function bi(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function xi(e,t,n){var i={},r={};function o(e){var a=e.target,s=i[a.id];for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);a.removeEventListener("dispose",o),delete i[a.id];var c=r[s.id];c&&(t.remove(c),delete r[s.id]),n.memory.geometries--}return{get:function(e,t){var r=i[t.id];return r||(t.addEventListener("dispose",o),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Hn).setFromObject(e)),r=t._bufferGeometry),i[t.id]=r,n.memory.geometries++,r)},update:function(e){var n=e.index,i=e.attributes;for(var r in null!==n&&t.update(n,34963),i)t.update(i[r],34962);var o=e.morphAttributes;for(var r in o)for(var a=o[r],s=0,l=a.length;s<l;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var n=r[e.id];if(n)return n;var i=[],o=e.index,a=e.attributes;if(null!==o)for(var s=o.array,l=0,c=s.length;l<c;l+=3){var u=s[l+0],h=s[l+1],d=s[l+2];i.push(u,h,h,d,d,u)}else for(var s=a.position.array,l=0,c=s.length/3-1;l<c;l+=3){var u=l+0,h=l+1,d=l+2;i.push(u,h,h,d,d,u)}return n=new(Un(i)>65535?Vn:Rn)(i,1),t.update(n,34963),r[e.id]=n,n}}}function wi(e,t,n,i){var r,o,a;this.setMode=function(e){r=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,o,t*a),n.update(i,r)},this.renderInstances=function(s,l,c){if(i.isWebGL2)u=e;else{var u=t.get("ANGLE_instanced_arrays");if(null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}u[i.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](r,c,o,l*a,s.maxInstancedCount),n.update(c,r,s.maxInstancedCount)}}function Ai(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(i=i||1,t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 5:case 6:t.triangles+=i*(e-2);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Mi(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ei(e){var t={},n=new Float32Array(8);return{update:function(i,r,o,a){var s=i.morphTargetInfluences,l=s.length,c=t[r.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];t[r.id]=c}for(var h=o.morphTargets&&r.morphAttributes.position,d=o.morphNormals&&r.morphAttributes.normal,u=0;u<l;u++){var p=c[u];0!==p[1]&&(h&&r.removeAttribute("morphTarget"+u),d&&r.removeAttribute("morphNormal"+u))}for(var u=0;u<l;u++){var p=c[u];p[0]=u,p[1]=s[u]}c.sort(Mi);for(var u=0;u<8;u++){var p=c[u];if(p){var f=p[0],m=p[1];if(m){h&&r.addAttribute("morphTarget"+u,h[f]),d&&r.addAttribute("morphNormal"+u,d[f]),n[u]=m;continue}}n[u]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Ci(e,t){var n={};return{update:function(i){var r=t.render.frame,o=i.geometry,a=e.get(i,o);return n[a.id]!==r&&(o.isGeometry&&a.updateFromObject(i),e.update(a),n[a.id]=r),a},dispose:function(){n={}}}}function Si(e,t,n,i,r,o,a,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:ne,a=void 0!==a?a:ke,Wt.call(this,e,t,n,i,r,o,a,s,l,c),this.flipY=!1}function Ti(e,t,n,i){Wt.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=de,this.minFilter=de,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1}function _i(e,t,n,i){Wt.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=de,this.minFilter=de,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1}ui.prototype=Object.create(Kn.prototype),ui.prototype.constructor=ui,ui.prototype.isShaderMaterial=!0,ui.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=rn(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},ui.prototype.toJSON=function(e){var t=Kn.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var i=this.uniforms[n],r=i.value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var a in this.extensions)!0===this.extensions[a]&&(o[a]=!0);return Object.keys(o).length>0&&(t.extensions=o),t},Object.assign(hi.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Tt),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new Tt;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Tt),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new Tt;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:(oi=new Tt,ai=new Tt,si=new Tt,function(e,t,n,i){oi.copy(e).add(t).multiplyScalar(.5),ai.copy(t).sub(e).normalize(),si.copy(this.origin).sub(oi);var r,o,a,s,l=.5*e.distanceTo(t),c=-this.direction.dot(ai),u=si.dot(this.direction),h=-si.dot(ai),d=si.lengthSq(),p=Math.abs(1-c*c);if(p>0)if(o=c*u-h,s=l*p,(r=c*h-u)>=0)if(o>=-s)if(o<=s){var f=1/p;a=(r*=f)*(r+c*(o*=f)+2*u)+o*(c*r+o+2*h)+d}else o=l,r=Math.max(0,-(c*o+u)),a=-r*r+o*(o+2*h)+d;else o=-l,r=Math.max(0,-(c*o+u)),a=-r*r+o*(o+2*h)+d;else o<=-s?(r=Math.max(0,-(-c*l+u)),o=r>0?-l:Math.min(Math.max(-l,-h),l),a=-r*r+o*(o+2*h)+d):o<=s?(r=0,o=Math.min(Math.max(-l,-h),l),a=o*(o+2*h)+d):(r=Math.max(0,-(c*l+u)),o=r>0?l:Math.min(Math.max(-l,-h),l),a=-r*r+o*(o+2*h)+d);else o=c>0?-l:l,r=Math.max(0,-(c*o+u)),a=-r*r+o*(o+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(ai).multiplyScalar(o).add(oi),a}),intersectSphere:function(){var e=new Tt;return function(t,n){e.subVectors(t.center,this.origin);var i=e.dot(this.direction),r=e.dot(e)-i*i,o=t.radius*t.radius;if(r>o)return null;var a=Math.sqrt(o-r),s=i-a,l=i+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var n=e.normal.dot(this.direction);return n*t<0},intersectBox:function(e,t){var n,i,r,o,a,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||a>i?null:((a>n||n!=n)&&(n=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,t)))},intersectsBox:(ri=new Tt,function(e){return null!==this.intersectBox(e,ri)}),intersectTriangle:function(){var e=new Tt,t=new Tt,n=new Tt,i=new Tt;return function(r,o,a,s,l){t.subVectors(o,r),n.subVectors(a,r),i.crossVectors(t,n);var c,u=this.direction.dot(i);if(u>0){if(s)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}e.subVectors(this.origin,r);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var d=c*this.direction.dot(t.cross(e));if(d<0)return null;if(h+d>u)return null;var p=-c*e.dot(i);return p<0?null:this.at(p/u,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(di,{getNormal:(ii=new Tt,function(e,t,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Tt),i.subVectors(n,t),ii.subVectors(e,t),i.cross(ii);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}),getBarycoord:function(){var e=new Tt,t=new Tt,n=new Tt;return function(i,r,o,a,s){e.subVectors(a,r),t.subVectors(o,r),n.subVectors(i,r);var l=e.dot(e),c=e.dot(t),u=e.dot(n),h=t.dot(t),d=t.dot(n),p=l*h-c*c;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Tt),0===p)return s.set(-2,-1,-1);var f=1/p,m=(h*u-c*d)*f,v=(l*d-c*u)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var e=new Tt;return function(t,n,i,r){return di.getBarycoord(t,n,i,r,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:(ni=new Tt,function(e,t,n,i,r,o,a,s){return this.getBarycoord(e,t,n,i,ni),s.set(0,0),s.addScaledVector(r,ni.x),s.addScaledVector(o,ni.y),s.addScaledVector(a,ni.z),s})}),Object.assign(di.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new Tt,t=new Tt;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Tt),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return di.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Tt),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return di.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return di.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,i,r){return di.getUV(e,this.a,this.b,this.c,t,n,i,r)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(qn=new Tt,Jn=new Tt,Zn=new Tt,$n=new Tt,ei=new Tt,ti=new Tt,function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Tt);var n,i,r=this.a,o=this.b,a=this.c;qn.subVectors(o,r),Jn.subVectors(a,r),$n.subVectors(e,r);var s=qn.dot($n),l=Jn.dot($n);if(s<=0&&l<=0)return t.copy(r);ei.subVectors(e,o);var c=qn.dot(ei),u=Jn.dot(ei);if(c>=0&&u<=c)return t.copy(o);var h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(r).addScaledVector(qn,n);ti.subVectors(e,a);var d=qn.dot(ti),p=Jn.dot(ti);if(p>=0&&d<=p)return t.copy(a);var f=d*l-s*p;if(f<=0&&l>=0&&p<=0)return i=l/(l-p),t.copy(r).addScaledVector(Jn,i);var m=c*p-d*u;if(m<=0&&u-c>=0&&d-p>=0)return Zn.subVectors(a,o),i=(u-c)/(u-c+(d-p)),t.copy(o).addScaledVector(Zn,i);var v=1/(m+f+h);return n=f*v,i=h*v,t.copy(r).addScaledVector(qn,n).addScaledVector(Jn,i)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),pi.prototype=Object.create(Kn.prototype),pi.prototype.constructor=pi,pi.prototype.isMeshBasicMaterial=!0,pi.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},fi.prototype=Object.assign(Object.create(Cn.prototype),{constructor:fi,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Cn.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,o=Object.keys(r);if(o.length>0){var a=r[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new tn,t=new hi,n=new Zt,i=new Tt,r=new Tt,o=new Tt,a=new Tt,s=new Tt,l=new Tt,c=new Tt,u=new Tt,h=new Tt,f=new Ct,m=new Ct,v=new Ct,g=new Tt,y=new Tt;function b(e,t,n,i,r,o,a,s){if(null===(t.side===d?i.intersectTriangle(a,o,r,!0,s):i.intersectTriangle(r,o,a,t.side!==p,s)))return null;y.copy(s),y.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(y);return l<n.near||l>n.far?null:{distance:l,point:y.clone(),object:e}}function x(e,t,n,d,p,y,x,w,A,M){i.fromBufferAttribute(p,w),r.fromBufferAttribute(p,A),o.fromBufferAttribute(p,M);var E=e.morphTargetInfluences;if(t.morphTargets&&y&&E){c.set(0,0,0),u.set(0,0,0),h.set(0,0,0);for(var C=0,S=y.length;C<S;C++){var T=E[C],_=y[C];0!==T&&(a.fromBufferAttribute(_,w),s.fromBufferAttribute(_,A),l.fromBufferAttribute(_,M),c.addScaledVector(a.sub(i),T),u.addScaledVector(s.sub(r),T),h.addScaledVector(l.sub(o),T))}i.add(c),r.add(u),o.add(h)}var P=b(e,t,n,d,i,r,o,g);if(P){x&&(f.fromBufferAttribute(x,w),m.fromBufferAttribute(x,A),v.fromBufferAttribute(x,M),P.uv=di.getUV(g,i,r,o,f,m,v,new Ct));var L=new gn(w,A,M);di.getNormal(i,r,o,L.normal),P.face=L}return P}return function(i,r){var o,a=this.geometry,s=this.material,l=this.matrixWorld;if(void 0!==s&&(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(l),!1!==i.ray.intersectsSphere(n)&&(e.getInverse(l),t.copy(i.ray).applyMatrix4(e),null===a.boundingBox||!1!==t.intersectsBox(a.boundingBox))))if(a.isBufferGeometry){var c,u,h,d,p,y,w,A,M,E,C,S=a.index,T=a.attributes.position,_=a.morphAttributes.position,P=a.attributes.uv,L=a.groups,k=a.drawRange;if(null!==S)if(Array.isArray(s))for(d=0,y=L.length;d<y;d++)for(A=L[d],M=s[A.materialIndex],E=Math.max(A.start,k.start),C=Math.min(A.start+A.count,k.start+k.count),p=E,w=C;p<w;p+=3)c=S.getX(p),u=S.getX(p+1),h=S.getX(p+2),(o=x(this,M,i,t,T,_,P,c,u,h))&&(o.faceIndex=Math.floor(p/3),o.face.materialIndex=A.materialIndex,r.push(o));else for(E=Math.max(0,k.start),C=Math.min(S.count,k.start+k.count),d=E,y=C;d<y;d+=3)c=S.getX(d),u=S.getX(d+1),h=S.getX(d+2),(o=x(this,s,i,t,T,_,P,c,u,h))&&(o.faceIndex=Math.floor(d/3),r.push(o));else if(void 0!==T)if(Array.isArray(s))for(d=0,y=L.length;d<y;d++)for(A=L[d],M=s[A.materialIndex],E=Math.max(A.start,k.start),C=Math.min(A.start+A.count,k.start+k.count),p=E,w=C;p<w;p+=3)(o=x(this,M,i,t,T,_,P,c=p,u=p+1,h=p+2))&&(o.faceIndex=Math.floor(p/3),o.face.materialIndex=A.materialIndex,r.push(o));else for(E=Math.max(0,k.start),C=Math.min(T.count,k.start+k.count),d=E,y=C;d<y;d+=3)(o=x(this,s,i,t,T,_,P,c=d,u=d+1,h=d+2))&&(o.faceIndex=Math.floor(d/3),r.push(o))}else if(a.isGeometry){var I,O,D,R,N=Array.isArray(s),V=a.vertices,B=a.faces,F=a.faceVertexUvs[0];F.length>0&&(R=F);for(var z=0,U=B.length;z<U;z++){var j=B[z],H=N?s[j.materialIndex]:s;if(void 0!==H&&(I=V[j.a],O=V[j.b],D=V[j.c],o=b(this,H,i,t,I,O,D,g))){if(R&&R[z]){var G=R[z];f.copy(G[0]),m.copy(G[1]),v.copy(G[2]),o.uv=di.getUV(g,I,O,D,f,m,v,new Ct)}o.face=j,o.faceIndex=z,r.push(o)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Si.prototype=Object.create(Wt.prototype),Si.prototype.constructor=Si,Si.prototype.isCubeTexture=!0,Object.defineProperty(Si.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Ti.prototype=Object.create(Wt.prototype),Ti.prototype.constructor=Ti,Ti.prototype.isDataTexture2DArray=!0,_i.prototype=Object.create(Wt.prototype),_i.prototype.constructor=_i,_i.prototype.isDataTexture3D=!0;var Pi=new Wt,Li=new Ti,ki=new _i,Ii=new Si,Oi=[],Di=[],Ri=new Float32Array(16),Ni=new Float32Array(9),Vi=new Float32Array(4);function Bi(e,t,n){var i=e[0];if(i<=0||i>0)return e;var r=t*n,o=Oi[r];if(void 0===o&&(o=new Float32Array(r),Oi[r]=o),0!==t){i.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Fi(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function zi(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function Ui(e,t){var n=Di[t];void 0===n&&(n=new Int32Array(t),Di[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function ji(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Hi(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Gi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Fi(n,t))return;e.uniform2fv(this.addr,t),zi(n,t)}}function Wi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Fi(n,t))return;e.uniform3fv(this.addr,t),zi(n,t)}}function Qi(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Fi(n,t))return;e.uniform4fv(this.addr,t),zi(n,t)}}function Yi(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(Fi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),zi(n,t)}else{if(Fi(n,i))return;Vi.set(i),e.uniformMatrix2fv(this.addr,!1,Vi),zi(n,i)}}function Xi(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(Fi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),zi(n,t)}else{if(Fi(n,i))return;Ni.set(i),e.uniformMatrix3fv(this.addr,!1,Ni),zi(n,i)}}function Ki(e,t){var n=this.cache,i=t.elements;if(void 0===i){if(Fi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),zi(n,t)}else{if(Fi(n,i))return;Ri.set(i),e.uniformMatrix4fv(this.addr,!1,Ri),zi(n,i)}}function qi(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||Pi,r)}function Ji(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Li,r)}function Zi(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||ki,r)}function $i(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||Ii,r)}function er(e,t){var n=this.cache;Fi(n,t)||(e.uniform2iv(this.addr,t),zi(n,t))}function tr(e,t){var n=this.cache;Fi(n,t)||(e.uniform3iv(this.addr,t),zi(n,t))}function nr(e,t){var n=this.cache;Fi(n,t)||(e.uniform4iv(this.addr,t),zi(n,t))}function ir(e,t){var n=this.cache;Fi(n,t)||(e.uniform1fv(this.addr,t),zi(n,t))}function rr(e,t){var n=this.cache;Fi(n,t)||(e.uniform1iv(this.addr,t),zi(n,t))}function or(e,t){var n=this.cache,i=Bi(t,this.size,2);Fi(n,i)||(e.uniform2fv(this.addr,i),this.updateCache(i))}function ar(e,t){var n=this.cache,i=Bi(t,this.size,3);Fi(n,i)||(e.uniform3fv(this.addr,i),this.updateCache(i))}function sr(e,t){var n=this.cache,i=Bi(t,this.size,4);Fi(n,i)||(e.uniform4fv(this.addr,i),this.updateCache(i))}function lr(e,t){var n=this.cache,i=Bi(t,this.size,4);Fi(n,i)||(e.uniformMatrix2fv(this.addr,!1,i),this.updateCache(i))}function cr(e,t){var n=this.cache,i=Bi(t,this.size,9);Fi(n,i)||(e.uniformMatrix3fv(this.addr,!1,i),this.updateCache(i))}function ur(e,t){var n=this.cache,i=Bi(t,this.size,16);Fi(n,i)||(e.uniformMatrix4fv(this.addr,!1,i),this.updateCache(i))}function hr(e,t,n){var i=this.cache,r=t.length,o=Ui(n,r);!1===Fi(i,o)&&(e.uniform1iv(this.addr,o),zi(i,o));for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||Pi,o[a])}function dr(e,t,n){var i=this.cache,r=t.length,o=Ui(n,r);!1===Fi(i,o)&&(e.uniform1iv(this.addr,o),zi(i,o));for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||Ii,o[a])}function pr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ji;case 35664:return Gi;case 35665:return Wi;case 35666:return Qi;case 35674:return Yi;case 35675:return Xi;case 35676:return Ki;case 35678:case 36198:return qi;case 35679:return Zi;case 35680:return $i;case 36289:return Ji;case 5124:case 35670:return Hi;case 35667:case 35671:return er;case 35668:case 35672:return tr;case 35669:case 35673:return nr}}(t.type)}function fr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ir;case 35664:return or;case 35665:return ar;case 35666:return sr;case 35674:return lr;case 35675:return cr;case 35676:return ur;case 35678:return hr;case 35680:return dr;case 5124:case 35670:return rr;case 35667:case 35671:return er;case 35668:case 35672:return tr;case 35669:case 35673:return nr}}(t.type)}function mr(e){this.id=e,this.seq=[],this.map={}}fr.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),zi(t,e)},mr.prototype.setValue=function(e,t,n){for(var i=this.seq,r=0,o=i.length;r!==o;++r){var a=i[r];a.setValue(e,t[a.id],n)}};var vr=/([\w\d_]+)(\])?(\[|\.)?/g;function gr(e,t){e.seq.push(t),e.map[t.id]=t}function yr(e,t,n){var i=e.name,r=i.length;for(vr.lastIndex=0;;){var o=vr.exec(i),a=vr.lastIndex,s=o[1],l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===r){gr(n,void 0===c?new pr(s,e,t):new fr(s,e,t));break}var u=n.map,h=u[s];void 0===h&&(h=new mr(s),gr(n,h)),n=h}}function br(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),i=0;i<n;++i){var r=e.getActiveUniform(t,i),o=e.getUniformLocation(t,r.name);yr(r,o,this)}}function xr(e,t,n,i){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!0===i&&(!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n))),r}br.prototype.setValue=function(e,t,n,i){var r=this.map[t];void 0!==r&&r.setValue(e,n,i)},br.prototype.setOptional=function(e,t,n){var i=t[n];void 0!==i&&this.setValue(e,n,i)},br.upload=function(e,t,n,i){for(var r=0,o=t.length;r!==o;++r){var a=t[r],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,i)}},br.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var o=e[i];o.id in t&&n.push(o)}return n};var wr=0;function Ar(e){switch(e){case pt:return["Linear","( value )"];case ft:return["sRGB","( value )"];case vt:return["RGBE","( value )"];case gt:return["RGBM","( value, 7.0 )"];case yt:return["RGBM","( value, 16.0 )"];case bt:return["RGBD","( value, 256.0 )"];case mt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Mr(e,t){var n=Ar(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Er(e,t){var n;switch(t){case J:n="Linear";break;case Z:n="Reinhard";break;case $:n="Uncharted2";break;case ee:n="OptimizedCineon";break;case te:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Cr(e){return""!==e}function Sr(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Tr(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function _r(e){return e.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(e,t){var n=nn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return _r(n)})}function Pr(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,n,i){for(var r="",o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[ i \]/g,"[ "+o+" ]");return r})}function Lr(e,t,n,i,r,o,a,s){var l=e.context,h=i.defines,d=r.vertexShader,p=r.fragmentShader,f="SHADOWMAP_TYPE_BASIC";o.shadowMapType===c?f="SHADOWMAP_TYPE_PCF":o.shadowMapType===u&&(f="SHADOWMAP_TYPE_PCF_SOFT");var m="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",g="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(i.envMap.mapping){case ne:case ie:m="ENVMAP_TYPE_CUBE";break;case se:case le:m="ENVMAP_TYPE_CUBE_UV";break;case re:case oe:m="ENVMAP_TYPE_EQUIREC";break;case ae:m="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case ie:case oe:v="ENVMAP_MODE_REFRACTION"}switch(i.combine){case Y:g="ENVMAP_BLENDING_MULTIPLY";break;case X:g="ENVMAP_BLENDING_MIX";break;case K:g="ENVMAP_BLENDING_ADD"}}var y,b,x,w,A,M=e.gammaFactor>0?e.gammaFactor:1,E=a.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Cr).join("\n")}(i.extensions,o,t),C=function(e){var t=[];for(var n in e){var i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(h),S=l.createProgram();if(i.isRawShaderMaterial?((y=[C].filter(Cr).join("\n")).length>0&&(y+="\n"),(b=[E,C].filter(Cr).join("\n")).length>0&&(b+="\n")):(y=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,C,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+M,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+v:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+f:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Cr).join("\n"),b=[E,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,C,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+M,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+m:"",o.envMap?"#define "+v:"",o.envMap?"#define "+g:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+f:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==q?"#define TONE_MAPPING":"",o.toneMapping!==q?nn.tonemapping_pars_fragment:"",o.toneMapping!==q?Er("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?nn.encodings_pars_fragment:"",o.mapEncoding?Mr("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?Mr("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?Mr("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Mr("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(x="linearToOutputTexel",w=o.outputEncoding,A=Ar(w),"vec4 "+x+"( vec4 value ) { return LinearTo"+A[0]+A[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Cr).join("\n")),d=Tr(d=Sr(d=_r(d),o),o),p=Tr(p=Sr(p=_r(p),o),o),d=Pr(d),p=Pr(p),a.isWebGL2&&!i.isRawShaderMaterial){var T=!1,_=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==d.match(_)&&null!==p.match(_)&&(T=!0,d=d.replace(_,""),p=p.replace(_,"")),y=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,b=["#version 300 es\n","#define varying in",T?"":"out highp vec4 pc_fragColor;",T?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b}var P,L,k=y+d,I=b+p,O=xr(l,35633,k,e.debug.checkShaderErrors),D=xr(l,35632,I,e.debug.checkShaderErrors);if(l.attachShader(S,O),l.attachShader(S,D),void 0!==i.index0AttributeName?l.bindAttribLocation(S,0,i.index0AttributeName):!0===o.morphTargets&&l.bindAttribLocation(S,0,"position"),l.linkProgram(S),e.debug.checkShaderErrors){var R=l.getProgramInfoLog(S).trim(),N=l.getShaderInfoLog(O).trim(),V=l.getShaderInfoLog(D).trim(),B=!0,F=!0;!1===l.getProgramParameter(S,35714)?(B=!1,console.error("THREE.WebGLProgram: shader error: ",l.getError(),"35715",l.getProgramParameter(S,35715),"gl.getProgramInfoLog",R,N,V)):""!==R?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",R):""!==N&&""!==V||(F=!1),F&&(this.diagnostics={runnable:B,material:i,programLog:R,vertexShader:{log:N,prefix:y},fragmentShader:{log:V,prefix:b}})}return l.deleteShader(O),l.deleteShader(D),this.getUniforms=function(){return void 0===P&&(P=new br(l,S,s)),P},this.getAttributes=function(){return void 0===L&&(L=function(e,t){for(var n={},i=e.getProgramParameter(t,35721),r=0;r<i;r++){var o=e.getActiveAttrib(t,r),a=o.name;n[a]=e.getAttribLocation(t,a)}return n}(l,S)),L},this.destroy=function(){l.deleteProgram(S),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=r.name,this.id=wr++,this.code=n,this.usedTimes=1,this.program=S,this.vertexShader=O,this.fragmentShader=D,this}function kr(e,t,n,i){var r=[],o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=pt,n===pt&&t&&(n=mt),n}this.getParameters=function(t,i,r,a,l,c,u){var h=o[t.type],f=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var i=n.maxVertexUniforms,r=Math.floor((i-20)/4),o=Math.min(r,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(u):0,m=n.precision;null!==t.precision&&(m=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",m,"instead.");var v=e.getRenderTarget(),g={shaderID:h,precision:m,supportsVertexTextures:n.vertexTextures,outputEncoding:s(v?v.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:s(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:s(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:s(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===se||t.envMap.mapping===le),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:s(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Mt,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,fog:!!a,useFog:t.fog,fogExp:a&&a.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&r.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===p,flipSided:t.side===d,depthPacking:void 0!==t.depthPacking&&t.depthPacking};return g},this.getProgramCode=function(t,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)i.push(r),i.push(t.defines[r]);for(var o=0;o<a.length;o++)i.push(n[a[o]]);return i.push(t.onBeforeCompile.toString()),i.push(e.gammaOutput),i.push(e.gammaFactor),i.join()},this.acquireProgram=function(o,a,s,l){for(var c,u=0,h=r.length;u<h;u++){var d=r[u];if(d.code===l){++(c=d).usedTimes;break}}return void 0===c&&(c=new Lr(e,t,l,o,a,s,n,i),r.push(c)),c},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Ir(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Or(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Dr(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Rr(){var e=[],t=0,n=[],i=[],r={id:-1};function o(n,i,o,a,s,l){var c=e[t];return void 0===c?(c={id:n.id,object:n,geometry:i,material:o,program:o.program||r,groupOrder:a,renderOrder:n.renderOrder,z:s,group:l},e[t]=c):(c.id=n.id,c.object=n,c.geometry=i,c.material=o,c.program=o.program||r,c.groupOrder=a,c.renderOrder=n.renderOrder,c.z=s,c.group=l),t++,c}return{opaque:n,transparent:i,init:function(){t=0,n.length=0,i.length=0},push:function(e,t,r,a,s,l){var c=o(e,t,r,a,s,l);(!0===r.transparent?i:n).push(c)},unshift:function(e,t,r,a,s,l){var c=o(e,t,r,a,s,l);(!0===r.transparent?i:n).unshift(c)},sort:function(){n.length>1&&n.sort(Or),i.length>1&&i.sort(Dr)}}}function Nr(){var e={};function t(n){var i=n.target;i.removeEventListener("dispose",t),delete e[i.id]}return{get:function(n,i){var r,o=e[n.id];return void 0===o?(r=new Rr,e[n.id]={},e[n.id][i.id]=r,n.addEventListener("dispose",t)):void 0===(r=o[i.id])&&(r=new Rr,o[i.id]=r),r},dispose:function(){e={}}}}function Vr(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Tt,color:new hn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"SpotLight":n={position:new Tt,direction:new Tt,color:new hn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"PointLight":n={position:new Tt,color:new hn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ct,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new Tt,skyColor:new hn,groundColor:new hn};break;case"RectAreaLight":n={color:new hn,position:new Tt,halfWidth:new Tt,halfHeight:new Tt}}return e[t.id]=n,n}}}var Br=0;function Fr(){for(var e=new Vr,t={id:Br++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;n<9;n++)t.probe.push(new Tt);var i=new Tt,r=new tn,o=new tn;return{setup:function(n,a,s){for(var l=0,c=0,u=0,h=0;h<9;h++)t.probe[h].set(0,0,0);for(var d=0,p=0,f=0,m=0,v=0,g=s.matrixWorldInverse,h=0,y=n.length;h<y;h++){var b=n[h],x=b.color,w=b.intensity,A=b.distance,M=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=x.r*w,c+=x.g*w,u+=x.b*w;else if(b.isLightProbe)for(var E=0;E<9;E++)t.probe[E].addScaledVector(b.sh.coefficients[E],w);else if(b.isDirectionalLight){var C=e.get(b);if(C.color.copy(b.color).multiplyScalar(b.intensity),C.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(g),C.shadow=b.castShadow,b.castShadow){var S=b.shadow;C.shadowBias=S.bias,C.shadowRadius=S.radius,C.shadowMapSize=S.mapSize}t.directionalShadowMap[d]=M,t.directionalShadowMatrix[d]=b.shadow.matrix,t.directional[d]=C,d++}else if(b.isSpotLight){var C=e.get(b);if(C.position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(g),C.color.copy(x).multiplyScalar(w),C.distance=A,C.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(g),C.coneCos=Math.cos(b.angle),C.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),C.decay=b.decay,C.shadow=b.castShadow,b.castShadow){var S=b.shadow;C.shadowBias=S.bias,C.shadowRadius=S.radius,C.shadowMapSize=S.mapSize}t.spotShadowMap[f]=M,t.spotShadowMatrix[f]=b.shadow.matrix,t.spot[f]=C,f++}else if(b.isRectAreaLight){var C=e.get(b);C.color.copy(x).multiplyScalar(w),C.position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(g),o.identity(),r.copy(b.matrixWorld),r.premultiply(g),o.extractRotation(r),C.halfWidth.set(.5*b.width,0,0),C.halfHeight.set(0,.5*b.height,0),C.halfWidth.applyMatrix4(o),C.halfHeight.applyMatrix4(o),t.rectArea[m]=C,m++}else if(b.isPointLight){var C=e.get(b);if(C.position.setFromMatrixPosition(b.matrixWorld),C.position.applyMatrix4(g),C.color.copy(b.color).multiplyScalar(b.intensity),C.distance=b.distance,C.decay=b.decay,C.shadow=b.castShadow,b.castShadow){var S=b.shadow;C.shadowBias=S.bias,C.shadowRadius=S.radius,C.shadowMapSize=S.mapSize,C.shadowCameraNear=S.camera.near,C.shadowCameraFar=S.camera.far}t.pointShadowMap[p]=M,t.pointShadowMatrix[p]=b.shadow.matrix,t.point[p]=C,p++}else if(b.isHemisphereLight){var C=e.get(b);C.direction.setFromMatrixPosition(b.matrixWorld),C.direction.transformDirection(g),C.direction.normalize(),C.skyColor.copy(b.color).multiplyScalar(w),C.groundColor.copy(b.groundColor).multiplyScalar(w),t.hemi[v]=C,v++}}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=d,t.spot.length=f,t.rectArea.length=m,t.point.length=p,t.hemi.length=v,t.hash.stateID=t.id,t.hash.directionalLength=d,t.hash.pointLength=p,t.hash.spotLength=f,t.hash.rectAreaLength=m,t.hash.hemiLength=v,t.hash.shadowsLength=a.length},state:t}}function zr(){var e=new Fr,t=[],n=[],i={lightsArray:t,shadowsArray:n,lights:e};return{init:function(){t.length=0,n.length=0},state:i,setupLights:function(i){e.setup(t,n,i)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Ur(){var e={};function t(n){var i=n.target;i.removeEventListener("dispose",t),delete e[i.id]}return{get:function(n,i){var r;return void 0===e[n.id]?(r=new zr,e[n.id]={},e[n.id][i.id]=r,n.addEventListener("dispose",t)):void 0===e[n.id][i.id]?(r=new zr,e[n.id][i.id]=r):r=e[n.id][i.id],r},dispose:function(){e={}}}}function jr(e){Kn.call(this),this.type="MeshDepthMaterial",this.depthPacking=xt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function Hr(e){Kn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Tt,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Gr(e,t,n){for(var i=new en,r=new tn,o=new Ct,a=new Ct(n,n),s=new Tt,l=new Tt,u=1,f=2,m=1+(u|f),v=new Array(m),y=new Array(m),b={},x={0:d,1:h,2:p},w=[new Tt(1,0,0),new Tt(-1,0,0),new Tt(0,0,1),new Tt(0,0,-1),new Tt(0,1,0),new Tt(0,-1,0)],A=[new Tt(0,1,0),new Tt(0,1,0),new Tt(0,1,0),new Tt(0,1,0),new Tt(0,0,1),new Tt(0,0,-1)],M=[new Qt,new Qt,new Qt,new Qt,new Qt,new Qt],E=0;E!==m;++E){var C=0!=(E&u),S=0!=(E&f),T=new jr({depthPacking:wt,morphTargets:C,skinning:S});v[E]=T;var _=new Hr({morphTargets:C,skinning:S});y[E]=_}var P=this;function L(t,n,i,r,o,a){var s=t.geometry,l=null,c=v,h=t.customDepthMaterial;if(i&&(c=y,h=t.customDistanceMaterial),h)l=h;else{var d=!1;n.morphTargets&&(s&&s.isBufferGeometry?d=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(d=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var p=t.isSkinnedMesh&&n.skinning,m=0;d&&(m|=u),p&&(m|=f),l=c[m]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var g=l.uuid,w=n.uuid,A=b[g];void 0===A&&(A={},b[g]=A);var M=A[w];void 0===M&&(M=l.clone(),A[w]=M),l=M}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:x[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=o,l.farDistance=a),l}function k(n,r,o,a){if(!1!==n.visible){var s=n.layers.test(r.layers);if(s&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=t.update(n),u=n.material;if(Array.isArray(u))for(var h=c.groups,d=0,p=h.length;d<p;d++){var f=h[d],m=u[f.materialIndex];if(m&&m.visible){var v=L(n,m,a,l,o.near,o.far);e.renderBufferDirect(o,null,c,v,n,f)}}else if(u.visible){var v=L(n,u,a,l,o.near,o.far);e.renderBufferDirect(o,null,c,v,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)k(g[y],r,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=c,this.render=function(t,n,c){if(!1!==P.enabled&&(!1!==P.autoUpdate||!1!==P.needsUpdate)&&0!==t.length){var u,h=e.getRenderTarget(),d=e.state;d.setBlending(g),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var p=0,f=t.length;p<f;p++){var m=t[p],v=m.shadow,y=m&&m.isPointLight;if(void 0!==v){var b=v.camera;if(o.copy(v.mapSize),o.min(a),y){var x=o.x,E=o.y;M[0].set(2*x,E,x,E),M[1].set(0,E,x,E),M[2].set(3*x,E,x,E),M[3].set(x,E,x,E),M[4].set(3*x,0,x,E),M[5].set(x,0,x,E),o.x*=4,o.y*=2}if(null===v.map){var C={minFilter:de,magFilter:de,format:Ie};v.map=new Yt(o.x,o.y,C),v.map.texture.name=m.name+".shadowMap",b.updateProjectionMatrix()}v.isSpotLightShadow&&v.update(m);var S=v.map,T=v.matrix;l.setFromMatrixPosition(m.matrixWorld),b.position.copy(l),y?(u=6,T.makeTranslation(-l.x,-l.y,-l.z)):(u=1,s.setFromMatrixPosition(m.target.matrixWorld),b.lookAt(s),b.updateMatrixWorld(),T.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),T.multiply(b.projectionMatrix),T.multiply(b.matrixWorldInverse)),e.setRenderTarget(S),e.clear();for(var _=0;_<u;_++){if(y){s.copy(b.position),s.add(w[_]),b.up.copy(A[_]),b.lookAt(s),b.updateMatrixWorld();var L=M[_];d.viewport(L)}r.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),i.setFromMatrix(r),k(n,c,b,y)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}P.needsUpdate=!1,e.setRenderTarget(h)}}}function Wr(e,t,n,i){var r=new function(){var t=!1,n=new Qt,i=null,r=new Qt(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,a,s){!0===s&&(t*=a,i*=a,o*=a),n.set(t,i,o,a),!1===r.equals(n)&&(e.clearColor(t,i,o,a),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){e?oe(2929):ae(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case F:e.depthFunc(512);break;case z:e.depthFunc(519);break;case U:e.depthFunc(513);break;case j:e.depthFunc(515);break;case H:e.depthFunc(514);break;case G:e.depthFunc(518);break;case W:e.depthFunc(516);break;case Q:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},c=new function(){var t=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(e){e?oe(2960):ae(2960)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,a){i===t&&r===n&&o===a||(e.stencilFunc(t,n,a),i=t,r=n,o=a)},setOp:function(t,n,i){a===t&&s===n&&l===i||(e.stencilOp(t,n,i),a=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null}}},u=e.getParameter(34921),h=new Uint8Array(u),f=new Uint8Array(u),m=new Uint8Array(u),v={},E=null,C=null,S=null,T=null,_=null,P=null,L=null,k=null,I=null,O=null,D=!1,R=null,N=null,V=null,B=null,Y=null,X=e.getParameter(35661),K=!1,q=0,J=e.getParameter(7938);-1!==J.indexOf("WebGL")?(q=parseFloat(/^WebGL\ ([0-9])/.exec(J)[1]),K=q>=1):-1!==J.indexOf("OpenGL ES")&&(q=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(J)[1]),K=q>=2);var Z=null,$={},ee=new Qt,te=new Qt;function ne(t,n,i){var r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<i;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,r);return o}var ie={};function re(n,r){if(h[n]=1,0===f[n]&&(e.enableVertexAttribArray(n),f[n]=1),m[n]!==r){var o=i.isWebGL2?e:t.get("ANGLE_instanced_arrays");o[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),m[n]=r}}function oe(t){!0!==v[t]&&(e.enable(t),v[t]=!0)}function ae(t){!1!==v[t]&&(e.disable(t),v[t]=!1)}function se(t,i,r,o,a,s,l,c){if(t!==g){if(S||(oe(3042),S=!0),t===A)a=a||i,s=s||r,l=l||o,i===_&&a===k||(e.blendEquationSeparate(n.convert(i),n.convert(a)),_=i,k=a),r===P&&o===L&&s===I&&l===O||(e.blendFuncSeparate(n.convert(r),n.convert(o),n.convert(s),n.convert(l)),P=r,L=o,I=s,O=l),T=t,D=null;else if(t!==T||c!==D){if(_===M&&k===M||(e.blendEquation(32774),_=M,k=M),c)switch(t){case y:e.blendFuncSeparate(1,771,1,771);break;case b:e.blendFunc(1,1);break;case x:e.blendFuncSeparate(0,0,769,771);break;case w:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case y:e.blendFuncSeparate(770,771,1,771);break;case b:e.blendFunc(770,1);break;case x:e.blendFunc(0,769);break;case w:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}P=null,L=null,I=null,O=null,T=t,D=c}}else S&&(ae(3042),S=!1)}function le(t){R!==t&&(t?e.frontFace(2304):e.frontFace(2305),R=t)}function ce(t){t!==a?(oe(2884),t!==N&&(t===s?e.cullFace(1029):t===l?e.cullFace(1028):e.cullFace(1032))):ae(2884),N=t}function ue(t,n,i){t?(oe(32823),B===n&&Y===i||(e.polygonOffset(n,i),B=n,Y=i)):ae(32823)}function he(t){void 0===t&&(t=33984+X-1),Z!==t&&(e.activeTexture(t),Z=t)}return ie[3553]=ne(3553,3553,1),ie[34067]=ne(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),c.setClear(0),oe(2929),o.setFunc(j),le(!1),ce(s),oe(2884),se(g),{buffers:{color:r,depth:o,stencil:c},initAttributes:function(){for(var e=0,t=h.length;e<t;e++)h[e]=0},enableAttribute:function(e){re(e,0)},enableAttributeAndDivisor:re,disableUnusedAttributes:function(){for(var t=0,n=f.length;t!==n;++t)f[t]!==h[t]&&(e.disableVertexAttribArray(t),f[t]=0)},enable:oe,disable:ae,getCompressedTextureFormats:function(){if(null===E&&(E=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),i=0;i<n.length;i++)E.push(n[i]);return E},useProgram:function(t){return C!==t&&(e.useProgram(t),C=t,!0)},setBlending:se,setMaterial:function(e,t){e.side===p?ae(2884):oe(2884);var n=e.side===d;t&&(n=!n),le(n),e.blending===y&&!1===e.transparent?se(g):se(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),r.setMask(e.colorWrite),ue(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:le,setCullFace:ce,setLineWidth:function(t){t!==V&&(K&&e.lineWidth(t),V=t)},setPolygonOffset:ue,setScissorTest:function(e){e?oe(3089):ae(3089)},activeTexture:he,bindTexture:function(t,n){null===Z&&he();var i=$[Z];void 0===i&&(i={type:void 0,texture:void 0},$[Z]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||ie[t]),i.type=t,i.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===ee.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ee.copy(t))},viewport:function(t){!1===te.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),te.copy(t))},reset:function(){for(var t=0;t<f.length;t++)1===f[t]&&(e.disableVertexAttribArray(t),f[t]=0);v={},E=null,Z=null,$={},C=null,T=null,R=null,N=null,r.reset(),o.reset(),c.reset()}}}function Qr(e,t,n,i,r,o,a){var s,l={},c="undefined"!=typeof OffscreenCanvas;function u(e,t){return c?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function h(e,t,n,i){var r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?Et.floorPowerOfTwo:Math.floor,a=o(r*e.width),l=o(r*e.height);void 0===s&&(s=u(a,l));var c=n?u(a,l):s;c.width=a,c.height=l;var h=c.getContext("2d");return h.drawImage(e,0,0,a,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+l+")."),c}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function d(e){return Et.isPowerOfTwo(e.width)&&Et.isPowerOfTwo(e.height)}function p(e,t){return e.generateMipmaps&&t&&e.minFilter!==de&&e.minFilter!==me}function f(t,n,r,o){e.generateMipmap(t);var a=i.get(n);a.__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function m(e,n){if(!r.isWebGL2)return e;var i=e;return 6403===e&&(5126===n&&(i=33326),5131===n&&(i=33325),5121===n&&(i=33321)),6407===e&&(5126===n&&(i=34837),5131===n&&(i=34843),5121===n&&(i=32849)),6408===e&&(5126===n&&(i=34836),5131===n&&(i=34842),5121===n&&(i=32856)),33325===i||33326===i||34842===i||34836===i?t.get("EXT_color_buffer_float"):34843!==i&&34837!==i||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),i}function v(e){return e===de||e===pe||e===fe?9728:9729}function g(t){var n=t.target;n.removeEventListener("dispose",g),function(t){var n=i.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),i.remove(t))}(n),n.isVideoTexture&&delete l[n.id],a.memory.textures--}function y(t){var n=t.target;n.removeEventListener("dispose",y),function(t){var n=i.get(t),r=i.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(t.texture),i.remove(t)}}(n),a.memory.textures--}var b=0;function x(e,t){var r=i.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=a.render.frame;l[t]!==n&&(l[t]=n,e.update())}(e),e.version>0&&r.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void C(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,r.__webglTexture)}function w(t,a){var s=i.get(t);if(6===t.image.length)if(t.version>0&&s.__version!==t.version){E(s,t),n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var l=t&&t.isCompressedTexture,c=t.image[0]&&t.image[0].isDataTexture,u=[],v=0;v<6;v++)u[v]=l||c?c?t.image[v].image:t.image[v]:h(t.image[v],!1,!0,r.maxCubemapSize);var g=u[0],y=d(g)||r.isWebGL2,b=o.convert(t.format),x=o.convert(t.type),w=m(b,x);M(34067,t,y);for(var v=0;v<6;v++)if(l)for(var A,C=u[v].mipmaps,S=0,T=C.length;S<T;S++)A=C[S],t.format!==Ie&&t.format!==ke?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(34069+v,S,w,A.width,A.height,0,A.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+v,S,w,A.width,A.height,0,b,x,A.data);else c?n.texImage2D(34069+v,0,w,u[v].width,u[v].height,0,b,x,u[v].data):n.texImage2D(34069+v,0,w,b,x,u[v]);s.__maxMipLevel=l?C.length-1:0,p(t,y)&&f(34067,t,g.width,g.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture)}function A(e,t){n.activeTexture(33984+t),n.bindTexture(34067,i.get(e).__webglTexture)}function M(n,a,s){var l;if(s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),32879!==n&&35866!==n||e.texParameteri(n,32882,o.convert(a.wrapR)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===ue&&a.wrapT===ue||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,v(a.magFilter)),e.texParameteri(n,10241,v(a.minFilter)),a.minFilter!==de&&a.minFilter!==me&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=t.get("EXT_texture_filter_anisotropic")){if(a.type===Ee&&null===t.get("OES_texture_float_linear"))return;if(a.type===Ce&&null===(r.isWebGL2||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function E(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",g),t.__webglTexture=e.createTexture(),a.memory.textures++)}function C(t,i,a){var s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),E(t,i),n.activeTexture(33984+a),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);var l=function(e){return!r.isWebGL2&&(e.wrapS!==ue||e.wrapT!==ue||e.minFilter!==de&&e.minFilter!==me)}(i)&&!1===d(i.image),c=h(i.image,l,!1,r.maxTextureSize),u=d(c)||r.isWebGL2,v=o.convert(i.format),g=o.convert(i.type),y=m(v,g);M(s,i,u);var b,x=i.mipmaps;if(i.isDepthTexture){if(y=6402,i.type===Ee){if(!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else r.isWebGL2&&(y=33189);i.format===Ne&&6402===y&&i.type!==we&&i.type!==Me&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=we,g=o.convert(i.type)),i.format===Ve&&(y=34041,i.type!==Pe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Pe,g=o.convert(i.type))),n.texImage2D(3553,0,y,c.width,c.height,0,v,g,null)}else if(i.isDataTexture)if(x.length>0&&u){for(var w=0,A=x.length;w<A;w++)b=x[w],n.texImage2D(3553,w,y,b.width,b.height,0,v,g,b.data);i.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,y,c.width,c.height,0,v,g,c.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(var w=0,A=x.length;w<A;w++)b=x[w],i.format!==Ie&&i.format!==ke?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(3553,w,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,w,y,b.width,b.height,0,v,g,b.data);t.__maxMipLevel=x.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,y,c.width,c.height,c.depth,0,v,g,c.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,y,c.width,c.height,c.depth,0,v,g,c.data),t.__maxMipLevel=0;else if(x.length>0&&u){for(var w=0,A=x.length;w<A;w++)b=x[w],n.texImage2D(3553,w,y,v,g,b);i.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,y,v,g,c),t.__maxMipLevel=0;p(i,u)&&f(3553,i,c.width,c.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function S(t,r,a,s){var l=o.convert(r.texture.format),c=o.convert(r.texture.type),u=m(l,c);n.texImage2D(s,0,u,r.width,r.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function T(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(i){var r=P(n);e.renderbufferStorageMultisample(36161,r,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(i){var r=P(n);e.renderbufferStorageMultisample(36161,r,34041,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=o.convert(n.texture.format),s=o.convert(n.texture.type),l=m(a,s);if(i){var r=P(n);e.renderbufferStorageMultisample(36161,r,l,n.width,n.height)}else e.renderbufferStorage(36161,l,n.width,n.height)}e.bindRenderbuffer(36161,null)}function _(t){var n=i.get(t),r=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ne)e.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==Ve)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),T(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),T(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function P(e){return r.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(r.maxSamples,e.samples):0}var L=!1,k=!1;this.allocateTextureUnit=function(){var e=b;return e>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+r.maxTextures),b+=1,e},this.resetTextureUnits=function(){b=0},this.setTexture2D=x,this.setTexture2DArray=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?C(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){var r=i.get(e);e.version>0&&r.__version!==e.version?C(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=A,this.setupRenderTarget=function(t){var s=i.get(t),l=i.get(t.texture);t.addEventListener("dispose",y),l.__webglTexture=e.createTexture(),a.memory.textures++;var c=!0===t.isWebGLRenderTargetCube,u=!0===t.isWebGLMultisampleRenderTarget,h=d(t)||r.isWebGL2;if(c){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),u)if(r.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=o.convert(t.texture.format),b=o.convert(t.texture.type),x=m(g,b),w=P(t);e.renderbufferStorageMultisample(36161,w,x,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),T(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,l.__webglTexture),M(34067,t.texture,h);for(var v=0;v<6;v++)S(s.__webglFramebuffer[v],t,36064,34069+v);p(t.texture,h)&&f(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),M(3553,t.texture,h),S(s.__webglFramebuffer,t,36064,3553),p(t.texture,h)&&f(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&_(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture,o=d(e)||r.isWebGL2;if(p(t,o)){var a=e.isWebGLRenderTargetCube?34067:3553,s=i.get(t).__webglTexture;n.bindTexture(a,s),f(a,t,e.width,e.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(r.isWebGL2){var n=i.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var o=t.width,a=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===L&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),L=!0),e=e.texture),x(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===k&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),k=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?w(e,t):A(e,t)}}function Yr(e,t,n){return{convert:function(e){var i;if(e===ce)return 10497;if(e===ue)return 33071;if(e===he)return 33648;if(e===de)return 9728;if(e===pe)return 9984;if(e===fe)return 9986;if(e===me)return 9729;if(e===ve)return 9985;if(e===ge)return 9987;if(e===ye)return 5121;if(e===Se)return 32819;if(e===Te)return 32820;if(e===_e)return 33635;if(e===be)return 5120;if(e===xe)return 5122;if(e===we)return 5123;if(e===Ae)return 5124;if(e===Me)return 5125;if(e===Ee)return 5126;if(e===Ce){if(n.isWebGL2)return 5131;if(null!==(i=t.get("OES_texture_half_float")))return i.HALF_FLOAT_OES}if(e===Le)return 6406;if(e===ke)return 6407;if(e===Ie)return 6408;if(e===Oe)return 6409;if(e===De)return 6410;if(e===Ne)return 6402;if(e===Ve)return 34041;if(e===Be)return 6403;if(e===M)return 32774;if(e===E)return 32778;if(e===C)return 32779;if(e===_)return 0;if(e===P)return 1;if(e===L)return 768;if(e===k)return 769;if(e===I)return 770;if(e===O)return 771;if(e===D)return 772;if(e===R)return 773;if(e===N)return 774;if(e===V)return 775;if(e===B)return 776;if((e===Fe||e===ze||e===Ue||e===je)&&null!==(i=t.get("WEBGL_compressed_texture_s3tc"))){if(e===Fe)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===ze)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ue)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===je)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===He||e===Ge||e===We||e===Qe)&&null!==(i=t.get("WEBGL_compressed_texture_pvrtc"))){if(e===He)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ge)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===We)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Qe)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Ye&&null!==(i=t.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((e===Xe||e===Ke||e===qe||e===Je||e===Ze||e===$e||e===et||e===tt||e===nt||e===it||e===rt||e===ot||e===at||e===st)&&null!==(i=t.get("WEBGL_compressed_texture_astc")))return e;if(e===S||e===T){if(n.isWebGL2){if(e===S)return 32775;if(e===T)return 32776}if(null!==(i=t.get("EXT_blend_minmax"))){if(e===S)return i.MIN_EXT;if(e===T)return i.MAX_EXT}}if(e===Pe){if(n.isWebGL2)return 34042;if(null!==(i=t.get("WEBGL_depth_texture")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Xr(){Cn.call(this),this.type="Group"}function Kr(){Cn.call(this),this.type="Camera",this.matrixWorldInverse=new tn,this.projectionMatrix=new tn,this.projectionMatrixInverse=new tn}function qr(e,t,n,i){Kr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Jr(e){qr.call(this),this.cameras=e||[]}jr.prototype=Object.create(Kn.prototype),jr.prototype.constructor=jr,jr.prototype.isMeshDepthMaterial=!0,jr.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Hr.prototype=Object.create(Kn.prototype),Hr.prototype.constructor=Hr,Hr.prototype.isMeshDistanceMaterial=!0,Hr.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Xr.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Xr,isGroup:!0}),Kr.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Kr,isCamera:!0,copy:function(e,t){return Cn.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Tt),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Cn.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),qr.prototype=Object.assign(Object.create(Kr.prototype),{constructor:qr,isPerspectiveCamera:!0,copy:function(e,t){return Kr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Et.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Et.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Et.RAD2DEG*Math.atan(Math.tan(.5*Et.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Et.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/a,t-=o.offsetY*n/s,i*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(r+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Cn.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Jr.prototype=Object.assign(Object.create(qr.prototype),{constructor:Jr,isArrayCamera:!0});var Zr,$r,eo,to,no,io,ro=new Tt,oo=new Tt;function ao(e,t,n){ro.setFromMatrixPosition(t.matrixWorld),oo.setFromMatrixPosition(n.matrixWorld);var i=ro.distanceTo(oo),r=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],d=a*u,p=a*h,f=i/(-u+h),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=a+f,g=s+f,y=d-m,b=p+(i-m),x=l*s/g*v,w=c*s/g*v;e.projectionMatrix.makePerspective(y,b,x,w,v,g)}function so(e){var t=this,n=null,i=null,r=null,o=[],a=new tn,s=new tn,l=1,c="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(i=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var u=new tn,h=new St,d=new Tt,p=new qr;p.bounds=new Qt(0,0,.5,1),p.layers.enable(1);var f=new qr;f.bounds=new Qt(.5,0,.5,1),f.layers.enable(2);var m=new Jr([p,f]);function v(){return null!==n&&!0===n.isPresenting}m.layers.enable(1),m.layers.enable(2);var g,y=new Ct;function b(){if(v()){var i=n.getEyeParameters("left"),r=i.renderWidth*l,o=i.renderHeight*l;g=e.getPixelRatio(),e.getSize(y),e.setDrawingBufferSize(2*r,o,1),A.start()}else t.enabled&&e.setDrawingBufferSize(y.width,y.height,g),A.stop()}var x=[];function w(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,i=0,r=t.length;n<r;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(i===e)return o;i++}}}this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new Xr).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),A.setContext(e)},this.setFramebufferScaleFactor=function(e){l=e},this.setFrameOfReferenceType=function(e){c=e},this.setPoseTarget=function(e){void 0!==e&&(r=e)},this.getCamera=function(e){var t="stage"===c?1.6:0;if(!1===v())return e.position.set(0,t,0),e.rotation.set(0,0,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(i),"stage"===c){var l=n.stageParameters;l?a.fromArray(l.sittingToStandingTransform):a.makeTranslation(0,t,0)}var g=i.pose,y=null!==r?r:e;y.matrix.copy(a),y.matrix.decompose(y.position,y.quaternion,y.scale),null!==g.orientation&&(h.fromArray(g.orientation),y.quaternion.multiply(h)),null!==g.position&&(h.setFromRotationMatrix(a),d.fromArray(g.position),d.applyQuaternion(h),y.position.add(d)),y.updateMatrixWorld(),p.near=e.near,f.near=e.near,p.far=e.far,f.far=e.far,p.matrixWorldInverse.fromArray(i.leftViewMatrix),f.matrixWorldInverse.fromArray(i.rightViewMatrix),s.getInverse(a),"stage"===c&&(p.matrixWorldInverse.multiply(s),f.matrixWorldInverse.multiply(s));var b=y.parent;null!==b&&(u.getInverse(b.matrixWorld),p.matrixWorldInverse.multiply(u),f.matrixWorldInverse.multiply(u)),p.matrixWorld.getInverse(p.matrixWorldInverse),f.matrixWorld.getInverse(f.matrixWorldInverse),p.projectionMatrix.fromArray(i.leftProjectionMatrix),f.projectionMatrix.fromArray(i.rightProjectionMatrix),ao(m,p,f);var A=n.getLayers();if(A.length){var M=A[0];null!==M.leftBounds&&4===M.leftBounds.length&&p.bounds.fromArray(M.leftBounds),null!==M.rightBounds&&4===M.rightBounds.length&&f.bounds.fromArray(M.rightBounds)}return function(){for(var e=0;e<o.length;e++){var t=o[e],n=w(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var i=n.pose;!1===i.hasPosition&&t.position.set(.2,-.6,-.05),null!==i.position&&t.position.fromArray(i.position),null!==i.orientation&&t.quaternion.fromArray(i.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(a),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var r="Daydream Controller"===n.id?0:1;x[e]!==n.buttons[r].pressed&&(x[e]=n.buttons[r].pressed,!0===x[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),m},this.getStandingMatrix=function(){return a},this.isPresenting=v;var A=new mn;this.setAnimationLoop=function(e){A.setAnimationLoop(e),v()&&A.start()},this.submitFrame=function(){v()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function lo(e){var t=e.context,n=null,i=null,r=1,o=null,a="stage",s=null,l=[],c=[];function u(){return null!==i&&null!==o}var h=new qr;h.layers.enable(1),h.viewport=new Qt;var d=new qr;d.layers.enable(2),d.viewport=new Qt;var p=new Jr([h,d]);function f(e){var t=l[c.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function m(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),y.stop()}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}p.layers.enable(1),p.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=l[e];return void 0===t&&((t=new Xr).matrixAutoUpdate=!1,t.visible=!1,l[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){r=e},this.setFrameOfReferenceType=function(e){a=e},this.setSession=function(n){null!==(i=n)&&(i.addEventListener("select",f),i.addEventListener("selectstart",f),i.addEventListener("selectend",f),i.addEventListener("end",m),i.baseLayer=new XRWebGLLayer(i,t,{framebufferScaleFactor:r}),i.requestFrameOfReference(a).then(function(t){o=t,e.setFramebuffer(i.baseLayer.framebuffer),y.setContext(i),y.start()}),c=i.getInputSources(),i.addEventListener("inputsourceschange",function(){c=i.getInputSources(),console.log(c);for(var e=0;e<l.length;e++){var t=l[e];t.userData.inputSource=c[e]}}))},this.getCamera=function(e){if(u()){var t=e.parent,n=p.cameras;v(p,t);for(var i=0;i<n.length;i++)v(n[i],t);e.matrixWorld.copy(p.matrixWorld);for(var r=e.children,i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);return ao(p,h,d),p}return e},this.isPresenting=u;var g=null,y=new mn;y.setAnimationLoop(function(e,t){if(null!==(s=t.getDevicePose(o)))for(var n=i.baseLayer,r=t.views,a=0;a<r.length;a++){var u=r[a],h=n.getViewport(u),d=s.getViewMatrix(u),f=p.cameras[a];f.matrix.fromArray(d).getInverse(f.matrix),f.projectionMatrix.fromArray(u.projectionMatrix),f.viewport.set(h.x,h.y,h.width,h.height),0===a&&p.matrix.copy(f.matrix)}for(var a=0;a<l.length;a++){var m=l[a],v=c[a];if(v){var y=t.getInputPose(v,o);if(null!==y){"targetRay"in y?m.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}g&&g(e)}),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new tn},this.submitFrame=function(){}}function co(e){console.log("THREE.WebGLRenderer",o);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,l=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",h=null,p=null;this.domElement=t,this.context=null,this.debug={checkShaderErrors:!1},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=J,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,v,g,y,b,x,w,A,M,E,C,S,T,_,P,L,k,I=this,O=!1,D=null,R=null,N=null,V=-1,B={geometry:null,program:null,wireframe:!1},F=null,z=null,U=new Qt,j=new Qt,H=null,G=t.width,W=t.height,Q=1,Y=new Qt(0,0,G,W),X=new Qt(0,0,G,W),K=!1,q=new en,Z=new yi,$=!1,ee=!1,te=new tn,ne=new Tt;function ie(){return null===R?Q:1}try{var re={alpha:i,depth:r,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u};if(t.addEventListener("webglcontextlost",le,!1),t.addEventListener("webglcontextrestored",ce,!1),null===(f=n||t.getContext("webgl",re)||t.getContext("experimental-webgl",re)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function oe(){m=new bi(f),(v=new gi(f,m,e)).isWebGL2||(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),k=new Yr(f,m,v),(g=new Wr(f,m,k,v)).scissor(j.copy(X).multiplyScalar(Q)),g.viewport(U.copy(Y).multiplyScalar(Q)),y=new Ai(f),b=new Ir,x=new Qr(f,m,g,b,v,k,y),w=new vn(f),A=new xi(f,w,y),M=new Ci(A,y),_=new Ei(f),E=new kr(I,m,v,x),C=new Nr,S=new Ur,T=new mi(I,g,M,l),P=new vi(f,m,y,v),L=new wi(f,m,y,v),y.programs=E.programs,I.context=f,I.capabilities=v,I.extensions=m,I.properties=b,I.renderLists=C,I.state=g,I.info=y}oe();var ae="undefined"!=typeof navigator&&"xr"in navigator?new lo(I):new so(I);this.vr=ae;var se=new Gr(I,M,v.maxTextureSize);function le(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,oe()}function ue(e){var t=e.target;t.removeEventListener("dispose",ue),function(e){he(e),b.remove(e)}(t)}function he(e){var t=b.get(e).program;e.program=void 0,void 0!==t&&E.releaseProgram(t)}this.shadowMap=se,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var e=m.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=m.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(e){void 0!==e&&(Q=e,this.setSize(G,W,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Ct),e.set(G,W)},this.setSize=function(e,n,i){ae.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=e,W=n,t.width=e*Q,t.height=n*Q,!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Ct),e.set(G*Q,W*Q)},this.setDrawingBufferSize=function(e,n,i){G=e,W=n,Q=i,t.width=e*i,t.height=n*i,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Qt),e.copy(U)},this.getViewport=function(e){return e.copy(Y)},this.setViewport=function(e,t,n,i){e.isVector4?Y.set(e.x,e.y,e.z,e.w):Y.set(e,t,n,i),g.viewport(U.copy(Y).multiplyScalar(Q))},this.getScissor=function(e){return e.copy(X)},this.setScissor=function(e,t,n,i){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,i),g.scissor(j.copy(X).multiplyScalar(Q))},this.getScissorTest=function(){return K},this.setScissorTest=function(e){g.setScissorTest(K=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,n){var i=0;(void 0===e||e)&&(i|=16384),(void 0===t||t)&&(i|=256),(void 0===n||n)&&(i|=1024),f.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",le,!1),t.removeEventListener("webglcontextrestored",ce,!1),C.dispose(),S.dispose(),b.dispose(),M.dispose(),ae.dispose(),pe.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var n=b.get(e);e.hasPositions&&!n.position&&(n.position=f.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),e.hasColors&&!n.color&&(n.color=f.createBuffer());var i=t.getAttributes();e.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,e.positionArray,35048),g.enableAttribute(i.position),f.vertexAttribPointer(i.position,3,5126,!1,0,0)),e.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,e.normalArray,35048),g.enableAttribute(i.normal),f.vertexAttribPointer(i.normal,3,5126,!1,0,0)),e.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,e.uvArray,35048),g.enableAttribute(i.uv),f.vertexAttribPointer(i.uv,2,5126,!1,0,0)),e.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,e.colorArray,35048),g.enableAttribute(i.color),f.vertexAttribPointer(i.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),f.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,o){var a=r.isMesh&&r.matrixWorld.determinant()<0;g.setMaterial(i,a);var s=ge(e,t,i,r),l=!1;B.geometry===n.id&&B.program===s.id&&B.wireframe===(!0===i.wireframe)||(B.geometry=n.id,B.program=s.id,B.wireframe=!0===i.wireframe,l=!0),r.morphTargetInfluences&&(_.update(r,n,i,s),l=!0);var c,u=n.index,h=n.attributes.position,d=1;!0===i.wireframe&&(u=A.getWireframeAttribute(n),d=2);var p=P;null!==u&&(c=w.get(u),(p=L).setIndex(c)),l&&(function(e,t,n){if(n&&n.isInstancedBufferGeometry&&!v.isWebGL2&&null===m.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{g.initAttributes();var i=n.attributes,r=t.getAttributes(),o=e.defaultAttributeValues;for(var a in r){var s=r[a];if(s>=0){var l=i[a];if(void 0!==l){var c=l.normalized,u=l.itemSize,h=w.get(l);if(void 0===h)continue;var d=h.buffer,p=h.type,y=h.bytesPerElement;if(l.isInterleavedBufferAttribute){var b=l.data,x=b.stride,A=l.offset;b&&b.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(s,b.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=b.meshPerAttribute*b.count)):g.enableAttribute(s),f.bindBuffer(34962,d),f.vertexAttribPointer(s,u,p,c,x*y,A*y)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(s),f.bindBuffer(34962,d),f.vertexAttribPointer(s,u,p,c,0,0)}else if(void 0!==o){var M=o[a];if(void 0!==M)switch(M.length){case 2:f.vertexAttrib2fv(s,M);break;case 3:f.vertexAttrib3fv(s,M);break;case 4:f.vertexAttrib4fv(s,M);break;default:f.vertexAttrib1fv(s,M)}}}}g.disableUnusedAttributes()}}(i,s,n),null!==u&&f.bindBuffer(34963,c.buffer));var y=1/0;null!==u?y=u.count:void 0!==h&&(y=h.count);var b=n.drawRange.start*d,x=n.drawRange.count*d,M=null!==o?o.start*d:0,E=null!==o?o.count*d:1/0,C=Math.max(b,M),S=Math.min(y,b+x,M+E)-1,T=Math.max(0,S-C+1);if(0!==T){if(r.isMesh)if(!0===i.wireframe)g.setLineWidth(i.wireframeLinewidth*ie()),p.setMode(1);else switch(r.drawMode){case ut:p.setMode(4);break;case ht:p.setMode(5);break;case dt:p.setMode(6)}else if(r.isLine){var k=i.linewidth;void 0===k&&(k=1),g.setLineWidth(k*ie()),r.isLineSegments?p.setMode(1):r.isLineLoop?p.setMode(2):p.setMode(3)}else r.isPoints?p.setMode(0):r.isSprite&&p.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&p.renderInstances(n,C,T):p.render(C,T)}},this.compile=function(e,t){(p=S.get(e,t)).init(),e.traverse(function(e){e.isLight&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))}),p.setupLights(t),e.traverse(function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)ve(t.material[n],e.fog,t);else ve(t.material,e.fog,t)})};var de=null,pe=new mn;function fe(e,t,n,i){for(var r=0,o=e.length;r<o;r++){var a=e[r],s=a.object,l=a.geometry,c=void 0===i?a.material:i,u=a.group;if(n.isArrayCamera){z=n;for(var h=n.cameras,d=0,f=h.length;d<f;d++){var m=h[d];if(s.layers.test(m.layers)){if("viewport"in m)g.viewport(U.copy(m.viewport));else{var v=m.bounds,y=v.x*G,b=v.y*W,x=v.z*G,w=v.w*W;g.viewport(U.set(y,b,x,w).multiplyScalar(Q))}p.setupLights(m),me(s,t,m,l,c,u)}}}else z=null,me(s,t,n,l,c,u)}}function me(e,t,n,i,r,o){if(e.onBeforeRender(I,t,n,i,r,o),p=S.get(t,z||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){g.setMaterial(r);var a=ge(n,t.fog,r,e);B.geometry=null,B.program=null,B.wireframe=!1,function(e,t){e.render(function(e){I.renderBufferImmediate(e,t)})}(e,a)}else I.renderBufferDirect(n,t.fog,i,r,e,o);e.onAfterRender(I,t,n,i,r,o),p=S.get(t,z||n)}function ve(e,t,n){var i=b.get(e),r=p.state.lights,o=p.state.shadowsArray,a=i.lightsHash,s=r.state.hash,l=E.getParameters(e,r.state,o,t,Z.numPlanes,Z.numIntersection,n),c=E.getProgramCode(e,l),u=i.program,h=!0;if(void 0===u)e.addEventListener("dispose",ue);else if(u.code!==c)he(e);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,h=!1;else{if(void 0!==l.shaderID)return;h=!1}if(h){if(l.shaderID){var d=fn[l.shaderID];i.shader={name:e.type,uniforms:rn(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else i.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(i.shader,I),c=E.getProgramCode(e,l),u=E.acquireProgram(e,i.shader,l,c),i.program=u,e.program=u}var f=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<I.maxMorphTargets;m++)f["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var m=0;m<I.maxMorphNormals;m++)f["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=i.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=Z.numPlanes,i.numIntersection=Z.numIntersection,v.clippingPlanes=Z.uniform),i.fog=t,void 0===a&&(i.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,e.lights&&(v.ambientLightColor.value=r.state.ambient,v.lightProbe.value=r.state.probe,v.directionalLights.value=r.state.directional,v.spotLights.value=r.state.spot,v.rectAreaLights.value=r.state.rectArea,v.pointLights.value=r.state.point,v.hemisphereLights.value=r.state.hemi,v.directionalShadowMap.value=r.state.directionalShadowMap,v.directionalShadowMatrix.value=r.state.directionalShadowMatrix,v.spotShadowMap.value=r.state.spotShadowMap,v.spotShadowMatrix.value=r.state.spotShadowMatrix,v.pointShadowMap.value=r.state.pointShadowMap,v.pointShadowMatrix.value=r.state.pointShadowMatrix);var g=i.program.getUniforms(),y=br.seqWithValue(g.seq,v);i.uniformsList=y}function ge(e,t,n,i){x.resetTextureUnits();var r=b.get(n),o=p.state.lights,a=r.lightsHash,s=o.state.hash;if($&&(ee||e!==F)){var l=e===F&&n.id===V;Z.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,r,l)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:(!n.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength)&&(void 0===r.numClippingPlanes||r.numClippingPlanes===Z.numPlanes&&r.numIntersection===Z.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(ve(n,t,i),n.needsUpdate=!1);var c,u,h=!1,m=!1,y=!1,w=r.program,A=w.getUniforms(),M=r.shader.uniforms;if(g.useProgram(w.program)&&(h=!0,m=!0,y=!0),n.id!==V&&(V=n.id,m=!0),h||F!==e){if(A.setValue(f,"projectionMatrix",e.projectionMatrix),v.logarithmicDepthBuffer&&A.setValue(f,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),F!==e&&(F=e,m=!0,y=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var E=A.map.cameraPosition;void 0!==E&&E.setValue(f,ne.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&A.setValue(f,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){A.setOptional(f,i,"bindMatrix"),A.setOptional(f,i,"bindMatrixInverse");var C=i.skeleton;if(C){var S=C.bones;if(v.floatVertexTextures){if(void 0===C.boneTexture){var T=Math.sqrt(4*S.length);T=Et.ceilPowerOfTwo(T),T=Math.max(T,4);var _=new Float32Array(T*T*4);_.set(C.boneMatrices);var P=new qt(_,T,T,Ie,Ee);P.needsUpdate=!0,C.boneMatrices=_,C.boneTexture=P,C.boneTextureSize=T}A.setValue(f,"boneTexture",C.boneTexture,x),A.setValue(f,"boneTextureSize",C.boneTextureSize)}else A.setOptional(f,C,"boneMatrices")}}return m&&(A.setValue(f,"toneMappingExposure",I.toneMappingExposure),A.setValue(f,"toneMappingWhitePoint",I.toneMappingWhitePoint),n.lights&&(u=y,(c=M).ambientLightColor.needsUpdate=u,c.lightProbe.needsUpdate=u,c.directionalLights.needsUpdate=u,c.pointLights.needsUpdate=u,c.spotLights.needsUpdate=u,c.rectAreaLights.needsUpdate=u,c.hemisphereLights.needsUpdate=u),t&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(M,t),n.isMeshBasicMaterial?be(M,n):n.isMeshLambertMaterial?(be(M,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(M,n)):n.isMeshPhongMaterial?(be(M,n),n.isMeshToonMaterial?function(e,t){xe(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(M,n):xe(M,n)):n.isMeshStandardMaterial?(be(M,n),n.isMeshPhysicalMaterial?function(e,t){we(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(M,n):we(M,n)):n.isMeshMatcapMaterial?(be(M,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===d&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===d&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(M,n)):n.isMeshDepthMaterial?(be(M,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(M,n)):n.isMeshDistanceMaterial?(be(M,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(M,n)):n.isMeshNormalMaterial?(be(M,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===d&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===d&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(M,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(M,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(M,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Q,e.scale.value=.5*W,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(M,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(M,n):n.isShadowMaterial&&(M.color.value.copy(n.color),M.opacity.value=n.opacity),void 0!==M.ltc_1&&(M.ltc_1.value=pn.LTC_1),void 0!==M.ltc_2&&(M.ltc_2.value=pn.LTC_2),br.upload(f,r.uniformsList,M,x)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(br.upload(f,r.uniformsList,M,x),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&A.setValue(f,"center",i.center),A.setValue(f,"modelViewMatrix",i.modelViewMatrix),A.setValue(f,"normalMatrix",i.normalMatrix),A.setValue(f,"modelMatrix",i.matrixWorld),w}function be(e,t){var n;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=b.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function xe(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===d&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===d&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function we(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===d&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===d&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}pe.setAnimationLoop(function(e){ae.isPresenting()||de&&de(e)}),"undefined"!=typeof window&&pe.setContext(window),this.setAnimationLoop=function(e){de=e,ae.setAnimationLoop(e),pe.start()},this.render=function(e,t){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),t&&t.isCamera){if(!O){B.geometry=null,B.program=null,B.wireframe=!1,V=-1,F=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ae.enabled&&(t=ae.getCamera(t)),(p=S.get(e,t)).init(),e.onBeforeRender(I,e,t,n||R),te.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),q.setFromMatrix(te),ee=this.localClippingEnabled,$=Z.init(this.clippingPlanes,ee,t),(h=C.get(e,t)).init(),function e(t,n,i,r){if(!1!==t.visible){var o=t.layers.test(n.layers);if(o)if(t.isGroup)i=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||q.intersectsSprite(t)){r&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te);var a=M.update(t),s=t.material;s.visible&&h.push(t,a,s,i,ne.z,null)}}else if(t.isImmediateRenderObject)r&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te),h.push(t,null,t.material,i,ne.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||q.intersectsObject(t))){r&&ne.setFromMatrixPosition(t.matrixWorld).applyMatrix4(te);var a=M.update(t),s=t.material;if(Array.isArray(s))for(var l=a.groups,c=0,u=l.length;c<u;c++){var d=l[c],f=s[d.materialIndex];f&&f.visible&&h.push(t,a,f,i,ne.z,d)}else s.visible&&h.push(t,a,s,i,ne.z,null)}for(var m=t.children,c=0,u=m.length;c<u;c++)e(m[c],n,i,r)}}(e,t,0,I.sortObjects),!0===I.sortObjects&&h.sort(),$&&Z.beginShadows();var r=p.state.shadowsArray;se.render(r,e,t),p.setupLights(t),$&&Z.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),T.render(h,e,t,i);var o=h.opaque,a=h.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&fe(o,e,t,s),a.length&&fe(a,e,t,s)}else o.length&&fe(o,e,t),a.length&&fe(a,e,t);e.onAfterRender(I,e,t),null!==R&&(x.updateRenderTargetMipmap(R),x.updateMultisampleRenderTarget(R)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),ae.enabled&&ae.submitFrame(),h=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){D=e},this.getRenderTarget=function(){return R},this.setRenderTarget=function(e,t,n){R=e,e&&void 0===b.get(e).__webglFramebuffer&&x.setupRenderTarget(e);var i=D,r=!1;if(e){var o=b.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(i=o[t||0],r=!0):i=e.isWebGLMultisampleRenderTarget?b.get(e).__webglMultisampledFramebuffer:o,U.copy(e.viewport),j.copy(e.scissor),H=e.scissorTest}else U.copy(Y).multiplyScalar(Q),j.copy(X).multiplyScalar(Q),H=K;if(N!==i&&(f.bindFramebuffer(36160,i),N=i),g.viewport(U),g.scissor(j),g.setScissorTest(H),r){var a=b.get(e.texture);f.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,i,r,o){if(e&&e.isWebGLRenderTarget){var a=b.get(e).__webglFramebuffer;if(a){var s=!1;a!==N&&(f.bindFramebuffer(36160,a),s=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==Ie&&k.convert(c)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===ye||k.convert(u)===f.getParameter(35738)||u===Ee&&(v.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||u===Ce&&(v.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&f.readPixels(t,n,i,r,k.convert(c),k.convert(u),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(36160,N)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var i=t.image.width,r=t.image.height,o=k.convert(t.format);x.setTexture2D(t,0),f.copyTexImage2D(3553,n||0,o,e.x,e.y,i,r,0)},this.copyTextureToTexture=function(e,t,n,i){var r=t.image.width,o=t.image.height,a=k.convert(n.format),s=k.convert(n.type);x.setTexture2D(n,0),t.isDataTexture?f.texSubImage2D(3553,i||0,e.x,e.y,r,o,a,s,t.image.data):f.texSubImage2D(3553,i||0,e.x,e.y,a,s,t.image)}}function uo(e,t){this.name="",this.color=new hn(e),this.density=void 0!==t?t:25e-5}function ho(e,t,n){this.name="",this.color=new hn(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function po(){Cn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function fo(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function mo(e,t,n,i){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function vo(e){Kn.call(this),this.type="SpriteMaterial",this.color=new hn(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function go(e){if(Cn.call(this),this.type="Sprite",void 0===Zr){Zr=new Hn;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new fo(t,5);Zr.setIndex([0,1,2,0,2,3]),Zr.addAttribute("position",new mo(n,3,0,!1)),Zr.addAttribute("uv",new mo(n,2,3,!1))}this.geometry=Zr,this.material=void 0!==e?e:new vo,this.center=new Ct(.5,.5)}function yo(){Cn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function bo(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),fi.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new tn,this.bindMatrixInverse=new tn}function xo(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new tn)}}function wo(){Cn.call(this),this.type="Bone"}function Ao(e){Kn.call(this),this.type="LineBasicMaterial",this.color=new hn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Mo(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Cn.call(this),this.type="Line",this.geometry=void 0!==e?e:new Hn,this.material=void 0!==t?t:new Ao({color:16777215*Math.random()})}function Eo(e,t){Mo.call(this,e,t),this.type="LineSegments"}function Co(e,t){Mo.call(this,e,t),this.type="LineLoop"}function So(e){Kn.call(this),this.type="PointsMaterial",this.color=new hn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function To(e,t){Cn.call(this),this.type="Points",this.geometry=void 0!==e?e:new Hn,this.material=void 0!==t?t:new So({color:16777215*Math.random()})}function _o(e,t,n,i,r,o,a,s,l){Wt.call(this,e,t,n,i,r,o,a,s,l),this.format=void 0!==a?a:ke,this.minFilter=void 0!==o?o:me,this.magFilter=void 0!==r?r:me,this.generateMipmaps=!1}function Po(e,t,n,i,r,o,a,s,l,c,u,h){Wt.call(this,null,o,a,s,l,c,i,r,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Lo(e,t,n,i,r,o,a,s,l){Wt.call(this,e,t,n,i,r,o,a,s,l),this.needsUpdate=!0}function ko(e,t,n,i,r,o,a,s,l,c){if((c=void 0!==c?c:Ne)!==Ne&&c!==Ve)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Ne&&(n=we),void 0===n&&c===Ve&&(n=Pe),Wt.call(this,null,i,r,o,a,s,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==a?a:de,this.minFilter=void 0!==s?s:de,this.flipY=!1,this.generateMipmaps=!1}function Io(e){Hn.call(this),this.type="WireframeGeometry";var t,n,i,r,o,a,s,l,c,u,h=[],d=[0,0],p={},f=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,i=m.length;t<i;t++){var v=m[t];for(n=0;n<3;n++)s=v[f[n]],l=v[f[(n+1)%3]],d[0]=Math.min(s,l),d[1]=Math.max(s,l),c=d[0]+","+d[1],void 0===p[c]&&(p[c]={index1:d[0],index2:d[1]})}for(c in p)a=p[c],u=e.vertices[a.index1],h.push(u.x,u.y,u.z),u=e.vertices[a.index2],h.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var g,y,b,x,w,A,M,E;if(u=new Tt,null!==e.index){for(g=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),r=0,o=b.length;r<o;++r)for(x=b[r],w=x.start,A=x.count,t=w,i=w+A;t<i;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),l=y.getX(t+(n+1)%3),d[0]=Math.min(s,l),d[1]=Math.max(s,l),c=d[0]+","+d[1],void 0===p[c]&&(p[c]={index1:d[0],index2:d[1]});for(c in p)a=p[c],u.fromBufferAttribute(g,a.index1),h.push(u.x,u.y,u.z),u.fromBufferAttribute(g,a.index2),h.push(u.x,u.y,u.z)}else for(g=e.attributes.position,t=0,i=g.count/3;t<i;t++)for(n=0;n<3;n++)M=3*t+n,u.fromBufferAttribute(g,M),h.push(u.x,u.y,u.z),E=3*t+(n+1)%3,u.fromBufferAttribute(g,E),h.push(u.x,u.y,u.z)}this.addAttribute("position",new Bn(h,3))}function Oo(e,t,n){Pn.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Do(e,t,n)),this.mergeVertices()}function Do(e,t,n){Hn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var i,r,o=[],a=[],s=[],l=[],c=new Tt,u=new Tt,h=new Tt,d=new Tt,p=new Tt;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=t+1;for(i=0;i<=n;i++){var m=i/n;for(r=0;r<=t;r++){var v=r/t;e(v,m,u),a.push(u.x,u.y,u.z),v-1e-5>=0?(e(v-1e-5,m,h),d.subVectors(u,h)):(e(v+1e-5,m,h),d.subVectors(h,u)),m-1e-5>=0?(e(v,m-1e-5,h),p.subVectors(u,h)):(e(v,m+1e-5,h),p.subVectors(h,u)),c.crossVectors(d,p).normalize(),s.push(c.x,c.y,c.z),l.push(v,m)}}for(i=0;i<n;i++)for(r=0;r<t;r++){var g=i*f+r,y=i*f+r+1,b=(i+1)*f+r+1,x=(i+1)*f+r;o.push(g,y,x),o.push(y,b,x)}this.setIndex(o),this.addAttribute("position",new Bn(a,3)),this.addAttribute("normal",new Bn(s,3)),this.addAttribute("uv",new Bn(l,2))}function Ro(e,t,n,i){Pn.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new No(e,t,n,i)),this.mergeVertices()}function No(e,t,n,i){Hn.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1;var r=[],o=[];function a(e,t,n,i){var r,o,a=Math.pow(2,i),l=[];for(r=0;r<=a;r++){l[r]=[];var c=e.clone().lerp(n,r/a),u=t.clone().lerp(n,r/a),h=a-r;for(o=0;o<=h;o++)l[r][o]=0===o&&r===a?c:c.clone().lerp(u,o/h)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var d=Math.floor(o/2);o%2==0?(s(l[r][d+1]),s(l[r+1][d]),s(l[r][d])):(s(l[r][d+1]),s(l[r+1][d+1]),s(l[r+1][d]))}}function s(e){r.push(e.x,e.y,e.z)}function l(t,n){var i=3*t;n.x=e[i+0],n.y=e[i+1],n.z=e[i+2]}function c(e,t,n,i){i<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=i/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new Tt,i=new Tt,r=new Tt,o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],i),l(t[o+2],r),a(n,i,r,e)}(i=i||0),function(e){for(var t=new Tt,n=0;n<r.length;n+=3)t.x=r[n+0],t.y=r[n+1],t.z=r[n+2],t.normalize().multiplyScalar(e),r[n+0]=t.x,r[n+1]=t.y,r[n+2]=t.z}(n),function(){for(var e=new Tt,t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];var n=u(e)/2/Math.PI+.5,i=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-i)}var a;(function(){for(var e=new Tt,t=new Tt,n=new Tt,i=new Tt,a=new Ct,s=new Ct,l=new Ct,h=0,d=0;h<r.length;h+=9,d+=6){e.set(r[h+0],r[h+1],r[h+2]),t.set(r[h+3],r[h+4],r[h+5]),n.set(r[h+6],r[h+7],r[h+8]),a.set(o[d+0],o[d+1]),s.set(o[d+2],o[d+3]),l.set(o[d+4],o[d+5]),i.copy(e).add(t).add(n).divideScalar(3);var p=u(i);c(a,d+0,e,p),c(s,d+2,t,p),c(l,d+4,n,p)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],i=o[e+4],r=Math.max(t,n,i),a=Math.min(t,n,i);r>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),i<.2&&(o[e+4]+=1))}}()}(),this.addAttribute("position",new Bn(r,3)),this.addAttribute("normal",new Bn(r.slice(),3)),this.addAttribute("uv",new Bn(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Vo(e,t){Pn.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Bo(e,t)),this.mergeVertices()}function Bo(e,t){No.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Fo(e,t){Pn.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new zo(e,t)),this.mergeVertices()}function zo(e,t){No.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Uo(e,t){Pn.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new jo(e,t)),this.mergeVertices()}function jo(e,t){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];No.call(this,i,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ho(e,t){Pn.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Go(e,t)),this.mergeVertices()}function Go(e,t){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i];No.call(this,r,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Wo(e,t,n,i,r,o){Pn.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Qo(e,t,n,i,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Qo(e,t,n,i,r){Hn.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},t=t||64,n=n||1,i=i||8,r=r||!1;var o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,l=new Tt,c=new Tt,u=new Ct,h=new Tt,d=[],p=[],f=[],m=[];function v(r){h=e.getPointAt(r/t,h);var a=o.normals[r],u=o.binormals[r];for(s=0;s<=i;s++){var f=s/i*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);c.x=v*a.x+m*u.x,c.y=v*a.y+m*u.y,c.z=v*a.z+m*u.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=h.x+n*c.x,l.y=h.y+n*c.y,l.z=h.z+n*c.z,d.push(l.x,l.y,l.z)}}!function(){for(a=0;a<t;a++)v(a);v(!1===r?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=i;s++)u.x=a/t,u.y=s/i,f.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=i;a++){var e=(i+1)*(s-1)+(a-1),n=(i+1)*s+(a-1),r=(i+1)*s+a,o=(i+1)*(s-1)+a;m.push(e,n,o),m.push(n,r,o)}}()}(),this.setIndex(m),this.addAttribute("position",new Bn(d,3)),this.addAttribute("normal",new Bn(p,3)),this.addAttribute("uv",new Bn(f,2))}function Yo(e,t,n,i,r,o,a){Pn.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Xo(e,t,n,i,r,o)),this.mergeVertices()}function Xo(e,t,n,i,r,o){Hn.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,o=o||3;var a,s,l=[],c=[],u=[],h=[],d=new Tt,p=new Tt,f=new Tt,m=new Tt,v=new Tt,g=new Tt,y=new Tt;for(a=0;a<=n;++a){var b=a/n*r*Math.PI*2;for(T(b,r,o,e,f),T(b+.01,r,o,e,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=i;++s){var x=s/i*Math.PI*2,w=-t*Math.cos(x),A=t*Math.sin(x);d.x=f.x+(w*y.x+A*v.x),d.y=f.y+(w*y.y+A*v.y),d.z=f.z+(w*y.z+A*v.z),c.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),u.push(p.x,p.y,p.z),h.push(a/n),h.push(s/i)}}for(s=1;s<=n;s++)for(a=1;a<=i;a++){var M=(i+1)*(s-1)+(a-1),E=(i+1)*s+(a-1),C=(i+1)*s+a,S=(i+1)*(s-1)+a;l.push(M,E,S),l.push(E,C,S)}function T(e,t,n,i,r){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*a*.5,r.z=i*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new Bn(c,3)),this.addAttribute("normal",new Bn(u,3)),this.addAttribute("uv",new Bn(h,2))}function Ko(e,t,n,i,r){Pn.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new qo(e,t,n,i,r)),this.mergeVertices()}function qo(e,t,n,i,r){Hn.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var o,a,s=[],l=[],c=[],u=[],h=new Tt,d=new Tt,p=new Tt;for(o=0;o<=n;o++)for(a=0;a<=i;a++){var f=a/i*r,m=o/n*Math.PI*2;d.x=(e+t*Math.cos(m))*Math.cos(f),d.y=(e+t*Math.cos(m))*Math.sin(f),d.z=t*Math.sin(m),l.push(d.x,d.y,d.z),h.x=e*Math.cos(f),h.y=e*Math.sin(f),p.subVectors(d,h).normalize(),c.push(p.x,p.y,p.z),u.push(a/i),u.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=i;a++){var v=(i+1)*o+a-1,g=(i+1)*(o-1)+a-1,y=(i+1)*(o-1)+a,b=(i+1)*o+a;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute("position",new Bn(l,3)),this.addAttribute("normal",new Bn(c,3)),this.addAttribute("uv",new Bn(u,2))}Object.assign(uo.prototype,{isFogExp2:!0,clone:function(){return new uo(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(ho.prototype,{isFog:!0,clone:function(){return new ho(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),po.prototype=Object.assign(Object.create(Cn.prototype),{constructor:po,isScene:!0,copy:function(e,t){return Cn.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Cn.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(fo.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(fo.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(mo.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(mo.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this}}),vo.prototype=Object.create(Kn.prototype),vo.prototype.constructor=vo,vo.prototype.isSpriteMaterial=!0,vo.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},go.prototype=Object.assign(Object.create(Cn.prototype),{constructor:go,isSprite:!0,raycast:function(){var e=new Tt,t=new Tt,n=new Tt,i=new Ct,r=new Ct,o=new tn,a=new Tt,s=new Tt,l=new Tt,c=new Ct,u=new Ct,h=new Ct;function d(e,t,n,a,s,l){i.subVectors(e,n).addScalar(.5).multiply(a),void 0!==s?(r.x=l*i.x-s*i.y,r.y=s*i.x+l*i.y):r.copy(i),e.copy(t),e.x+=r.x,e.y+=r.y,e.applyMatrix4(o)}return function(i,r){t.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var p,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),p=Math.sin(m));var v=this.center;d(a.set(-.5,-.5,0),n,v,t,p,f),d(s.set(.5,-.5,0),n,v,t,p,f),d(l.set(.5,.5,0),n,v,t,p,f),c.set(0,0),u.set(1,0),h.set(1,1);var g=i.ray.intersectTriangle(a,s,l,!1,e);if(null!==g||(d(s.set(-.5,.5,0),n,v,t,p,f),u.set(0,1),null!==(g=i.ray.intersectTriangle(a,l,s,!1,e)))){var y=i.ray.origin.distanceTo(e);y<i.near||y>i.far||r.push({distance:y,point:e.clone(),uv:di.getUV(e,a,s,l,c,u,h,new Ct),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Cn.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),yo.prototype=Object.assign(Object.create(Cn.prototype),{constructor:yo,isLOD:!0,copy:function(e){Cn.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,i=t.length;n<i;n++){var r=t[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){for(var t=this.levels,n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object},raycast:(io=new Tt,function(e,t){io.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(io);this.getObjectForDistance(n).raycast(e,t)}),update:function(){var e=new Tt,t=new Tt;return function(n){var i=this.levels;if(i.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var r=e.distanceTo(t);i[0].object.visible=!0;for(var o=1,a=i.length;o<a&&r>=i[o].distance;o++)i[o-1].object.visible=!1,i[o].object.visible=!0;for(;o<a;o++)i[o].object.visible=!1}}}(),toJSON:function(e){var t=Cn.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),bo.prototype=Object.assign(Object.create(fi.prototype),{constructor:bo,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Qt,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){fi.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(xo.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new tn;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(to=new tn,no=new tn,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,o=e.length;r<o;r++){var a=e[r]?e[r].matrixWorld:no;to.multiplyMatrices(a,t[r]),to.toArray(n,16*r)}void 0!==i&&(i.needsUpdate=!0)}),clone:function(){return new xo(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}}),wo.prototype=Object.assign(Object.create(Cn.prototype),{constructor:wo,isBone:!0}),Ao.prototype=Object.create(Kn.prototype),Ao.prototype.constructor=Ao,Ao.prototype.isLineBasicMaterial=!0,Ao.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Mo.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Mo,isLine:!0,computeLineDistances:($r=new Tt,eo=new Tt,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)$r.fromBufferAttribute(t,i-1),eo.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=$r.distanceTo(eo);e.addAttribute("lineDistance",new Bn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices,n=e.lineDistances;n[0]=0;for(var i=1,r=o.length;i<r;i++)n[i]=n[i-1],n[i]+=o[i-1].distanceTo(o[i])}return this}),raycast:function(){var e=new tn,t=new hi,n=new Zt;return function(i,r){var o=i.linePrecision,a=this.geometry,s=this.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=o,!1!==i.ray.intersectsSphere(n)){e.getInverse(s),t.copy(i.ray).applyMatrix4(e);var l=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=new Tt,h=new Tt,d=new Tt,p=new Tt,f=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var m=a.index,v=a.attributes,g=v.position.array;if(null!==m)for(var y=m.array,b=0,x=y.length-1;b<x;b+=f){var w=y[b],A=y[b+1];u.fromArray(g,3*w),h.fromArray(g,3*A);var M=t.distanceSqToSegment(u,h,p,d);if(!(M>c)){p.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(p);E<i.near||E>i.far||r.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,x=g.length/3-1;b<x;b+=f){u.fromArray(g,3*b),h.fromArray(g,3*b+3);var M=t.distanceSqToSegment(u,h,p,d);if(!(M>c)){p.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(p);E<i.near||E>i.far||r.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(a.isGeometry)for(var C=a.vertices,S=C.length,b=0;b<S-1;b+=f){var M=t.distanceSqToSegment(C[b],C[b+1],p,d);if(!(M>c)){p.applyMatrix4(this.matrixWorld);var E=i.ray.origin.distanceTo(p);E<i.near||E>i.far||r.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Eo.prototype=Object.assign(Object.create(Mo.prototype),{constructor:Eo,isLineSegments:!0,computeLineDistances:function(){var e=new Tt,t=new Tt;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[],o=0,a=i.count;o<a;o+=2)e.fromBufferAttribute(i,o),t.fromBufferAttribute(i,o+1),r[o]=0===o?0:r[o-1],r[o+1]=r[o]+e.distanceTo(t);n.addAttribute("lineDistance",new Bn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry)for(var s=n.vertices,r=n.lineDistances,o=0,a=s.length;o<a;o+=2)e.copy(s[o]),t.copy(s[o+1]),r[o]=0===o?0:r[o-1],r[o+1]=r[o]+e.distanceTo(t);return this}}()}),Co.prototype=Object.assign(Object.create(Mo.prototype),{constructor:Co,isLineLoop:!0}),So.prototype=Object.create(Kn.prototype),So.prototype.constructor=So,So.prototype.isPointsMaterial=!0,So.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},To.prototype=Object.assign(Object.create(Cn.prototype),{constructor:To,isPoints:!0,raycast:function(){var e=new tn,t=new hi,n=new Zt;return function(i,r){var o=this,a=this.geometry,s=this.matrixWorld,l=i.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=l,!1!==i.ray.intersectsSphere(n)){e.getInverse(s),t.copy(i.ray).applyMatrix4(e);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,h=new Tt,d=new Tt;if(a.isBufferGeometry){var p=a.index,f=a.attributes,m=f.position.array;if(null!==p)for(var v=p.array,g=0,y=v.length;g<y;g++){var b=v[g];h.fromArray(m,3*b),A(h,b)}else for(var g=0,x=m.length/3;g<x;g++)h.fromArray(m,3*g),A(h,g)}else for(var w=a.vertices,g=0,x=w.length;g<x;g++)A(w[g],g)}function A(e,n){var a=t.distanceSqToPoint(e);if(a<u){t.closestPointToPoint(e,d),d.applyMatrix4(s);var l=i.ray.origin.distanceTo(d);if(l<i.near||l>i.far)return;r.push({distance:l,distanceToRay:Math.sqrt(a),point:d.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),_o.prototype=Object.assign(Object.create(Wt.prototype),{constructor:_o,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Po.prototype=Object.create(Wt.prototype),Po.prototype.constructor=Po,Po.prototype.isCompressedTexture=!0,Lo.prototype=Object.create(Wt.prototype),Lo.prototype.constructor=Lo,Lo.prototype.isCanvasTexture=!0,ko.prototype=Object.create(Wt.prototype),ko.prototype.constructor=ko,ko.prototype.isDepthTexture=!0,Io.prototype=Object.create(Hn.prototype),Io.prototype.constructor=Io,Oo.prototype=Object.create(Pn.prototype),Oo.prototype.constructor=Oo,Do.prototype=Object.create(Hn.prototype),Do.prototype.constructor=Do,Ro.prototype=Object.create(Pn.prototype),Ro.prototype.constructor=Ro,No.prototype=Object.create(Hn.prototype),No.prototype.constructor=No,Vo.prototype=Object.create(Pn.prototype),Vo.prototype.constructor=Vo,Bo.prototype=Object.create(No.prototype),Bo.prototype.constructor=Bo,Fo.prototype=Object.create(Pn.prototype),Fo.prototype.constructor=Fo,zo.prototype=Object.create(No.prototype),zo.prototype.constructor=zo,Uo.prototype=Object.create(Pn.prototype),Uo.prototype.constructor=Uo,jo.prototype=Object.create(No.prototype),jo.prototype.constructor=jo,Ho.prototype=Object.create(Pn.prototype),Ho.prototype.constructor=Ho,Go.prototype=Object.create(No.prototype),Go.prototype.constructor=Go,Wo.prototype=Object.create(Pn.prototype),Wo.prototype.constructor=Wo,Qo.prototype=Object.create(Hn.prototype),Qo.prototype.constructor=Qo,Qo.prototype.toJSON=function(){var e=Hn.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Yo.prototype=Object.create(Pn.prototype),Yo.prototype.constructor=Yo,Xo.prototype=Object.create(Hn.prototype),Xo.prototype.constructor=Xo,Ko.prototype=Object.create(Pn.prototype),Ko.prototype.constructor=Ko,qo.prototype=Object.create(Hn.prototype),qo.prototype.constructor=qo;var Jo={triangulate:function(e,t,n){n=n||2;var i,r,o,a,s,l,c,u=t&&t.length,h=u?t[0]*n:e.length,d=Zo(e,0,h,n,!0),p=[];if(!d)return p;if(u&&(d=function(e,t,n,i){var r,o,a,s,l,c=[];for(r=0,o=t.length;r<o;r++)a=t[r]*i,s=r<o-1?t[r+1]*i:e.length,(l=Zo(e,a,s,i,!1))===l.next&&(l.steiner=!0),c.push(la(l));for(c.sort(oa),r=0;r<c.length;r++)aa(c[r],n),n=$o(n,n.next);return n}(e,t,d,n)),e.length>80*n){i=o=e[0],r=a=e[1];for(var f=n;f<h;f+=n)s=e[f],l=e[f+1],s<i&&(i=s),l<r&&(r=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-i,a-r))?1/c:0}return ea(d,p,n,i,r,c),p}};function Zo(e,t,n,i,r){var o,a;if(r===function(e,t,n,i){for(var r=0,o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}(e,t,n,i)>0)for(o=t;o<n;o+=i)a=va(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=va(o,e[o],e[o+1],a);return a&&da(a,a.next)&&(ga(a),a=a.next),a}function $o(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!da(i,i.next)&&0!==ha(i.prev,i,i.next))i=i.next;else{if(ga(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function ea(e,t,n,i,r,o,a){if(e){!a&&o&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=sa(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?na(e,i,r,o):ta(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),ga(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?ea(e=ia(e,t,n),t,n,i,r,o,2):2===a&&ra(e,t,n,i,r,o):ea($o(e),t,n,i,r,o,1);break}}}function ta(e){var t=e.prev,n=e,i=e.next;if(ha(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(ca(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&ha(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function na(e,t,n,i){var r=e.prev,o=e,a=e.next;if(ha(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,c=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,u=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,h=sa(s,l,t,n,i),d=sa(c,u,t,n,i),p=e.nextZ;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&ca(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ha(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=e.prevZ;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&ca(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ha(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function ia(e,t,n){var i=e;do{var r=i.prev,o=i.next.next;!da(r,o)&&pa(r,i,i.next,o)&&fa(r,o)&&fa(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),ga(i),ga(i.next),i=e=o),i=i.next}while(i!==e);return i}function ra(e,t,n,i,r,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ua(a,s)){var l=ma(a,s);return a=$o(a,a.next),l=$o(l,l.next),ea(a,t,n,i,r,o),void ea(l,t,n,i,r,o)}s=s.next}a=a.next}while(a!==e)}function oa(e,t){return e.x-t.x}function aa(e,t){if(t=function(e,t){var n,i=t,r=e.x,o=e.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===a)return n.prev;var l,c=n,u=n.x,h=n.y,d=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&r!==i.x&&ca(o<h?r:a,o,u,h,o<h?a:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&fa(i,e)&&(n=i,d=l),i=i.next;return n}(e,t)){var n=ma(t,e);$o(n,n.next)}}function sa(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function la(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function ca(e,t,n,i,r,o,a,s){return(r-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(i-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function ua(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&pa(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&fa(e,t)&&fa(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}function ha(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function da(e,t){return e.x===t.x&&e.y===t.y}function pa(e,t,n,i){return!!(da(e,t)&&da(n,i)||da(e,i)&&da(n,t))||ha(e,t,n)>0!=ha(e,t,i)>0&&ha(n,i,e)>0!=ha(n,i,t)>0}function fa(e,t){return ha(e.prev,e,e.next)<0?ha(e,t,e.next)>=0&&ha(e,e.prev,t)>=0:ha(e,t,e.prev)<0||ha(e,e.next,t)<0}function ma(e,t){var n=new ya(e.i,e.x,e.y),i=new ya(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function va(e,t,n,i){var r=new ya(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ga(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ya(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ba={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return ba.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];xa(e),wa(n,e);var o=e.length;t.forEach(xa);for(var a=0;a<t.length;a++)i.push(o),o+=t[a].length,wa(n,t[a]);for(var s=Jo.triangulate(n,i),a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function xa(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function wa(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Aa(e,t){Pn.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Ma(e,t)),this.mergeVertices()}function Ma(e,t){Hn.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,i=[],r=[],o=0,a=e.length;o<a;o++){var s=e[o];l(s)}function l(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3,f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Ea;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var v,g,y,b,x,w,A,M,E=!1;f&&(v=f.getSpacedPoints(s),E=!0,c=!1,g=f.computeFrenetFrames(s,!1),y=new Tt,b=new Tt,x=new Tt),c||(p=0,u=0,h=0,d=0);var C=e.extractPoints(a),S=C.shape,T=C.holes,_=!ba.isClockWise(S);if(_)for(S=S.reverse(),A=0,M=T.length;A<M;A++)w=T[A],ba.isClockWise(w)&&(T[A]=w.reverse());var P=ba.triangulateShape(S,T),L=S;for(A=0,M=T.length;A<M;A++)w=T[A],S=S.concat(w);function k(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var I,O,D,R,N,V,B=S.length,F=P.length;function z(e,t,n){var i,r,o,a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+s*s,h=a*c-s*l;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(u),p=Math.sqrt(l*l+c*c),f=t.x-s/d,m=t.y+a/d,v=n.x-c/p,g=n.y+l/p,y=((v-f)*c-(g-m)*l)/(a*c-s*l);i=f+a*y-e.x,r=m+s*y-e.y;var b=i*i+r*r;if(b<=2)return new Ct(i,r);o=Math.sqrt(b/2)}else{var x=!1;a>Number.EPSILON?l>Number.EPSILON&&(x=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(c)&&(x=!0),x?(i=-s,r=a,o=Math.sqrt(u)):(i=a,r=s,o=Math.sqrt(u/2))}return new Ct(i/o,r/o)}for(var U=[],j=0,H=L.length,G=H-1,W=j+1;j<H;j++,G++,W++)G===H&&(G=0),W===H&&(W=0),U[j]=z(L[j],L[G],L[W]);var Q,Y,X=[],K=U.concat();for(A=0,M=T.length;A<M;A++){for(w=T[A],Q=[],j=0,H=w.length,G=H-1,W=j+1;j<H;j++,G++,W++)G===H&&(G=0),W===H&&(W=0),Q[j]=z(w[j],w[G],w[W]);X.push(Q),K=K.concat(Q)}for(I=0;I<p;I++){for(D=I/p,R=u*Math.cos(D*Math.PI/2),O=h*Math.sin(D*Math.PI/2)+d,j=0,H=L.length;j<H;j++)J((N=k(L[j],U[j],O)).x,N.y,-R);for(A=0,M=T.length;A<M;A++)for(w=T[A],Q=X[A],j=0,H=w.length;j<H;j++)J((N=k(w[j],Q[j],O)).x,N.y,-R)}for(O=h+d,j=0;j<B;j++)N=c?k(S[j],K[j],O):S[j],E?(b.copy(g.normals[0]).multiplyScalar(N.x),y.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(v[0]).add(b).add(y),J(x.x,x.y,x.z)):J(N.x,N.y,0);for(Y=1;Y<=s;Y++)for(j=0;j<B;j++)N=c?k(S[j],K[j],O):S[j],E?(b.copy(g.normals[Y]).multiplyScalar(N.x),y.copy(g.binormals[Y]).multiplyScalar(N.y),x.copy(v[Y]).add(b).add(y),J(x.x,x.y,x.z)):J(N.x,N.y,l/s*Y);for(I=p-1;I>=0;I--){for(D=I/p,R=u*Math.cos(D*Math.PI/2),O=h*Math.sin(D*Math.PI/2)+d,j=0,H=L.length;j<H;j++)J((N=k(L[j],U[j],O)).x,N.y,l+R);for(A=0,M=T.length;A<M;A++)for(w=T[A],Q=X[A],j=0,H=w.length;j<H;j++)N=k(w[j],Q[j],O),E?J(N.x,N.y+v[s-1].y,v[s-1].x+R):J(N.x,N.y,l+R)}function q(e,t){var n,i;for(j=e.length;--j>=0;){n=j,(i=j-1)<0&&(i=e.length-1);var r=0,o=s+2*p;for(r=0;r<o;r++){var a=B*r,l=B*(r+1),c=t+n+a,u=t+i+a,h=t+i+l,d=t+n+l;$(c,u,h,d)}}}function J(e,t,n){o.push(e),o.push(t),o.push(n)}function Z(e,t,r){ee(e),ee(t),ee(r);var o=i.length/3,a=m.generateTopUV(n,i,o-3,o-2,o-1);te(a[0]),te(a[1]),te(a[2])}function $(e,t,r,o){ee(e),ee(t),ee(o),ee(t),ee(r),ee(o);var a=i.length/3,s=m.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);te(s[0]),te(s[1]),te(s[3]),te(s[1]),te(s[2]),te(s[3])}function ee(e){i.push(o[3*e+0]),i.push(o[3*e+1]),i.push(o[3*e+2])}function te(e){r.push(e.x),r.push(e.y)}!function(){var e=i.length/3;if(c){var t=0,r=B*t;for(j=0;j<F;j++)Z((V=P[j])[2]+r,V[1]+r,V[0]+r);for(r=B*(t=s+2*p),j=0;j<F;j++)Z((V=P[j])[0]+r,V[1]+r,V[2]+r)}else{for(j=0;j<F;j++)Z((V=P[j])[2],V[1],V[0]);for(j=0;j<F;j++)Z((V=P[j])[0]+B*s,V[1]+B*s,V[2]+B*s)}n.addGroup(e,i.length/3-e,0)}(),function(){var e=i.length/3,t=0;for(q(L,t),t+=L.length,A=0,M=T.length;A<M;A++)q(w=T[A],t),t+=w.length;n.addGroup(e,i.length/3-e,1)}()}this.addAttribute("position",new Bn(i,3)),this.addAttribute("uv",new Bn(r,2)),this.computeVertexNormals()}Aa.prototype=Object.create(Pn.prototype),Aa.prototype.constructor=Aa,Aa.prototype.toJSON=function(){var e=Pn.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return Ca(t,n,e)},Ma.prototype=Object.create(Hn.prototype),Ma.prototype.constructor=Ma,Ma.prototype.toJSON=function(){var e=Hn.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return Ca(t,n,e)};var Ea={generateTopUV:function(e,t,n,i,r){var o=t[3*n],a=t[3*n+1],s=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new Ct(o,a),new Ct(s,l),new Ct(c,u)]},generateSideWallUV:function(e,t,n,i,r,o){var a=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],h=t[3*i+2],d=t[3*r],p=t[3*r+1],f=t[3*r+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-u)<.01?[new Ct(a,1-l),new Ct(c,1-h),new Ct(d,1-f),new Ct(m,1-g)]:[new Ct(s,1-l),new Ct(u,1-h),new Ct(p,1-f),new Ct(v,1-g)]}};function Ca(e,t,n){if(n.shapes=[],Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Sa(e,t){Pn.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Ta(e,t)),this.mergeVertices()}function Ta(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Pn;var i=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Ma.call(this,i,t),this.type="TextBufferGeometry"}function _a(e,t,n,i,r,o,a){Pn.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Pa(e,t,n,i,r,o,a)),this.mergeVertices()}function Pa(e,t,n,i,r,o,a){Hn.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,l,c=o+a,u=0,h=[],d=new Tt,p=new Tt,f=[],m=[],v=[],g=[];for(l=0;l<=n;l++){var y=[],b=l/n,x=0==l?.5/t:l==n?-.5/t:0;for(s=0;s<=t;s++){var w=s/t;d.x=-e*Math.cos(i+w*r)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(i+w*r)*Math.sin(o+b*a),m.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),g.push(w+x,1-b),y.push(u++)}h.push(y)}for(l=0;l<n;l++)for(s=0;s<t;s++){var A=h[l][s+1],M=h[l][s],E=h[l+1][s],C=h[l+1][s+1];(0!==l||o>0)&&f.push(A,M,C),(l!==n-1||c<Math.PI)&&f.push(M,E,C)}this.setIndex(f),this.addAttribute("position",new Bn(m,3)),this.addAttribute("normal",new Bn(v,3)),this.addAttribute("uv",new Bn(g,2))}function La(e,t,n,i,r,o){Pn.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new ka(e,t,n,i,r,o)),this.mergeVertices()}function ka(e,t,n,i,r,o){Hn.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},e=e||.5,t=t||1,r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var a,s,l,c=[],u=[],h=[],d=[],p=e,f=(t-e)/i,m=new Tt,v=new Ct;for(s=0;s<=i;s++){for(l=0;l<=n;l++)a=r+l/n*o,m.x=p*Math.cos(a),m.y=p*Math.sin(a),u.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y);p+=f}for(s=0;s<i;s++){var g=s*(n+1);for(l=0;l<n;l++){var y=a=l+g,b=a+n+1,x=a+n+2,w=a+1;c.push(y,b,w),c.push(b,x,w)}}this.setIndex(c),this.addAttribute("position",new Bn(u,3)),this.addAttribute("normal",new Bn(h,3)),this.addAttribute("uv",new Bn(d,2))}function Ia(e,t,n,i){Pn.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new Oa(e,t,n,i)),this.mergeVertices()}function Oa(e,t,n,i){Hn.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||2*Math.PI,i=Et.clamp(i,0,2*Math.PI);var r,o,a,s=[],l=[],c=[],u=1/t,h=new Tt,d=new Ct;for(o=0;o<=t;o++){var p=n+o*u*i,f=Math.sin(p),m=Math.cos(p);for(a=0;a<=e.length-1;a++)h.x=e[a].x*f,h.y=e[a].y,h.z=e[a].x*m,l.push(h.x,h.y,h.z),d.x=o/t,d.y=a/(e.length-1),c.push(d.x,d.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var v=r=a+o*e.length,g=r+e.length,y=r+e.length+1,b=r+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute("position",new Bn(l,3)),this.addAttribute("uv",new Bn(c,2)),this.computeVertexNormals(),i===2*Math.PI){var x=this.attributes.normal.array,w=new Tt,A=new Tt,M=new Tt;for(r=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)w.x=x[a+0],w.y=x[a+1],w.z=x[a+2],A.x=x[r+a+0],A.y=x[r+a+1],A.z=x[r+a+2],M.addVectors(w,A).normalize(),x[a+0]=x[r+a+0]=M.x,x[a+1]=x[r+a+1]=M.y,x[a+2]=x[r+a+2]=M.z}}function Da(e,t){Pn.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Ra(e,t)),this.mergeVertices()}function Ra(e,t){Hn.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],i=[],r=[],o=[],a=0,s=0;if(!1===Array.isArray(e))c(e);else for(var l=0;l<e.length;l++)c(e[l]),this.addGroup(a,s,l),a+=s,s=0;function c(e){var a,l,c,u=i.length/3,h=e.extractPoints(t),d=h.shape,p=h.holes;for(!1===ba.isClockWise(d)&&(d=d.reverse()),a=0,l=p.length;a<l;a++)c=p[a],!0===ba.isClockWise(c)&&(p[a]=c.reverse());var f=ba.triangulateShape(d,p);for(a=0,l=p.length;a<l;a++)c=p[a],d=d.concat(c);for(a=0,l=d.length;a<l;a++){var m=d[a];i.push(m.x,m.y,0),r.push(0,0,1),o.push(m.x,m.y)}for(a=0,l=f.length;a<l;a++){var v=f[a],g=v[0]+u,y=v[1]+u,b=v[2]+u;n.push(g,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new Bn(i,3)),this.addAttribute("normal",new Bn(r,3)),this.addAttribute("uv",new Bn(o,2))}function Na(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,i=e.length;n<i;n++){var r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function Va(e,t){Hn.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,i,r,o,a=[],s=Math.cos(Et.DEG2RAD*t),l=[0,0],c={},u=["a","b","c"];e.isBufferGeometry?(o=new Pn).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,d=o.faces,p=0,f=d.length;p<f;p++)for(var m=d[p],v=0;v<3;v++)n=m[u[v]],i=m[u[(v+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),r=l[0]+","+l[1],void 0===c[r]?c[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:c[r].face2=p;for(r in c){var g=c[r];if(void 0===g.face2||d[g.face1].normal.dot(d[g.face2].normal)<=s){var y=h[g.index1];a.push(y.x,y.y,y.z),y=h[g.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Bn(a,3))}function Ba(e,t,n,i,r,o,a,s){Pn.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Fa(e,t,n,i,r,o,a,s)),this.mergeVertices()}function Fa(e,t,n,i,r,o,a,s){Hn.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],u=[],h=[],d=[],p=0,f=[],m=n/2,v=0;function g(n){var r,o,f,g=new Ct,y=new Tt,b=0,x=!0===n?e:t,w=!0===n?1:-1;for(o=p,r=1;r<=i;r++)u.push(0,m*w,0),h.push(0,w,0),d.push(.5,.5),p++;for(f=p,r=0;r<=i;r++){var A=r/i,M=A*s+a,E=Math.cos(M),C=Math.sin(M);y.x=x*C,y.y=m*w,y.z=x*E,u.push(y.x,y.y,y.z),h.push(0,w,0),g.x=.5*E+.5,g.y=.5*C*w+.5,d.push(g.x,g.y),p++}for(r=0;r<i;r++){var S=o+r,T=f+r;!0===n?c.push(T,T+1,S):c.push(T+1,T,S),b+=3}l.addGroup(v,b,!0===n?1:2),v+=b}!function(){var o,g,y=new Tt,b=new Tt,x=0,w=(t-e)/n;for(g=0;g<=r;g++){var A=[],M=g/r,E=M*(t-e)+e;for(o=0;o<=i;o++){var C=o/i,S=C*s+a,T=Math.sin(S),_=Math.cos(S);b.x=E*T,b.y=-M*n+m,b.z=E*_,u.push(b.x,b.y,b.z),y.set(T,w,_).normalize(),h.push(y.x,y.y,y.z),d.push(C,1-M),A.push(p++)}f.push(A)}for(o=0;o<i;o++)for(g=0;g<r;g++){var P=f[g][o],L=f[g+1][o],k=f[g+1][o+1],I=f[g][o+1];c.push(P,L,I),c.push(L,k,I),x+=6}l.addGroup(v,x,0),v+=x}(),!1===o&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.addAttribute("position",new Bn(u,3)),this.addAttribute("normal",new Bn(h,3)),this.addAttribute("uv",new Bn(d,2))}function za(e,t,n,i,r,o,a){Ba.call(this,0,e,t,n,i,r,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function Ua(e,t,n,i,r,o,a){Fa.call(this,0,e,t,n,i,r,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function ja(e,t,n,i){Pn.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Ha(e,t,n,i)),this.mergeVertices()}function Ha(e,t,n,i){Hn.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,o,a=[],s=[],l=[],c=[],u=new Tt,h=new Ct;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),o=0,r=3;o<=t;o++,r+=3){var d=n+o/t*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),l.push(0,0,1),h.x=(s[r]/e+1)/2,h.y=(s[r+1]/e+1)/2,c.push(h.x,h.y)}for(r=1;r<=t;r++)a.push(r,r+1,0);this.setIndex(a),this.addAttribute("position",new Bn(s,3)),this.addAttribute("normal",new Bn(l,3)),this.addAttribute("uv",new Bn(c,2))}Sa.prototype=Object.create(Pn.prototype),Sa.prototype.constructor=Sa,Ta.prototype=Object.create(Ma.prototype),Ta.prototype.constructor=Ta,_a.prototype=Object.create(Pn.prototype),_a.prototype.constructor=_a,Pa.prototype=Object.create(Hn.prototype),Pa.prototype.constructor=Pa,La.prototype=Object.create(Pn.prototype),La.prototype.constructor=La,ka.prototype=Object.create(Hn.prototype),ka.prototype.constructor=ka,Ia.prototype=Object.create(Pn.prototype),Ia.prototype.constructor=Ia,Oa.prototype=Object.create(Hn.prototype),Oa.prototype.constructor=Oa,Da.prototype=Object.create(Pn.prototype),Da.prototype.constructor=Da,Da.prototype.toJSON=function(){var e=Pn.prototype.toJSON.call(this),t=this.parameters.shapes;return Na(t,e)},Ra.prototype=Object.create(Hn.prototype),Ra.prototype.constructor=Ra,Ra.prototype.toJSON=function(){var e=Hn.prototype.toJSON.call(this),t=this.parameters.shapes;return Na(t,e)},Va.prototype=Object.create(Hn.prototype),Va.prototype.constructor=Va,Ba.prototype=Object.create(Pn.prototype),Ba.prototype.constructor=Ba,Fa.prototype=Object.create(Hn.prototype),Fa.prototype.constructor=Fa,za.prototype=Object.create(Ba.prototype),za.prototype.constructor=za,Ua.prototype=Object.create(Fa.prototype),Ua.prototype.constructor=Ua,ja.prototype=Object.create(Pn.prototype),ja.prototype.constructor=ja,Ha.prototype=Object.create(Hn.prototype),Ha.prototype.constructor=Ha;var Ga=Object.freeze({WireframeGeometry:Io,ParametricGeometry:Oo,ParametricBufferGeometry:Do,TetrahedronGeometry:Vo,TetrahedronBufferGeometry:Bo,OctahedronGeometry:Fo,OctahedronBufferGeometry:zo,IcosahedronGeometry:Uo,IcosahedronBufferGeometry:jo,DodecahedronGeometry:Ho,DodecahedronBufferGeometry:Go,PolyhedronGeometry:Ro,PolyhedronBufferGeometry:No,TubeGeometry:Wo,TubeBufferGeometry:Qo,TorusKnotGeometry:Yo,TorusKnotBufferGeometry:Xo,TorusGeometry:Ko,TorusBufferGeometry:qo,TextGeometry:Sa,TextBufferGeometry:Ta,SphereGeometry:_a,SphereBufferGeometry:Pa,RingGeometry:La,RingBufferGeometry:ka,PlaneGeometry:Qn,PlaneBufferGeometry:Yn,LatheGeometry:Ia,LatheBufferGeometry:Oa,ShapeGeometry:Da,ShapeBufferGeometry:Ra,ExtrudeGeometry:Aa,ExtrudeBufferGeometry:Ma,EdgesGeometry:Va,ConeGeometry:za,ConeBufferGeometry:Ua,CylinderGeometry:Ba,CylinderBufferGeometry:Fa,CircleGeometry:ja,CircleBufferGeometry:Ha,BoxGeometry:Gn,BoxBufferGeometry:Wn});function Wa(e){Kn.call(this),this.type="ShadowMaterial",this.color=new hn(0),this.transparent=!0,this.setValues(e)}function Qa(e){ui.call(this,e),this.type="RawShaderMaterial"}function Ya(e){Kn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new hn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=At,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Xa(e){Ya.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function Ka(e){Kn.call(this),this.type="MeshPhongMaterial",this.color=new hn(16777215),this.specular=new hn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=At,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function qa(e){Ka.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Ja(e){Kn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=At,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Za(e){Kn.call(this),this.type="MeshLambertMaterial",this.color=new hn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new hn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function $a(e){Kn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new hn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=At,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function es(e){Ao.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Wa.prototype=Object.create(Kn.prototype),Wa.prototype.constructor=Wa,Wa.prototype.isShadowMaterial=!0,Wa.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this},Qa.prototype=Object.create(ui.prototype),Qa.prototype.constructor=Qa,Qa.prototype.isRawShaderMaterial=!0,Ya.prototype=Object.create(Kn.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isMeshStandardMaterial=!0,Ya.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Xa.prototype=Object.create(Ya.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isMeshPhysicalMaterial=!0,Xa.prototype.copy=function(e){return Ya.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Ka.prototype=Object.create(Kn.prototype),Ka.prototype.constructor=Ka,Ka.prototype.isMeshPhongMaterial=!0,Ka.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},qa.prototype=Object.create(Ka.prototype),qa.prototype.constructor=qa,qa.prototype.isMeshToonMaterial=!0,qa.prototype.copy=function(e){return Ka.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Ja.prototype=Object.create(Kn.prototype),Ja.prototype.constructor=Ja,Ja.prototype.isMeshNormalMaterial=!0,Ja.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Za.prototype=Object.create(Kn.prototype),Za.prototype.constructor=Za,Za.prototype.isMeshLambertMaterial=!0,Za.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},$a.prototype=Object.create(Kn.prototype),$a.prototype.constructor=$a,$a.prototype.isMeshMatcapMaterial=!0,$a.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},es.prototype=Object.create(Ao.prototype),es.prototype.constructor=es,es.prototype.isLineDashedMaterial=!0,es.prototype.copy=function(e){return Ao.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var ts=Object.freeze({ShadowMaterial:Wa,SpriteMaterial:vo,RawShaderMaterial:Qa,ShaderMaterial:ui,PointsMaterial:So,MeshPhysicalMaterial:Xa,MeshStandardMaterial:Ya,MeshPhongMaterial:Ka,MeshToonMaterial:qa,MeshNormalMaterial:Ja,MeshLambertMaterial:Za,MeshDepthMaterial:jr,MeshDistanceMaterial:Hr,MeshBasicMaterial:pi,MeshMatcapMaterial:$a,LineDashedMaterial:es,LineBasicMaterial:Ao,Material:Kn}),ns={arraySlice:function(e,t,n){return ns.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),o=0,a=0;a!==i;++o)for(var s=n[o]*t,l=0;l!==t;++l)r[a++]=e[s+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,o=e[0];void 0!==o&&void 0===o[i];)o=e[r++];if(void 0!==o){var a=o[i];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[i])&&(t.push(o.time),n.push.apply(n,a)),o=e[r++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[i])&&(t.push(o.time),a.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{void 0!==(a=o[i])&&(t.push(o.time),n.push(a)),o=e[r++]}while(void 0!==o)}}};function is(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function rs(e,t,n,i){is.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function os(e,t,n,i){is.call(this,e,t,n,i)}function as(e,t,n,i){is.call(this,e,t,n,i)}function ss(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ns.convertArray(t,this.TimeBufferType),this.values=ns.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function ls(e,t,n){ss.call(this,e,t,n)}function cs(e,t,n,i){ss.call(this,e,t,n,i)}function us(e,t,n,i){ss.call(this,e,t,n,i)}function hs(e,t,n,i){is.call(this,e,t,n,i)}function ds(e,t,n,i){ss.call(this,e,t,n,i)}function ps(e,t,n,i){ss.call(this,e,t,n,i)}function fs(e,t,n,i){ss.call(this,e,t,n,i)}function ms(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Et.generateUUID(),this.duration<0&&this.resetDuration()}function vs(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return us;case"vector":case"vector2":case"vector3":case"vector4":return fs;case"color":return cs;case"quaternion":return ds;case"bool":case"boolean":return ls;case"string":return ps}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],i=[];ns.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(is.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{var o;n:{i:if(!(e<i)){for(var a=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(e>=r)break e;var s=t[1];e<s&&(n=2,r=s);for(var a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0}for(;n<o;){var l=n+o>>>1;e<t[l]?o=l:n=l+1}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,o=0;o!==i;++o)t[o]=n[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(is.prototype,{beforeStart_:is.prototype.copySampleValue_,afterEnd_:is.prototype.copySampleValue_}),rs.prototype=Object.assign(Object.create(is.prototype),{constructor:rs,DefaultSettings_:{endingStart:ct,endingEnd:ct},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,o=e+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=e,a=2*t-n;break;case 2402:r=i.length-2,a=t+i[r]-i[r+1];break;default:r=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:o=1,s=n+i[1]-i[0];break;default:o=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),f=p*p,m=f*p,v=-h*m+2*h*f-h*p,g=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,b=d*m-d*f,x=0;x!==a;++x)r[x]=v*o[c+x]+g*o[l+x]+y*o[s+x]+b*o[u+x];return r}}),os.prototype=Object.assign(Object.create(is.prototype),{constructor:os,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(i-t),u=1-c,h=0;h!==a;++h)r[h]=o[l+h]*u+o[s+h]*c;return r}}),as.prototype=Object.assign(Object.create(is.prototype),{constructor:as,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(ss,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ns.convertArray(e.times,Array),values:ns.convertArray(e.values,Array)};var i=e.getInterpolation();i!==e.DefaultInterpolation&&(t.interpolation=i)}return t.type=e.ValueTypeName,t}}),Object.assign(ss.prototype,{constructor:ss,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new as(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new os(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new rs(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,i=n.length,r=0,o=i-1;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);var a=this.getValueSize();this.times=ns.arraySlice(n,r,o),this.values=ns.arraySlice(this.values,r*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==r;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==i&&ns.isTypedArray(i))for(var a=0,l=i.length;a!==l;++a){var c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),i=2302===this.getInterpolation(),r=1,o=e.length-1,a=1;a<o;++a){var s=!1,l=e[a],c=e[a+1];if(l!==c&&(1!==a||l!==l[0]))if(i)s=!0;else for(var u=a*n,h=u-n,d=u+n,p=0;p!==n;++p){var f=t[u+p];if(f!==t[h+p]||f!==t[d+p]){s=!0;break}}if(s){if(a!==r){e[r]=e[a];for(var m=a*n,v=r*n,p=0;p!==n;++p)t[v+p]=t[m+p]}++r}}if(o>0){e[r]=e[o];for(var m=o*n,v=r*n,p=0;p!==n;++p)t[v+p]=t[m+p];++r}return r!==e.length&&(this.times=ns.arraySlice(e,0,r),this.values=ns.arraySlice(t,0,r*n)),this},clone:function(){var e=ns.arraySlice(this.times,0),t=ns.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}),ls.prototype=Object.assign(Object.create(ss.prototype),{constructor:ls,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),cs.prototype=Object.assign(Object.create(ss.prototype),{constructor:cs,ValueTypeName:"color"}),us.prototype=Object.assign(Object.create(ss.prototype),{constructor:us,ValueTypeName:"number"}),hs.prototype=Object.assign(Object.create(is.prototype),{constructor:hs,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=(n-t)/(i-t),c=s+a;s!==c;s+=4)St.slerpFlat(r,0,o,s-a,o,s,l);return r}}),ds.prototype=Object.assign(Object.create(ss.prototype),{constructor:ds,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new hs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ps.prototype=Object.assign(Object.create(ss.prototype),{constructor:ps,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),fs.prototype=Object.assign(Object.create(ss.prototype),{constructor:fs,ValueTypeName:"vector"}),Object.assign(ms,{parse:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,o=n.length;r!==o;++r)t.push(vs(n[r]).scale(i));return new ms(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},r=0,o=n.length;r!==o;++r)t.push(ss.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){for(var r=t.length,o=[],a=0;a<r;a++){var s=[],l=[];s.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);var c=ns.getKeyframeOrder(s);s=ns.sortedArray(s,1,c),l=ns.sortedArray(l,1,c),i||0!==s[0]||(s.push(r),l.push(l[0])),o.push(new us(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new ms(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var i=e;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(r);if(l&&l.length>1){var c=l[1],u=i[c];u||(i[c]=u=[]),u.push(s)}}var h=[];for(var c in i)h.push(ms.CreateFromMorphTargetSequence(c,i[c],t,n));return h},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){if(0!==n.length){var o=[],a=[];ns.flattenJSON(n,o,a,i),0!==o.length&&r.push(new e(t,o,a))}},i=[],r=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)u[c[h].morphTargets[d]]=-1;for(var p in u){for(var f=[],m=[],d=0;d!==c[h].morphTargets.length;++d){var v=c[h];f.push(v.time),m.push(v.morphTarget===p?1:0)}i.push(new us(".morphTargetInfluence["+p+"]",f,m))}o=u.length*(a||1)}else{var g=".bones["+t[l].name+"]";n(fs,g+".position",c,"pos",i),n(ds,g+".quaternion",c,"rot",i),n(fs,g+".scale",c,"scl",i)}}if(0===i.length)return null;var y=new ms(r,o,i);return y}}),Object.assign(ms.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,n=0,i=e.length;n!==i;++n){var r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new ms(this.name,this.duration,e)}});var gs={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function ys(e,t,n){var i=this,r=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===r&&void 0!==i.onStart&&i.onStart(e,o,a),r=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,a),o===a&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var bs=new ys,xs={};function ws(e){this.manager=void 0!==e?e:bs}function As(e){this.manager=void 0!==e?e:bs}function Ms(e){this.manager=void 0!==e?e:bs,this._parser=null}function Es(e){this.manager=void 0!==e?e:bs,this._parser=null}function Cs(e){this.manager=void 0!==e?e:bs}function Ss(e){this.manager=void 0!==e?e:bs}function Ts(e){this.manager=void 0!==e?e:bs}function _s(){this.type="Curve",this.arcLengthDivisions=200}function Ps(e,t,n,i,r,o,a,s){_s.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Ls(e,t,n,i,r,o){Ps.call(this,e,t,n,n,i,r,o),this.type="ArcCurve"}function ks(){var e=0,t=0,n=0,i=0;function r(r,o,a,s){e=r,t=a,n=-3*r+3*o-2*a-s,i=2*r-2*o+a+s}return{initCatmullRom:function(e,t,n,i,o){r(t,n,o*(n-e),o*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,o,a,s){var l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(i-t)/(a+s)+(i-n)/s;r(t,n,l*=a,c*=a)},calc:function(r){var o=r*r,a=o*r;return e+t*r+n*o+i*a}}}Object.assign(ws.prototype,{load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=gs.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;if(void 0===xs[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],l=!!a[2],c=a[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);u="blob"===h?new Blob([d.buffer],{type:s}):d.buffer;break;case"document":var f=new DOMParser;u=f.parseFromString(c,s);break;case"json":u=JSON.parse(c);break;default:u=c}setTimeout(function(){t&&t(u),r.manager.itemEnd(e)},0)}catch(t){setTimeout(function(){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{xs[e]=[],xs[e].push({onLoad:t,onProgress:n,onError:i});var m=new XMLHttpRequest;for(var v in m.open("GET",e,!0),m.addEventListener("load",function(t){var n=this.response;gs.add(e,n);var i=xs[e];if(delete xs[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(e)}else{for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onError&&s.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),m.addEventListener("progress",function(t){for(var n=xs[e],i=0,r=n.length;i<r;i++){var o=n[i];o.onProgress&&o.onProgress(t)}},!1),m.addEventListener("error",function(t){var n=xs[e];delete xs[e];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),m.addEventListener("abort",function(t){var n=xs[e];delete xs[e];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return r.manager.itemStart(e),m}xs[e].push({onLoad:t,onProgress:n,onError:i})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(As.prototype,{load:function(e,t,n,i){var r=this,o=new ws(r.manager);o.setPath(r.path),o.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var i=ms.parse(e[n]);t.push(i)}return t},setPath:function(e){return this.path=e,this}}),Object.assign(Ms.prototype,{load:function(e,t,n,i){var r=this,o=[],a=new Po;a.image=o;var s=new ws(this.manager);function l(l){s.load(e[l],function(e){var n=r._parser(e,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=me),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,i)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,h=e.length;u<h;++u)l(u);else s.load(e,function(e){var n=r._parser(e,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=me),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,i);return a},setPath:function(e){return this.path=e,this}}),Object.assign(Es.prototype,{load:function(e,t,n,i){var r=this,o=new qt,a=new ws(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(e){var n=r._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ue,o.wrapT=void 0!==n.wrapT?n.wrapT:ue,o.magFilter=void 0!==n.magFilter?n.magFilter:me,o.minFilter=void 0!==n.minFilter?n.minFilter:ge,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=me),o.needsUpdate=!0,t&&t(o,n))},n,i),o},setPath:function(e){return this.path=e,this}}),Object.assign(Cs.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=gs.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),gs.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ss.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){var r=new Si,o=new Cs(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],function(e){r.images[n]=e,6==++a&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(var l=0;l<e.length;++l)s(l);return r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ts.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){var r=new Wt,o=new Cs(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(n){r.image=n;var i=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?ke:Ie,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(_s.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,i=[],r=this.getPoint(0),o=0;for(i.push(0),n=1;n<=e;n++)t=this.getPoint(n/e),o+=t.distanceTo(r),i.push(o),r=t;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,i=this.getLengths(),r=0,o=i.length;n=t||e*i[o-1];for(var a,s=0,l=o-1;s<=l;)if(r=Math.floor(s+(l-s)/2),(a=i[r]-n)<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(o-1);var c=i[r],u=i[r+1],h=u-c,d=(n-c)/h,p=(r+d)/(o-1);return p},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var i=this.getPoint(t),r=this.getPoint(n),o=r.clone().sub(i);return o.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,i,r,o=new Tt,a=[],s=[],l=[],c=new Tt,u=new tn;for(n=0;n<=e;n++)i=n/e,a[n]=this.getTangentAt(i),a[n].normalize();s[0]=new Tt,l[0]=new Tt;var h=Number.MAX_VALUE,d=Math.abs(a[0].x),p=Math.abs(a[0].y),f=Math.abs(a[0].z);for(d<=h&&(h=d,o.set(1,0,0)),p<=h&&(h=p,o.set(0,1,0)),f<=h&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),l[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),r=Math.acos(Et.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(c,r))),l[n].crossVectors(a[n],s[n]);if(!0===t)for(r=Math.acos(Et.clamp(s[0].dot(s[e]),-1,1)),r/=e,a[0].dot(c.crossVectors(s[0],s[e]))>0&&(r=-r),n=1;n<=e;n++)s[n].applyMatrix4(u.makeRotationAxis(a[n],r*n)),l[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Ps.prototype=Object.create(_s.prototype),Ps.prototype.constructor=Ps,Ps.prototype.isEllipseCurve=!0,Ps.prototype.getPoint=function(e,t){for(var n=t||new Ct,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);var a=this.aStartAngle+e*r,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=s-this.aX,d=l-this.aY;s=h*c-d*u+this.aX,l=h*u+d*c+this.aY}return n.set(s,l)},Ps.prototype.copy=function(e){return _s.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ps.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Ps.prototype.fromJSON=function(e){return _s.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ls.prototype=Object.create(Ps.prototype),Ls.prototype.constructor=Ls,Ls.prototype.isArcCurve=!0;var Is=new Tt,Os=new ks,Ds=new ks,Rs=new ks;function Ns(e,t,n,i){_s.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Vs(e,t,n,i,r){var o=.5*(i-t),a=.5*(r-n),s=e*e,l=e*s;return(2*n-2*i+o+a)*l+(-3*n+3*i-2*o-a)*s+o*e+n}function Bs(e,t,n,i){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function Fs(e,t,n,i,r){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function zs(e,t,n,i){_s.call(this),this.type="CubicBezierCurve",this.v0=e||new Ct,this.v1=t||new Ct,this.v2=n||new Ct,this.v3=i||new Ct}function Us(e,t,n,i){_s.call(this),this.type="CubicBezierCurve3",this.v0=e||new Tt,this.v1=t||new Tt,this.v2=n||new Tt,this.v3=i||new Tt}function js(e,t){_s.call(this),this.type="LineCurve",this.v1=e||new Ct,this.v2=t||new Ct}function Hs(e,t){_s.call(this),this.type="LineCurve3",this.v1=e||new Tt,this.v2=t||new Tt}function Gs(e,t,n){_s.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Ct,this.v1=t||new Ct,this.v2=n||new Ct}function Ws(e,t,n){_s.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new Tt,this.v1=t||new Tt,this.v2=n||new Tt}function Qs(e){_s.call(this),this.type="SplineCurve",this.points=e||[]}Ns.prototype=Object.create(_s.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isCatmullRomCurve3=!0,Ns.prototype.getPoint=function(e,t){var n,i,r,o,a=t||new Tt,s=this.points,l=s.length,c=(l-(this.closed?0:1))*e,u=Math.floor(c),h=c-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/l)+1)*l:0===h&&u===l-1&&(u=l-2,h=1),this.closed||u>0?n=s[(u-1)%l]:(Is.subVectors(s[0],s[1]).add(s[0]),n=Is),i=s[u%l],r=s[(u+1)%l],this.closed||u+2<l?o=s[(u+2)%l]:(Is.subVectors(s[l-1],s[l-2]).add(s[l-1]),o=Is),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(i),d),f=Math.pow(i.distanceToSquared(r),d),m=Math.pow(r.distanceToSquared(o),d);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),Os.initNonuniformCatmullRom(n.x,i.x,r.x,o.x,p,f,m),Ds.initNonuniformCatmullRom(n.y,i.y,r.y,o.y,p,f,m),Rs.initNonuniformCatmullRom(n.z,i.z,r.z,o.z,p,f,m)}else"catmullrom"===this.curveType&&(Os.initCatmullRom(n.x,i.x,r.x,o.x,this.tension),Ds.initCatmullRom(n.y,i.y,r.y,o.y,this.tension),Rs.initCatmullRom(n.z,i.z,r.z,o.z,this.tension));return a.set(Os.calc(h),Ds.calc(h),Rs.calc(h)),a},Ns.prototype.copy=function(e){_s.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ns.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Ns.prototype.fromJSON=function(e){_s.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Tt).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},zs.prototype=Object.create(_s.prototype),zs.prototype.constructor=zs,zs.prototype.isCubicBezierCurve=!0,zs.prototype.getPoint=function(e,t){var n=t||new Ct,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Fs(e,i.x,r.x,o.x,a.x),Fs(e,i.y,r.y,o.y,a.y)),n},zs.prototype.copy=function(e){return _s.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},zs.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},zs.prototype.fromJSON=function(e){return _s.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Us.prototype=Object.create(_s.prototype),Us.prototype.constructor=Us,Us.prototype.isCubicBezierCurve3=!0,Us.prototype.getPoint=function(e,t){var n=t||new Tt,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Fs(e,i.x,r.x,o.x,a.x),Fs(e,i.y,r.y,o.y,a.y),Fs(e,i.z,r.z,o.z,a.z)),n},Us.prototype.copy=function(e){return _s.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Us.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Us.prototype.fromJSON=function(e){return _s.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},js.prototype=Object.create(_s.prototype),js.prototype.constructor=js,js.prototype.isLineCurve=!0,js.prototype.getPoint=function(e,t){var n=t||new Ct;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},js.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},js.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()},js.prototype.copy=function(e){return _s.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},js.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},js.prototype.fromJSON=function(e){return _s.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Hs.prototype=Object.create(_s.prototype),Hs.prototype.constructor=Hs,Hs.prototype.isLineCurve3=!0,Hs.prototype.getPoint=function(e,t){var n=t||new Tt;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Hs.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Hs.prototype.copy=function(e){return _s.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Hs.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Hs.prototype.fromJSON=function(e){return _s.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Gs.prototype=Object.create(_s.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isQuadraticBezierCurve=!0,Gs.prototype.getPoint=function(e,t){var n=t||new Ct,i=this.v0,r=this.v1,o=this.v2;return n.set(Bs(e,i.x,r.x,o.x),Bs(e,i.y,r.y,o.y)),n},Gs.prototype.copy=function(e){return _s.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Gs.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Gs.prototype.fromJSON=function(e){return _s.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ws.prototype=Object.create(_s.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isQuadraticBezierCurve3=!0,Ws.prototype.getPoint=function(e,t){var n=t||new Tt,i=this.v0,r=this.v1,o=this.v2;return n.set(Bs(e,i.x,r.x,o.x),Bs(e,i.y,r.y,o.y),Bs(e,i.z,r.z,o.z)),n},Ws.prototype.copy=function(e){return _s.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ws.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ws.prototype.fromJSON=function(e){return _s.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Qs.prototype=Object.create(_s.prototype),Qs.prototype.constructor=Qs,Qs.prototype.isSplineCurve=!0,Qs.prototype.getPoint=function(e,t){var n=t||new Ct,i=this.points,r=(i.length-1)*e,o=Math.floor(r),a=r-o,s=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(Vs(a,s.x,l.x,c.x,u.x),Vs(a,s.y,l.y,c.y,u.y)),n},Qs.prototype.copy=function(e){_s.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push(i.clone())}return this},Qs.prototype.toJSON=function(){var e=_s.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var i=this.points[t];e.points.push(i.toArray())}return e},Qs.prototype.fromJSON=function(e){_s.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var i=e.points[t];this.points.push((new Ct).fromArray(i))}return this};var Ys=Object.freeze({ArcCurve:Ls,CatmullRomCurve3:Ns,CubicBezierCurve:zs,CubicBezierCurve3:Us,EllipseCurve:Ps,LineCurve:js,LineCurve3:Hs,QuadraticBezierCurve:Gs,QuadraticBezierCurve3:Ws,SplineCurve:Qs});function Xs(){_s.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ks(e){Xs.call(this),this.type="Path",this.currentPoint=new Ct,e&&this.setFromPoints(e)}function qs(e){Ks.call(this,e),this.uuid=Et.generateUUID(),this.type="Shape",this.holes=[]}function Js(e,t){Cn.call(this),this.type="Light",this.color=new hn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Zs(e,t,n){Js.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.groundColor=new hn(t)}function $s(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Ct(512,512),this.map=null,this.matrix=new tn}function el(){$s.call(this,new qr(50,1,.5,500))}function tl(e,t,n,i,r,o){Js.call(this,e,t),this.type="SpotLight",this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.target=new Cn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new el}function nl(e,t,n,i){Js.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new $s(new qr(90,1,.5,500))}function il(e,t,n,i,r,o){Kr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function rl(){$s.call(this,new il(-5,5,5,-5,.5,500))}function ol(e,t){Js.call(this,e,t),this.type="DirectionalLight",this.position.copy(Cn.DefaultUp),this.updateMatrix(),this.target=new Cn,this.shadow=new rl}function al(e,t){Js.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function sl(e,t,n,i){Js.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function ll(e){this.manager=void 0!==e?e:bs,this.textures={}}Xs.prototype=Object.assign(Object.create(_s.prototype),{constructor:Xs,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new js(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=t){var r=n[i]-t,o=this.curves[i],a=o.getLength(),s=0===a?0:1-r/a;return o.getPointAt(s)}i++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),l=0;l<s.length;l++){var c=s[l];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){_s.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=_s.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){_s.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var i=e.curves[t];this.curves.push((new Ys[i.type]).fromJSON(i))}return this}}),Ks.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Ks,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new js(this.currentPoint.clone(),new Ct(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,i){var r=new Gs(this.currentPoint.clone(),new Ct(e,t),new Ct(n,i));this.curves.push(r),this.currentPoint.set(n,i)},bezierCurveTo:function(e,t,n,i,r,o){var a=new zs(this.currentPoint.clone(),new Ct(e,t),new Ct(n,i),new Ct(r,o));this.curves.push(a),this.currentPoint.set(r,o)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Qs(t);this.curves.push(n),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,i,r,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,i,r,o)},absarc:function(e,t,n,i,r,o){this.absellipse(e,t,n,n,i,r,o)},ellipse:function(e,t,n,i,r,o,a,s){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,n,i,r,o,a,s)},absellipse:function(e,t,n,i,r,o,a,s){var l=new Ps(e,t,n,i,r,o,a,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return Xs.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Xs.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Xs.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),qs.prototype=Object.assign(Object.create(Ks.prototype),{constructor:qs,getPointsHoles:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ks.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){var e=Ks.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Ks.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var i=e.holes[t];this.holes.push((new Ks).fromJSON(i))}return this}}),Js.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Js,isLight:!0,copy:function(e){return Cn.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Cn.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Zs.prototype=Object.assign(Object.create(Js.prototype),{constructor:Zs,isHemisphereLight:!0,copy:function(e){return Js.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign($s.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),el.prototype=Object.assign(Object.create($s.prototype),{constructor:el,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Et.RAD2DEG*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix())}}),tl.prototype=Object.assign(Object.create(Js.prototype),{constructor:tl,isSpotLight:!0,copy:function(e){return Js.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),nl.prototype=Object.assign(Object.create(Js.prototype),{constructor:nl,isPointLight:!0,copy:function(e){return Js.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),il.prototype=Object.assign(Object.create(Kr.prototype),{constructor:il,isOrthographicCamera:!0,copy:function(e,t){return Kr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-e,o=n+e,a=i+t,s=i-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;r+=u*(this.view.offsetX/l),o=r+u*(this.view.width/l),a-=h*(this.view.offsetY/c),s=a-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Cn.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),rl.prototype=Object.assign(Object.create($s.prototype),{constructor:rl}),ol.prototype=Object.assign(Object.create(Js.prototype),{constructor:ol,isDirectionalLight:!0,copy:function(e){return Js.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),al.prototype=Object.assign(Object.create(Js.prototype),{constructor:al,isAmbientLight:!0}),sl.prototype=Object.assign(Object.create(Js.prototype),{constructor:sl,isRectAreaLight:!0,copy:function(e){return Js.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Js.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(ll.prototype,{load:function(e,t,n,i){var r=this,o=new ws(r.manager);o.setPath(r.path),o.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i=new ts[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.uniforms)for(var r in e.uniforms){var o=e.uniforms[r];switch(i.uniforms[r]={},o.type){case"t":i.uniforms[r].value=n(o.value);break;case"c":i.uniforms[r].value=(new hn).setHex(o.value);break;case"v2":i.uniforms[r].value=(new Ct).fromArray(o.value);break;case"v3":i.uniforms[r].value=(new Tt).fromArray(o.value);break;case"v4":i.uniforms[r].value=(new Qt).fromArray(o.value);break;case"m3":i.uniforms[r].value=(new _t).fromArray(o.value);case"m4":i.uniforms[r].value=(new tn).fromArray(o.value);break;default:i.uniforms[r].value=o.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)i.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new Ct).fromArray(s)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),i},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var cl={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function ul(e){this.manager=void 0!==e?e:bs}Object.assign(ul.prototype,{load:function(e,t,n,i){var r=this,o=new ws(r.manager);o.setPath(r.path),o.load(e,function(e){t(r.parse(JSON.parse(e)))},n,i)},parse:function(e){var t=new Hn,n=e.data.index;if(void 0!==n){var i=new hl[n.type](n.array);t.setIndex(new Ln(i,1))}var r=e.data.attributes;for(var o in r){var a=r[o],i=new hl[a.type](a.array),s=new Ln(i,a.itemSize,a.normalized);void 0!==a.name&&(s.name=a.name),t.addAttribute(o,s)}var l=e.data.morphAttributes;if(l)for(var o in l){for(var c=l[o],u=[],h=0,d=c.length;h<d;h++){var a=c[h],i=new hl[a.type](a.array),s=new Ln(i,a.itemSize,a.normalized);void 0!==a.name&&(s.name=a.name),u.push(s)}t.morphAttributes[o]=u}var p=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==p)for(var h=0,f=p.length;h!==f;++h){var m=p[h];t.addGroup(m.start,m.count,m.materialIndex)}var v=e.data.boundingSphere;if(void 0!==v){var g=new Tt;void 0!==v.center&&g.fromArray(v.center),t.boundingSphere=new Zt(g,v.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var hl={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function dl(e){this.manager=void 0!==e?e:bs,this.resourcePath=""}Object.assign(dl.prototype,{crossOrigin:"anonymous",load:function(e,t,n,i){var r=this,o=void 0===this.path?cl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new ws(r.manager);a.setPath(this.path),a.load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?r.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)},n,i)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,r),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,i,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new qs).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var i=new ul,r=0,o=e.length;r<o;r++){var a,s=e[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Ga[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Ga[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Ga[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Ga[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Ga[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Ga[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Ga[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Ga[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Ga[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Ga[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new Ga[s.type]((new Ys[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Ga[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Ga[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var h=t[s.shapes[c]];l.push(h)}a=new Ga[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var h=t[s.shapes[c]];l.push(h)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new Ys[d.type]).fromJSON(d)),a=new Ga[s.type](l,s.options);break;case"BufferGeometry":a=i.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var p=new THREE.LegacyJSONLoader;a=p.parse(s,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},i={};if(void 0!==e){var r=new ll;r.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=ms.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){var n=this,i={};function r(e){return n.manager.itemStart(e),a.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}if(void 0!==e&&e.length>0){var o=new ys(t),a=new Cs(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var c=e[s],u=c.url;if(Array.isArray(u)){i[c.uuid]=[];for(var h=0,d=u.length;h<d;h++){var p=u[h],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;i[c.uuid].push(r(f))}}else{var f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;i[c.uuid]=r(f)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,o=e.length;r<o;r++){var a,s=e[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new Si(t[s.image]):new Wt(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,yl)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],bl),a.wrapT=n(s.wrap[1],bl)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,xl)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,xl)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),i[s.uuid]=a}return i},parseObject:function(e,t,n){var i;function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],i=0,r=e.length;i<r;i++){var o=e[i];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":i=new po,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new hn(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new ho(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new uo(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new qr(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new il(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new al(e.color,e.intensity);break;case"DirectionalLight":i=new ol(e.color,e.intensity);break;case"PointLight":i=new nl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new sl(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new tl(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new Zs(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(e.geometry),s=o(e.material);i=a.bones&&a.bones.length>0?new bo(a,s):new fi(a,s),void 0!==e.drawMode&&i.setDrawMode(e.drawMode);break;case"LOD":i=new yo;break;case"Line":i=new Mo(r(e.geometry),o(e.material),e.mode);break;case"LineLoop":i=new Co(r(e.geometry),o(e.material));break;case"LineSegments":i=new Eo(r(e.geometry),o(e.material));break;case"PointCloud":case"Points":i=new To(r(e.geometry),o(e.material));break;case"Sprite":i=new go(o(e.material));break;case"Group":i=new Xr;break;default:i=new Cn}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,c=0;c<l.length;c++)i.add(this.parseObject(l[c],t,n));if("LOD"===e.type)for(var u=e.levels,h=0;h<u.length;h++){var d=u[h],p=i.getObjectByProperty("uuid",d.object);void 0!==p&&i.addLevel(p,d.distance)}return i}});var pl,fl,ml,vl,gl,yl={UVMapping:300,CubeReflectionMapping:ne,CubeRefractionMapping:ie,EquirectangularReflectionMapping:re,EquirectangularRefractionMapping:oe,SphericalReflectionMapping:ae,CubeUVReflectionMapping:se,CubeUVRefractionMapping:le},bl={RepeatWrapping:ce,ClampToEdgeWrapping:ue,MirroredRepeatWrapping:he},xl={NearestFilter:de,NearestMipMapNearestFilter:pe,NearestMipMapLinearFilter:fe,LinearFilter:me,LinearMipMapNearestFilter:ve,LinearMipMapLinearFilter:ge};function wl(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:bs,this.options=void 0}function Al(){this.type="ShapePath",this.color=new hn,this.subPaths=[],this.currentPath=null}function Ml(e){this.type="Font",this.data=e}function El(e,t,n,i,r){var o=r.glyphs[e]||r.glyphs["?"];if(o){var a,s,l,c,u,h,d,p,f=new Al;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){var y=m[v++];switch(y){case"m":a=m[v++]*t+n,s=m[v++]*t+i,f.moveTo(a,s);break;case"l":a=m[v++]*t+n,s=m[v++]*t+i,f.lineTo(a,s);break;case"q":l=m[v++]*t+n,c=m[v++]*t+i,u=m[v++]*t+n,h=m[v++]*t+i,f.quadraticCurveTo(u,h,l,c);break;case"b":l=m[v++]*t+n,c=m[v++]*t+i,u=m[v++]*t+n,h=m[v++]*t+i,d=m[v++]*t+n,p=m[v++]*t+i,f.bezierCurveTo(u,h,d,p,l,c)}}return{offsetX:o.ha*t,path:f}}}function Cl(e){this.manager=void 0!==e?e:bs}function Sl(){}wl.prototype={constructor:wl,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=gs.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;fetch(e).then(function(e){return e.blob()}).then(function(e){return void 0===r.options?createImageBitmap(e):createImageBitmap(e,r.options)}).then(function(n){gs.add(e,n),t&&t(n),r.manager.itemEnd(e)}).catch(function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(Al.prototype,{moveTo:function(e,t){this.currentPath=new Ks,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,i){this.currentPath.quadraticCurveTo(e,t,n,i)},bezierCurveTo:function(e,t,n,i,r,o){this.currentPath.bezierCurveTo(e,t,n,i,r,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],o=new qs;o.curves=r.curves,t.push(o)}return t}function i(e,t){for(var n=t.length,i=!1,r=n-1,o=0;o<n;r=o++){var a=t[r],s=t[o],l=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],l=-l,s=t[r],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var u=c*(e.x-a.x)-l*(e.y-a.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return i}var r=ba.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,l,c=[];if(1===o.length)return s=o[0],(l=new qs).curves=s.curves,c.push(l),c;var u=!r(o[0].getPoints());u=e?!u:u;var h,d,p=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)s=o[g],h=s.getPoints(),a=r(h),(a=e?!a:a)?(!u&&f[v]&&v++,f[v]={s:new qs,p:h},f[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:h[0]});if(!f[0])return n(o);if(f.length>1){for(var b=!1,x=[],w=0,A=f.length;w<A;w++)p[w]=[];for(var w=0,A=f.length;w<A;w++)for(var M=m[w],E=0;E<M.length;E++){for(var C=M[E],S=!0,T=0;T<f.length;T++)i(C.p,f[T].p)&&(w!==T&&x.push({froms:w,tos:T,hole:E}),S?(S=!1,p[T].push(C)):b=!0);S&&p[w].push(C)}x.length>0&&(b||(m=p))}for(var g=0,_=f.length;g<_;g++){l=f[g].s,c.push(l),d=m[g];for(var P=0,L=d.length;P<L;P++)l.holes.push(d[P].h)}return c}}),Object.assign(Ml.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],i=function(e,t,n){for(var i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[],s=0,l=0,c=0;c<i.length;c++){var u=i[c];if("\n"===u)s=0,l-=o;else{var h=El(u,r,s,l,n);s+=h.offsetX,a.push(h.path)}}return a}(e,t,this.data),r=0,o=i.length;r<o;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Object.assign(Cl.prototype,{load:function(e,t,n,i){var r=this,o=new ws(this.manager);o.setPath(this.path),o.load(e,function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new Ml(e)},setPath:function(e){return this.path=e,this}}),Sl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,i=t.length;n<i;n+=2){var r=t[n],o=t[n+1];if(r.test(e))return o}return null}},Object.assign(Sl.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var i=[],r=0;r<e.length;++r)i[r]=this.createMaterial(e[r],t,n);return i},createMaterial:(fl={NoBlending:g,NormalBlending:y,AdditiveBlending:b,SubtractiveBlending:x,MultiplyBlending:w,CustomBlending:A},ml=new hn,vl=new Ts,gl=new ll,function(e,t,n){var i={};function r(e,r,o,a,s){var l,c=t+e,u=Sl.Handlers.get(c);null!==u?l=u.load(c):(vl.setCrossOrigin(n),l=vl.load(c)),void 0!==r&&(l.repeat.fromArray(r),1!==r[0]&&(l.wrapS=ce),1!==r[1]&&(l.wrapT=ce)),void 0!==o&&l.offset.fromArray(o),void 0!==a&&("repeat"===a[0]&&(l.wrapS=ce),"mirror"===a[0]&&(l.wrapS=he),"repeat"===a[1]&&(l.wrapT=ce),"mirror"===a[1]&&(l.wrapT=he)),void 0!==s&&(l.anisotropy=s);var h=Et.generateUUID();return i[h]=l,h}var o={uuid:Et.generateUUID(),type:"MeshLambertMaterial"};for(var a in e){var s=e[a];switch(a){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":o.name=s;break;case"blending":o.blending=fl[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",a,"is no longer supported.");break;case"colorDiffuse":o.color=ml.fromArray(s).getHex();break;case"colorSpecular":o.specular=ml.fromArray(s).getHex();break;case"colorEmissive":o.emissive=ml.fromArray(s).getHex();break;case"specularCoef":o.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(o.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(o.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(o.type="MeshStandardMaterial");break;case"mapDiffuse":o.map=r(s,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":o.emissiveMap=r(s,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":o.lightMap=r(s,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":o.aoMap=r(s,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":o.bumpMap=r(s,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":o.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":o.normalMap=r(s,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":o.normalScale=s;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":o.specularMap=r(s,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":o.metalnessMap=r(s,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":o.roughnessMap=r(s,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":o.alphaMap=r(s,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":o.side=d;break;case"doubleSided":o.side=p;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),o.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":o[a]=s;break;case"vertexColors":!0===s&&(o.vertexColors=v),"face"===s&&(o.vertexColors=m);break;default:console.error("THREE.Loader.createMaterial: Unsupported",a,s)}}return"MeshBasicMaterial"===o.type&&delete o.emissive,"MeshPhongMaterial"!==o.type&&delete o.specular,o.opacity<1&&(o.transparent=!0),gl.setTextures(i),gl.parse(o)})});var Tl={getContext:function(){return void 0===pl&&(pl=new(window.AudioContext||window.webkitAudioContext)),pl},setContext:function(e){pl=e}};function _l(e){this.manager=void 0!==e?e:bs}function Pl(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new Tt)}function Ll(e,t){Js.call(this,void 0,t),this.sh=void 0!==e?e:new Pl}function kl(e,t,n){Ll.call(this,void 0,n);var i=(new hn).set(e),r=(new hn).set(t),o=new Tt(i.r,i.g,i.b),a=new Tt(r.r,r.g,r.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)}function Il(e,t){Ll.call(this,void 0,t);var n=(new hn).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Ol(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new qr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new qr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}Object.assign(_l.prototype,{load:function(e,t,n,i){var r=new ws(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(e,function(e){var n=e.slice(0),i=Tl.getContext();i.decodeAudioData(n,function(e){t(e)})},n,i)},setPath:function(e){return this.path=e,this}}),Object.assign(Pl.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,i=e.y,r=e.z,o=this.coefficients;return t=.282095*o[0],t+=.488603*o[1]*i,t+=.488603*o[2]*r,t+=.488603*o[3]*n,t+=1.092548*o[4]*(n*i),t+=1.092548*o[5]*(i*r),t+=.315392*o[6]*(3*r*r-1),t+=1.092548*o[7]*(n*r),t+=.546274*o[8]*(n*n-i*i)},getIrradianceAt:function(e,t){var n=e.x,i=e.y,r=e.z,o=this.coefficients;return t=.886227*o[0],t+=2*o[1]*.511664*i,t+=2*o[2]*.511664*r,t+=2*o[3]*.511664*n,t+=2*o[4]*.429043*n*i,t+=2*o[5]*.429043*i*r,t+=o[6]*(.743125*r*r-.247708),t+=2*o[7]*.429043*n*r,t+=.429043*o[8]*(n*n-i*i)},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e){for(var t=this.coefficients,n=0;n<9;n++)t[n].fromArray(e,3*n);return this},toArray:function(){for(var e=[],t=this.coefficients,n=0;n<9;n++)t[n].toArray(e,3*n);return e}}),Object.assign(Pl,{getBasisAt:function(e,t){var n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}),Ll.prototype=Object.assign(Object.create(Js.prototype),{constructor:Ll,isLightProbe:!0,copy:function(e){return Js.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){var t=Js.prototype.toJSON.call(this,e);return t}}),kl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:kl,isHemisphereLightProbe:!0,copy:function(e){return Ll.prototype.copy.call(this,e),this},toJSON:function(e){var t=Ll.prototype.toJSON.call(this,e);return t}}),Il.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Il,isAmbientLightProbe:!0,copy:function(e){return Ll.prototype.copy.call(this,e),this},toJSON:function(e){var t=Ll.prototype.toJSON.call(this,e);return t}}),Object.assign(Ol.prototype,{update:function(){var e,t,n,i,r,o,a,s,l=new tn,c=new tn;return function(u){var h=e!==this||t!==u.focus||n!==u.fov||i!==u.aspect*this.aspect||r!==u.near||o!==u.far||a!==u.zoom||s!==this.eyeSep;if(h){e=this,t=u.focus,n=u.fov,i=u.aspect*this.aspect,r=u.near,o=u.far,a=u.zoom;var d,p,f=u.projectionMatrix.clone(),m=(s=this.eyeSep/2)*r/t,v=r*Math.tan(Et.DEG2RAD*n*.5)/a;c.elements[12]=-s,l.elements[12]=s,d=-v*i+m,p=v*i+m,f.elements[0]=2*r/(p-d),f.elements[8]=(p+d)/(p-d),this.cameraL.projectionMatrix.copy(f),d=-v*i-m,p=v*i-m,f.elements[0]=2*r/(p-d),f.elements[8]=(p+d)/(p-d),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(l)}}()});var Dl,Rl,Nl,Vl,Bl,Fl,zl,Ul,jl,Hl,Gl,Wl,Ql,Yl,Xl,Kl=90,ql=1;function Jl(e,t,n,i){Cn.call(this),this.type="CubeCamera";var r=new qr(Kl,ql,e,t);r.up.set(0,-1,0),r.lookAt(new Tt(1,0,0)),this.add(r);var o=new qr(Kl,ql,e,t);o.up.set(0,-1,0),o.lookAt(new Tt(-1,0,0)),this.add(o);var a=new qr(Kl,ql,e,t);a.up.set(0,0,1),a.lookAt(new Tt(0,1,0)),this.add(a);var s=new qr(Kl,ql,e,t);s.up.set(0,0,-1),s.lookAt(new Tt(0,-1,0)),this.add(s);var l=new qr(Kl,ql,e,t);l.up.set(0,-1,0),l.lookAt(new Tt(0,0,1)),this.add(l);var c=new qr(Kl,ql,e,t);c.up.set(0,-1,0),c.lookAt(new Tt(0,0,-1)),this.add(c),i=i||{format:ke,magFilter:me,minFilter:me},this.renderTarget=new Kt(n,n,i),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),i=this.renderTarget,u=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,o),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,s),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=u,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(n)},this.clear=function(e,t,n,i){for(var r=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)e.setRenderTarget(o,a),e.clear(t,n,i);e.setRenderTarget(r)}}function Zl(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function $l(){Cn.call(this),this.type="AudioListener",this.context=Tl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function ec(e){Cn.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function tc(e){ec.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function nc(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function ic(e,t,n){this.binding=e,this.valueSize=n;var i,r=Float64Array;switch(t){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function rc(e,t,n){var i=n||oc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function oc(e,t,n){this.path=t,this.parsedPath=n||oc.parseTrackName(t),this.node=oc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function ac(){this.uuid=Et.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function sc(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var i=t.tracks,r=i.length,o=new Array(r),a={endingStart:ct,endingEnd:ct},s=0;s!==r;++s){var l=i[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function lc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function cc(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function uc(){Hn.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function hc(e,t,n){fo.call(this,e,t),this.meshPerAttribute=n||1}function dc(e,t,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ln.call(this,e,t,n),this.meshPerAttribute=i||1}function pc(e,t,n,i){this.ray=new hi(e,t),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function fc(e,t){return e.distance-t.distance}function mc(e,t,n,i){if(!1!==e.visible&&(e.raycast(t,n),!0===i))for(var r=e.children,o=0,a=r.length;o<a;o++)mc(r[o],t,n,!0)}function vc(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function gc(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function yc(e,t){this.min=void 0!==e?e:new Ct(1/0,1/0),this.max=void 0!==t?t:new Ct(-1/0,-1/0)}function bc(e,t){this.start=void 0!==e?e:new Tt,this.end=void 0!==t?t:new Tt}function xc(e){Cn.call(this),this.material=e,this.render=function(){}}function wc(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16711680,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new Hn,c=new Bn(2*a*3,3);l.addAttribute("position",c),Eo.call(this,l,new Ao({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Ac(e,t){Cn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Hn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,o=1;r<32;r++,o++){var a=r/32*Math.PI*2,s=o/32*Math.PI*2;i.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Bn(i,3));var l=new Ao({fog:!1});this.cone=new Eo(n,l),this.add(this.cone),this.update()}function Mc(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var i=0;i<t.children.length;i++)n.push.apply(n,e(t.children[i]));return n}(e),n=new Hn,i=[],r=[],o=new hn(0,0,1),a=new hn(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}n.addAttribute("position",new Bn(i,3)),n.addAttribute("color",new Bn(r,3));var c=new Ao({vertexColors:v,depthTest:!1,depthWrite:!1,transparent:!0});Eo.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ec(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var i=new Pa(t,4,2),r=new pi({wireframe:!0,fog:!1});fi.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Cc(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new Hn;n.addAttribute("position",new Bn([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var i=new Ao({fog:!1});Mo.call(this,n,i);var r=new Hn;r.addAttribute("position",new Bn([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new fi(r,new pi({side:d,fog:!1}))),this.update()}function Sc(e,t,n){Cn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new zo(t);i.rotateY(.5*Math.PI),this.material=new pi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=v);var r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.addAttribute("color",new Ln(o,3)),this.add(new fi(i,this.material)),this.update()}function Tc(e,t){this.lightProbe=e,this.size=t;var n={GAMMA_OUTPUT:""},i=new ui({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),r=new Pa(1,32,16);fi.call(this,r,i),this.onBeforeRender()}function _c(e,t,n,i){e=e||10,t=t||10,n=new hn(void 0!==n?n:4473924),i=new hn(void 0!==i?i:8947848);for(var r=t/2,o=e/t,a=e/2,s=[],l=[],c=0,u=0,h=-a;c<=t;c++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var d=c===r?n:i;d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3}var p=new Hn;p.addAttribute("position",new Bn(s,3)),p.addAttribute("color",new Bn(l,3));var f=new Ao({vertexColors:v});Eo.call(this,p,f)}function Pc(e,t,n,i,r,o){e=e||10,t=t||16,n=n||8,i=i||64,r=new hn(void 0!==r?r:4473924),o=new hn(void 0!==o?o:8947848);var a,s,l,c,u,h,d,p=[],f=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),a=Math.sin(l)*e,s=Math.cos(l)*e,p.push(0,0,0),p.push(a,0,s),d=1&c?r:o,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?r:o,h=e-e/n*c,u=0;u<i;u++)l=u/i*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,p.push(a,0,s),f.push(d.r,d.g,d.b),l=(u+1)/i*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,p.push(a,0,s),f.push(d.r,d.g,d.b);var m=new Hn;m.addAttribute("position",new Bn(p,3)),m.addAttribute("color",new Bn(f,3));var g=new Ao({vertexColors:v});Eo.call(this,m,g)}function Lc(e,t,n,i){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=i||2;var r=new Hn,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,a=new Float32Array(3*(3*o+3));r.addAttribute("position",new Ln(a,3));var s=new Ao({color:65280}),l=new Ao({color:16776960});Mo.call(this,r,[l,s]),this.update()}function kc(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==n?n:16776960,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Hn,c=new Bn(2*a*3,3);l.addAttribute("position",c),Eo.call(this,l,new Ao({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Ic(e,t,n){Cn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var i=new Hn;i.addAttribute("position",new Bn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new Ao({fog:!1});this.lightPlane=new Mo(i,r),this.add(this.lightPlane),(i=new Hn).addAttribute("position",new Bn([0,0,0,0,0,1],3)),this.targetLine=new Mo(i,r),this.add(this.targetLine),this.update()}function Oc(e){var t=new Hn,n=new Ao({color:16777215,vertexColors:m}),i=[],r=[],o={},a=new hn(16755200),s=new hn(16711680),l=new hn(43775),c=new hn(16777215),u=new hn(3355443);function h(e,t,n){d(e,n),d(t,n)}function d(e,t){i.push(0,0,0),r.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(i.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",c),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),t.addAttribute("position",new Bn(i,3)),t.addAttribute("color",new Bn(r,3)),Eo.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Dc(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Hn;r.setIndex(new Ln(n,1)),r.addAttribute("position",new Ln(i,3)),Eo.call(this,r,new Ao({color:t})),this.matrixAutoUpdate=!1,this.update()}function Rc(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Hn;r.setIndex(new Ln(i,1)),r.addAttribute("position",new Bn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Eo.call(this,r,new Ao({color:n})),this.geometry.computeBoundingSphere()}function Nc(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var i=void 0!==n?n:16776960,r=new Hn;r.addAttribute("position",new Bn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),Mo.call(this,r,new Ao({color:i}));var o=new Hn;o.addAttribute("position",new Bn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new fi(o,new pi({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function Vc(e,t,n,i,r,o){Cn.call(this),void 0===e&&(e=new Tt(0,0,1)),void 0===t&&(t=new Tt(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===o&&(o=.2*r),void 0===Dl&&((Dl=new Hn).addAttribute("position",new Bn([0,0,0,0,1,0],3)),(Rl=new Fa(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Mo(Dl,new Ao({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fi(Rl,new pi({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}function Bc(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Hn;n.addAttribute("position",new Bn(t,3)),n.addAttribute("color",new Bn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new Ao({vertexColors:v});Eo.call(this,n,i)}function Fc(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ns.call(this,e),this.type="catmullrom",this.closed=!0}function zc(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ns.call(this,e),this.type="catmullrom"}function Uc(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ns.call(this,e),this.type="catmullrom"}Jl.prototype=Object.create(Cn.prototype),Jl.prototype.constructor=Jl,Object.assign(Zl.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),$l.prototype=Object.assign(Object.create(Cn.prototype),{constructor:$l,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new Tt,t=new St,n=new Tt,i=new Tt,r=new Zl;return function(o){Cn.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;if(this.timeDelta=r.getDelta(),this.matrixWorld.decompose(e,t,n),i.set(0,0,-1).applyQuaternion(t),a.positionX){var l=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(e.x,l),a.positionY.linearRampToValueAtTime(e.y,l),a.positionZ.linearRampToValueAtTime(e.z,l),a.forwardX.linearRampToValueAtTime(i.x,l),a.forwardY.linearRampToValueAtTime(i.y,l),a.forwardZ.linearRampToValueAtTime(i.z,l),a.upX.linearRampToValueAtTime(s.x,l),a.upY.linearRampToValueAtTime(s.y,l),a.upZ.linearRampToValueAtTime(s.z,l)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(i.x,i.y,i.z,s.x,s.y,s.z)}}()}),ec.prototype=Object.assign(Object.create(Cn.prototype),{constructor:ec,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),tc.prototype=Object.assign(Object.create(ec.prototype),{constructor:tc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new Tt,t=new St,n=new Tt,i=new Tt;return function(r){if(Cn.prototype.updateMatrixWorld.call(this,r),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),i.set(0,0,1).applyQuaternion(t);var o=this.panner;if(o.positionX){var a=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(e.x,a),o.positionY.linearRampToValueAtTime(e.y,a),o.positionZ.linearRampToValueAtTime(e.z,a),o.orientationX.linearRampToValueAtTime(i.x,a),o.orientationY.linearRampToValueAtTime(i.y,a),o.orientationZ.linearRampToValueAtTime(i.z,a)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(i.x,i.y,i.z)}}}()}),Object.assign(nc.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(ic.prototype,{accumulate:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==i;++a)n[r+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,r<1){var a=3*t;this._mixBufferRegion(n,i,a,1-r,t)}for(var s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,i);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=3*n;e.getValue(t,i);for(var r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,i,r){if(i>=.5)for(var o=0;o!==r;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){St.slerpFlat(e,t,e,t,e,n,i)},_lerp:function(e,t,n,i,r){for(var o=1-i,a=0;a!==r;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*i}}}),Object.assign(rc.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(oc,{Composite:rc,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new oc.Composite(e,t,n):new oc(e,t,n)},sanitizeNodeName:(Xl=new RegExp("[\\[\\]\\.:\\/]","g"),function(e){return e.replace(/\s/g,"_").replace(Xl,"")}),parseTrackName:(zl="[^\\[\\]\\.:\\/]",Ul="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",jl=/((?:WC+[\/:])*)/.source.replace("WC",zl),Hl=/(WCOD+)?/.source.replace("WCOD",Ul),Gl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zl),Wl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zl),Ql=new RegExp("^"+jl+Hl+Gl+Wl+"$"),Yl=["material","materials","bones"],function(e){var t=Ql.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==Yl.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var i=function(e){for(var n=0;n<e.length;n++){var r=e[n];if(r.name===t||r.uuid===t)return r;var o=i(r.children);if(o)return o}return null},r=i(e.children);if(r)return r}return null}}),Object.assign(oc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=oc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===r){r=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===r){r=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(oc.prototype,{_getValue_unbound:oc.prototype.getValue,_setValue_unbound:oc.prototype.setValue}),Object.assign(ac.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var h=arguments[c],d=h.uuid,p=i[d];if(void 0===p){p=t++,i[d]=p,e.push(h);for(var f=0,m=s;f!==m;++f)a[f].push(new oc(h,r[f],o[f]))}else if(p<n){l=e[p];var v=--n,g=e[v];i[g.uuid]=p,e[p]=g,i[d]=v,e[v]=h;for(var f=0,m=s;f!==m;++f){var y=a[f],b=y[v],x=y[p];y[p]=b,void 0===x&&(x=new oc(h,r[f],o[f])),y[v]=x}}else e[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,c=n[l];if(void 0!==c&&c>=t){var u=t++,h=e[u];n[h.uuid]=c,e[c]=h,n[l]=u,e[u]=s;for(var d=0,p=r;d!==p;++d){var f=i[d],m=f[u],v=f[c];f[c]=m,f[u]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,o=r.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],c=l.uuid,u=i[c];if(void 0!==u)if(delete i[c],u<n){var h=--n,d=e[h],p=--t,f=e[p];i[d.uuid]=u,e[u]=d,i[f.uuid]=h,e[h]=f,e.pop();for(var m=0,v=o;m!==v;++m){var g=r[m],y=g[h],b=g[p];g[u]=y,g[h]=b,g.pop()}}else{var p=--t,f=e[p];i[f.uuid]=u,e[u]=f,e.pop();for(var m=0,v=o;m!==v;++m){var g=r[m];g[u]=g[p],g.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,o.push(e),a.push(t),r.push(u);for(var h=c,d=s.length;h!==d;++h){var p=s[h];u[h]=new oc(p,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],l=e[a];t[l]=n,o[n]=s,o.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}),Object.assign(sc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var i=this._clip.duration,r=e._clip.duration,o=r/i,a=i/r;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var i=this._mixer,r=i.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=e/a,l[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var o=(e-r)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulate(i,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){var i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,i=this.loop,r=this._loopCount,o=2202===i;if(0===e)return-1===r?t:o&&1==(1&r)?n-t:t;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,r+=Math.abs(a);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&r))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:ct:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:ct:2402)},_scheduleFading:function(e,t,n){var i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=t,a[1]=r+e,s[1]=n,this}}),lc.prototype=Object.assign(Object.create(t.prototype),{constructor:lc,_bindAction:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==r;++u){var h=i[u],d=h.name,p=c[d];if(void 0!==p)o[u]=p;else{if(void 0!==(p=o[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=t&&t._propertyBindings[u].binding.parsedPath;++(p=new ic(oc.create(n,d,f),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),o[u]=p}a[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}for(var r=e._propertyBindings,o=0,a=r.length;o!==a;++o){var s=r[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var i=this._actions,r=this._actionsByClip,o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;var u=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){var i=this._bindingsByRootAndName,r=i[t],o=this._bindings;void 0===r&&(r={},i[t]=r),r[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[r];e:{for(var c in a)break e;delete o[i]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new os(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?ms.findByName(n,e):e,o=null!==r?r.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[i];if(void 0!==l)return l;s=a.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var c=new sc(this,r,t);return this._bindAction(c,s),this._addInactiveAction(c,o,i),c},existingAction:function(e,t){var n=t||this._root,i=n.uuid,r="string"==typeof e?ms.findByName(n,e):e,o=r?r.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(var r=0;r!==i;++r)n[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){var s=t[a];s._update(i,e,r,o)}for(var l=this._bindings,c=this._nActiveBindings,a=0;a!==c;++a)l[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var o=r.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,o=r[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[t];if(void 0!==s)for(var l in s){var c=s[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),cc.prototype.clone=function(){return new cc(void 0===this.value.clone?this.value:this.value.clone())},uc.prototype=Object.assign(Object.create(Hn.prototype),{constructor:uc,isInstancedBufferGeometry:!0,copy:function(e){return Hn.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),hc.prototype=Object.assign(Object.create(fo.prototype),{constructor:hc,isInstancedInterleavedBuffer:!0,copy:function(e){return fo.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),dc.prototype=Object.assign(Object.create(Ln.prototype),{constructor:dc,isInstancedBufferAttribute:!0,copy:function(e){return Ln.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(pc.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var i=n||[];return mc(e,this,i,t),i.sort(fc),i},intersectObjects:function(e,t,n){var i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,o=e.length;r<o;r++)mc(e[r],this,i,t);return i.sort(fc),i}}),Object.assign(vc.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Et.clamp(t/this.radius,-1,1))),this}}),Object.assign(gc.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(yc.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Ct;return function(t,n){var i=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Ct),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Ct),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Ct),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Ct),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Ct;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(bc.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Tt),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Tt),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Tt),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(Bl=new Tt,Fl=new Tt,function(e,t){Bl.subVectors(e,this.start),Fl.subVectors(this.end,this.start);var n=Fl.dot(Fl),i=Fl.dot(Bl),r=i/n;return t&&(r=Et.clamp(r,0,1)),r}),closestPointToPoint:function(e,t,n){var i=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Tt),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),xc.prototype=Object.create(Cn.prototype),xc.prototype.constructor=xc,xc.prototype.isImmediateRenderObject=!0,wc.prototype=Object.create(Eo.prototype),wc.prototype.constructor=wc,wc.prototype.update=function(){var e=new Tt,t=new Tt,n=new _t;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,l=a.faces,c=0,u=0,h=l.length;u<h;u++)for(var d=l[u],p=0,f=d.vertexNormals.length;p<f;p++){var m=s[d[i[p]]],v=d.vertexNormals[p];e.copy(m).applyMatrix4(r),t.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry)for(var g=a.attributes.position,y=a.attributes.normal,c=0,p=0,f=g.count;p<f;p++)e.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(r),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1;o.needsUpdate=!0}}(),Ac.prototype=Object.create(Cn.prototype),Ac.prototype.constructor=Ac,Ac.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ac.prototype.update=function(){var e=new Tt;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Mc.prototype=Object.create(Eo.prototype),Mc.prototype.constructor=Mc,Mc.prototype.updateMatrixWorld=function(){var e=new Tt,t=new tn,n=new tn;return function(i){var r=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<r.length;s++){var c=r[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l+1,e.x,e.y,e.z),l+=2)}o.getAttribute("position").needsUpdate=!0,Cn.prototype.updateMatrixWorld.call(this,i)}}(),Ec.prototype=Object.create(fi.prototype),Ec.prototype.constructor=Ec,Ec.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ec.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Cc.prototype=Object.create(Mo.prototype),Cc.prototype.constructor=Cc,Cc.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Cc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},Sc.prototype=Object.create(Cn.prototype),Sc.prototype.constructor=Sc,Sc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Sc.prototype.update=function(){var e=new Tt,t=new hn,n=new hn;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=r.count;o<a;o++){var s=o<a/2?t:n;r.setXYZ(o,s.r,s.g,s.b)}r.needsUpdate=!0}i.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Tc.prototype=Object.create(fi.prototype),Tc.prototype.constructor=Tc,Tc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Tc.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},_c.prototype=Object.assign(Object.create(Eo.prototype),{constructor:_c,copy:function(e){return Eo.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Pc.prototype=Object.create(Eo.prototype),Pc.prototype.constructor=Pc,Lc.prototype=Object.create(Mo.prototype),Lc.prototype.constructor=Lc,Lc.prototype.update=function(){var e,t,n=this.audio,i=this.range,r=this.divisionsInnerAngle,o=this.divisionsOuterAngle,a=Et.degToRad(n.panner.coneInnerAngle),s=Et.degToRad(n.panner.coneOuterAngle),l=a/2,c=s/2,u=0,h=0,d=this.geometry,p=d.attributes.position;function f(n,r,o,a){var s=(r-n)/o;for(p.setXYZ(u,0,0,0),h++,e=n;e<r;e+=s)t=u+h,p.setXYZ(t,Math.sin(e)*i,0,Math.cos(e)*i),p.setXYZ(t+1,Math.sin(Math.min(e+s,r))*i,0,Math.cos(Math.min(e+s,r))*i),p.setXYZ(t+2,0,0,0),h+=3;d.addGroup(u,h,a),u+=h,h=0}d.clearGroups(),f(-c,-l,o,0),f(-l,l,r,1),f(l,c,o,0),p.needsUpdate=!0,a===s&&(this.material[0].visible=!1)},Lc.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},kc.prototype=Object.create(Eo.prototype),kc.prototype.constructor=kc,kc.prototype.update=function(){var e=new Tt,t=new Tt,n=new _t;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,l=0,c=0,u=s.length;c<u;c++){var h=s[c],d=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(i),t.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),r.setXYZ(l,e.x,e.y,e.z),l+=1,r.setXYZ(l,t.x,t.y,t.z),l+=1}r.needsUpdate=!0}}(),Ic.prototype=Object.create(Cn.prototype),Ic.prototype.constructor=Ic,Ic.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ic.prototype.update=function(){var e=new Tt,t=new Tt,n=new Tt;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),Oc.prototype=Object.create(Eo.prototype),Oc.prototype.constructor=Oc,Oc.prototype.update=function(){var e,t,n=new Tt,i=new Kr;function r(r,o,a,s){n.set(o,a,s).unproject(i);var l=t[r];if(void 0!==l)for(var c=e.getAttribute("position"),u=0,h=l.length;u<h;u++)c.setXYZ(l[u],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap,i.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),r("c",0,0,-1),r("t",0,0,1),r("n1",-1,-1,-1),r("n2",1,-1,-1),r("n3",-1,1,-1),r("n4",1,1,-1),r("f1",-1,-1,1),r("f2",1,-1,1),r("f3",-1,1,1),r("f4",1,1,1),r("u1",.7,1.1,-1),r("u2",-.7,1.1,-1),r("u3",0,2,-1),r("cf1",-1,0,1),r("cf2",1,0,1),r("cf3",0,-1,1),r("cf4",0,1,1),r("cn1",-1,0,-1),r("cn2",1,0,-1),r("cn3",0,-1,-1),r("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Dc.prototype=Object.create(Eo.prototype),Dc.prototype.constructor=Dc,Dc.prototype.update=function(){var e=new Jt;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,i=e.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Dc.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Dc.prototype.copy=function(e){return Eo.prototype.copy.call(this,e),this.object=e.object,this},Dc.prototype.clone=function(){return(new this.constructor).copy(this)},Rc.prototype=Object.create(Eo.prototype),Rc.prototype.constructor=Rc,Rc.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Cn.prototype.updateMatrixWorld.call(this,e))},Nc.prototype=Object.create(Mo.prototype),Nc.prototype.constructor=Nc,Nc.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?d:h,this.lookAt(this.plane.normal),Cn.prototype.updateMatrixWorld.call(this,e)},Vc.prototype=Object.create(Cn.prototype),Vc.prototype.constructor=Vc,Vc.prototype.setDirection=(Vl=new Tt,function(e){e.y>.99999?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(Vl.set(e.z,0,-e.x).normalize(),Nl=Math.acos(e.y),this.quaternion.setFromAxisAngle(Vl,Nl))}),Vc.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Vc.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Vc.prototype.copy=function(e){return Cn.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Vc.prototype.clone=function(){return(new this.constructor).copy(this)},Bc.prototype=Object.create(Eo.prototype),Bc.prototype.constructor=Bc,_s.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(_s.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Xs.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Pn,n=0,i=e.length;n<i;n++){var r=e[n];t.vertices.push(new Tt(r.x,r.y,r.z||0))}return t}}),Object.assign(Ks.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Fc.prototype=Object.create(Ns.prototype),zc.prototype=Object.create(Ns.prototype),Uc.prototype=Object.create(Ns.prototype),Object.assign(Uc.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),_c.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Mc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Sl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),cl.extractUrlBase(e)}}),Object.assign(dl.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(yc.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Jt.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),bc.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Et,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Et.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Et.ceilPowerOfTwo(e)}}),Object.assign(_t.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(tn.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new Tt),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,o)}}),$t.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},St.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(hi.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(di.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(di,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),di.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),di.getNormal(e,t,n,i)}}),Object.assign(qs.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Aa(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Da(this,e)}}),Object.assign(Ct.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Tt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Qt.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Pn.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Cn.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Cn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(yo.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(xo.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),bo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(_s.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),qr.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Js.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ln.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Hn.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Hn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Ma.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(cc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Kn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new hn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(Ka.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ui.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(co.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")}}),Object.defineProperties(co.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Gr.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Kt.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(Yt.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(so.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),ec.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,n=new _l;return n.load(e,function(e){t.setBuffer(e)}),this},nc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Jl.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var jc={merge:function(e,t,n){var i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),i=t.matrix,t=t.geometry),e.merge(t,i,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};Ht.crossOrigin=void 0,Ht.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Ts;r.setCrossOrigin(this.crossOrigin);var o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},Ht.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Ss;r.setCrossOrigin(this.crossOrigin);var o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},Ht.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ht.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Hc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};e.WebGLMultisampleRenderTarget=Xt,e.WebGLRenderTargetCube=Kt,e.WebGLRenderTarget=Yt,e.WebGLRenderer=co,e.ShaderLib=fn,e.UniformsLib=pn,e.UniformsUtils=cn,e.ShaderChunk=nn,e.FogExp2=uo,e.Fog=ho,e.Scene=po,e.Sprite=go,e.LOD=yo,e.SkinnedMesh=bo,e.Skeleton=xo,e.Bone=wo,e.Mesh=fi,e.LineSegments=Eo,e.LineLoop=Co,e.Line=Mo,e.Points=To,e.Group=Xr,e.VideoTexture=_o,e.DataTexture=qt,e.DataTexture2DArray=Ti,e.DataTexture3D=_i,e.CompressedTexture=Po,e.CubeTexture=Si,e.CanvasTexture=Lo,e.DepthTexture=ko,e.Texture=Wt,e.AnimationLoader=As,e.CompressedTextureLoader=Ms,e.DataTextureLoader=Es,e.CubeTextureLoader=Ss,e.TextureLoader=Ts,e.ObjectLoader=dl,e.MaterialLoader=ll,e.BufferGeometryLoader=ul,e.DefaultLoadingManager=bs,e.LoadingManager=ys,e.ImageLoader=Cs,e.ImageBitmapLoader=wl,e.FontLoader=Cl,e.FileLoader=ws,e.Loader=Sl,e.LoaderUtils=cl,e.Cache=gs,e.AudioLoader=_l,e.SpotLightShadow=el,e.SpotLight=tl,e.PointLight=nl,e.RectAreaLight=sl,e.HemisphereLight=Zs,e.HemisphereLightProbe=kl,e.DirectionalLightShadow=rl,e.DirectionalLight=ol,e.AmbientLight=al,e.AmbientLightProbe=Il,e.LightShadow=$s,e.Light=Js,e.LightProbe=Ll,e.StereoCamera=Ol,e.PerspectiveCamera=qr,e.OrthographicCamera=il,e.CubeCamera=Jl,e.ArrayCamera=Jr,e.Camera=Kr,e.AudioListener=$l,e.PositionalAudio=tc,e.AudioContext=Tl,e.AudioAnalyser=nc,e.Audio=ec,e.VectorKeyframeTrack=fs,e.StringKeyframeTrack=ps,e.QuaternionKeyframeTrack=ds,e.NumberKeyframeTrack=us,e.ColorKeyframeTrack=cs,e.BooleanKeyframeTrack=ls,e.PropertyMixer=ic,e.PropertyBinding=oc,e.KeyframeTrack=ss,e.AnimationUtils=ns,e.AnimationObjectGroup=ac,e.AnimationMixer=lc,e.AnimationClip=ms,e.Uniform=cc,e.InstancedBufferGeometry=uc,e.BufferGeometry=Hn,e.Geometry=Pn,e.InterleavedBufferAttribute=mo,e.InstancedInterleavedBuffer=hc,e.InterleavedBuffer=fo,e.InstancedBufferAttribute=dc,e.Face3=gn,e.Object3D=Cn,e.Raycaster=pc,e.Layers=bn,e.EventDispatcher=t,e.Clock=Zl,e.QuaternionLinearInterpolant=hs,e.LinearInterpolant=os,e.DiscreteInterpolant=as,e.CubicInterpolant=rs,e.Interpolant=is,e.Triangle=di,e.Math=Et,e.Spherical=vc,e.Cylindrical=gc,e.Plane=$t,e.Frustum=en,e.Sphere=Zt,e.Ray=hi,e.Matrix4=tn,e.Matrix3=_t,e.Box3=Jt,e.Box2=yc,e.Line3=bc,e.Euler=yn,e.Vector4=Qt,e.Vector3=Tt,e.Vector2=Ct,e.Quaternion=St,e.Color=hn,e.SphericalHarmonics3=Pl,e.ImmediateRenderObject=xc,e.VertexNormalsHelper=wc,e.SpotLightHelper=Ac,e.SkeletonHelper=Mc,e.PointLightHelper=Ec,e.RectAreaLightHelper=Cc,e.HemisphereLightHelper=Sc,e.LightProbeHelper=Tc,e.GridHelper=_c,e.PolarGridHelper=Pc,e.PositionalAudioHelper=Lc,e.FaceNormalsHelper=kc,e.DirectionalLightHelper=Ic,e.CameraHelper=Oc,e.BoxHelper=Dc,e.Box3Helper=Rc,e.PlaneHelper=Nc,e.ArrowHelper=Vc,e.AxesHelper=Bc,e.Shape=qs,e.Path=Ks,e.ShapePath=Al,e.Font=Ml,e.CurvePath=Xs,e.Curve=_s,e.ImageUtils=Ht,e.ShapeUtils=ba,e.WebGLUtils=Yr,e.WireframeGeometry=Io,e.ParametricGeometry=Oo,e.ParametricBufferGeometry=Do,e.TetrahedronGeometry=Vo,e.TetrahedronBufferGeometry=Bo,e.OctahedronGeometry=Fo,e.OctahedronBufferGeometry=zo,e.IcosahedronGeometry=Uo,e.IcosahedronBufferGeometry=jo,e.DodecahedronGeometry=Ho,e.DodecahedronBufferGeometry=Go,e.PolyhedronGeometry=Ro,e.PolyhedronBufferGeometry=No,e.TubeGeometry=Wo,e.TubeBufferGeometry=Qo,e.TorusKnotGeometry=Yo,e.TorusKnotBufferGeometry=Xo,e.TorusGeometry=Ko,e.TorusBufferGeometry=qo,e.TextGeometry=Sa,e.TextBufferGeometry=Ta,e.SphereGeometry=_a,e.SphereBufferGeometry=Pa,e.RingGeometry=La,e.RingBufferGeometry=ka,e.PlaneGeometry=Qn,e.PlaneBufferGeometry=Yn,e.LatheGeometry=Ia,e.LatheBufferGeometry=Oa,e.ShapeGeometry=Da,e.ShapeBufferGeometry=Ra,e.ExtrudeGeometry=Aa,e.ExtrudeBufferGeometry=Ma,e.EdgesGeometry=Va,e.ConeGeometry=za,e.ConeBufferGeometry=Ua,e.CylinderGeometry=Ba,e.CylinderBufferGeometry=Fa,e.CircleGeometry=ja,e.CircleBufferGeometry=Ha,e.BoxGeometry=Gn,e.CubeGeometry=Gn,e.BoxBufferGeometry=Wn,e.ShadowMaterial=Wa,e.SpriteMaterial=vo,e.RawShaderMaterial=Qa,e.ShaderMaterial=ui,e.PointsMaterial=So,e.MeshPhysicalMaterial=Xa,e.MeshStandardMaterial=Ya,e.MeshPhongMaterial=Ka,e.MeshToonMaterial=qa,e.MeshNormalMaterial=Ja,e.MeshLambertMaterial=Za,e.MeshDepthMaterial=jr,e.MeshDistanceMaterial=Hr,e.MeshBasicMaterial=pi,e.MeshMatcapMaterial=$a,e.LineDashedMaterial=es,e.LineBasicMaterial=Ao,e.Material=Kn,e.Float64BufferAttribute=Fn,e.Float32BufferAttribute=Bn,e.Uint32BufferAttribute=Vn,e.Int32BufferAttribute=Nn,e.Uint16BufferAttribute=Rn,e.Int16BufferAttribute=Dn,e.Uint8ClampedBufferAttribute=On,e.Uint8BufferAttribute=In,e.Int8BufferAttribute=kn,e.BufferAttribute=Ln,e.ArcCurve=Ls,e.CatmullRomCurve3=Ns,e.CubicBezierCurve=zs,e.CubicBezierCurve3=Us,e.EllipseCurve=Ps,e.LineCurve=js,e.LineCurve3=Hs,e.QuadraticBezierCurve=Gs,e.QuadraticBezierCurve3=Ws,e.SplineCurve=Qs,e.REVISION=o,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},e.CullFaceNone=a,e.CullFaceBack=s,e.CullFaceFront=l,e.CullFaceFrontBack=3,e.FrontFaceDirectionCW=0,e.FrontFaceDirectionCCW=1,e.BasicShadowMap=0,e.PCFShadowMap=c,e.PCFSoftShadowMap=u,e.FrontSide=h,e.BackSide=d,e.DoubleSide=p,e.FlatShading=1,e.SmoothShading=2,e.NoColors=f,e.FaceColors=m,e.VertexColors=v,e.NoBlending=g,e.NormalBlending=y,e.AdditiveBlending=b,e.SubtractiveBlending=x,e.MultiplyBlending=w,e.CustomBlending=A,e.AddEquation=M,e.SubtractEquation=E,e.ReverseSubtractEquation=C,e.MinEquation=S,e.MaxEquation=T,e.ZeroFactor=_,e.OneFactor=P,e.SrcColorFactor=L,e.OneMinusSrcColorFactor=k,e.SrcAlphaFactor=I,e.OneMinusSrcAlphaFactor=O,e.DstAlphaFactor=D,e.OneMinusDstAlphaFactor=R,e.DstColorFactor=N,e.OneMinusDstColorFactor=V,e.SrcAlphaSaturateFactor=B,e.NeverDepth=F,e.AlwaysDepth=z,e.LessDepth=U,e.LessEqualDepth=j,e.EqualDepth=H,e.GreaterEqualDepth=G,e.GreaterDepth=W,e.NotEqualDepth=Q,e.MultiplyOperation=Y,e.MixOperation=X,e.AddOperation=K,e.NoToneMapping=q,e.LinearToneMapping=J,e.ReinhardToneMapping=Z,e.Uncharted2ToneMapping=$,e.CineonToneMapping=ee,e.ACESFilmicToneMapping=te,e.UVMapping=300,e.CubeReflectionMapping=ne,e.CubeRefractionMapping=ie,e.EquirectangularReflectionMapping=re,e.EquirectangularRefractionMapping=oe,e.SphericalReflectionMapping=ae,e.CubeUVReflectionMapping=se,e.CubeUVRefractionMapping=le,e.RepeatWrapping=ce,e.ClampToEdgeWrapping=ue,e.MirroredRepeatWrapping=he,e.NearestFilter=de,e.NearestMipMapNearestFilter=pe,e.NearestMipMapLinearFilter=fe,e.LinearFilter=me,e.LinearMipMapNearestFilter=ve,e.LinearMipMapLinearFilter=ge,e.UnsignedByteType=ye,e.ByteType=be,e.ShortType=xe,e.UnsignedShortType=we,e.IntType=Ae,e.UnsignedIntType=Me,e.FloatType=Ee,e.HalfFloatType=Ce,e.UnsignedShort4444Type=Se,e.UnsignedShort5551Type=Te,e.UnsignedShort565Type=_e,e.UnsignedInt248Type=Pe,e.AlphaFormat=Le,e.RGBFormat=ke,e.RGBAFormat=Ie,e.LuminanceFormat=Oe,e.LuminanceAlphaFormat=De,e.RGBEFormat=Re,e.DepthFormat=Ne,e.DepthStencilFormat=Ve,e.RedFormat=Be,e.RGB_S3TC_DXT1_Format=Fe,e.RGBA_S3TC_DXT1_Format=ze,e.RGBA_S3TC_DXT3_Format=Ue,e.RGBA_S3TC_DXT5_Format=je,e.RGB_PVRTC_4BPPV1_Format=He,e.RGB_PVRTC_2BPPV1_Format=Ge,e.RGBA_PVRTC_4BPPV1_Format=We,e.RGBA_PVRTC_2BPPV1_Format=Qe,e.RGB_ETC1_Format=Ye,e.RGBA_ASTC_4x4_Format=Xe,e.RGBA_ASTC_5x4_Format=Ke,e.RGBA_ASTC_5x5_Format=qe,e.RGBA_ASTC_6x5_Format=Je,e.RGBA_ASTC_6x6_Format=Ze,e.RGBA_ASTC_8x5_Format=$e,e.RGBA_ASTC_8x6_Format=et,e.RGBA_ASTC_8x8_Format=tt,e.RGBA_ASTC_10x5_Format=nt,e.RGBA_ASTC_10x6_Format=it,e.RGBA_ASTC_10x8_Format=rt,e.RGBA_ASTC_10x10_Format=ot,e.RGBA_ASTC_12x10_Format=at,e.RGBA_ASTC_12x12_Format=st,e.LoopOnce=2200,e.LoopRepeat=lt,e.LoopPingPong=2202,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.ZeroCurvatureEnding=ct,e.ZeroSlopeEnding=2401,e.WrapAroundEnding=2402,e.TrianglesDrawMode=ut,e.TriangleStripDrawMode=ht,e.TriangleFanDrawMode=dt,e.LinearEncoding=pt,e.sRGBEncoding=ft,e.GammaEncoding=mt,e.RGBEEncoding=vt,e.LogLuvEncoding=3003,e.RGBM7Encoding=gt,e.RGBM16Encoding=yt,e.RGBDEncoding=bt,e.BasicDepthPacking=xt,e.RGBADepthPacking=wt,e.TangentSpaceNormalMap=At,e.ObjectSpaceNormalMap=Mt,e.Face4=function(e,t,n,i,r,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new gn(e,t,n,r,o,a)},e.LineStrip=0,e.LinePieces=1,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new To(e,t)},e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new go(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new To(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new So(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new So(e)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new So(e)},e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Tt(e,t,n)},e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Ln(e,t).setDynamic(!0)},e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new kn(e,t)},e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new In(e,t)},e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new On(e,t)},e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Dn(e,t)},e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Rn(e,t)},e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Nn(e,t)},e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Vn(e,t)},e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Bn(e,t)},e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Fn(e,t)},e.ClosedSplineCurve3=Fc,e.SplineCurve3=zc,e.Spline=Uc,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Bc(e)},e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Dc(e,t)},e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Eo(new Va(e.geometry),new Ao({color:void 0!==t?t:16777215}))},e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Eo(new Io(e.geometry),new Ao({color:void 0!==t?t:16777215}))},e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ws(e)},e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Es(e)},e.GeometryUtils=jc,e.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},e.SceneUtils=Hc,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var i=n(198);e.exports=function(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){var i=n(59),r=n(217),o=Object.prototype;r!==o.toString&&i(o,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var i=n(9),r=n(18),o=n(96),a=n(25),s=n(42),l=n(29),c=n(105),u=n(124),h=n(113),d=n(27)("isConcatSpreadable"),p=!r(function(){var e=[];return e[d]=!1,e.concat()[0]!==e}),f=h("concat"),m=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)};i({target:"Array",proto:!0,forced:!p||!f},{concat:function(e){var t,n,i,r,o,a=s(this),h=u(a,0),d=0;for(t=-1,i=arguments.length;t<i;t++)if(o=-1===t?a:arguments[t],m(o)){if(d+(r=l(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,d++)n in o&&c(h,d,o[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(h,d++,o)}return h.length=d,h}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(25);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var i=n(20),r=n(102),o=n(120),a=n(184),s=i.Symbol,l=r("wks");e.exports=function(e){return l[e]||(l[e]=a&&s[e]||(a?s:o)("Symbol."+e))}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var i=n(67),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){"use strict";n.d(t,"a",function(){return y});n(44);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(8),d=n.n(h),p=n(11),f=n.n(p),m=n(0),v=n.n(m),g=n(2),y=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={inAnimation:!1,isVisible:n.props.isOpened,duration:n.props.duration||g.E},n.showComponent=n.showComponent.bind(d()(n)),n.hideComponent=n.hideComponent.bind(d()(n)),n}return f()(t,e),a()(t,[{key:"showComponent",value:function(){var e=this;clearTimeout(this.timeoutRef),this.setState({inAnimation:!0,isVisible:!1},function(){setTimeout(function(){return e.setState({isVisible:!0,inAnimation:!1})},1)})}},{key:"hideComponent",value:function(){var e=this;this.setState({inAnimation:!0,isVisible:!0},function(){setTimeout(function(){return e.setState({isVisible:!1,inAnimation:!0})},1),e.timeoutRef=setTimeout(function(){return e.setState({inAnimation:!1,isVisible:!1})},e.state.duration)})}},{key:"componentDidUpdate",value:function(e){var t=this.props.isOpened;t&&!e.isOpened&&this.showComponent(),!t&&e.isOpened&&this.hideComponent()}},{key:"shouldComponentUpdate",value:function(e,t){return e.isOpened!==this.props.isOpened||t.inAnimation!==this.state.inAnimation||t.isVisible!==this.state.isVisible||e.children!==this.props.children}},{key:"render",value:function(){var e=this.props,t=e.isOpened,n=e.children,i=this.state,r=i.inAnimation,o=i.isVisible,a=i.duration;return t||r||o?v.a.createElement(m.Fragment,null,v.a.Children.map(n,function(e){return v.a.cloneElement(e,{isVisible:o,transitionDuration:"".concat(a/1e3,"s")})})," "):null}}]),t}(m.Component)},function(e,t,n){var i=n(18);e.exports=!i(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i,r=n(4),o=n.n(r),a=n(5),s=n.n(a);!function(e){e[e.ALL=0]="ALL",e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(i||(i={}));var l=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ERROR;o()(this,e),this._level=void 0,this.setLevel(t)}return s()(e,[{key:"setLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ERROR;this._level=e}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._level<=i.INFO&&console.info(e,t)}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._level<=i.WARNING&&console.warn(e,t)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._level<=i.ERROR&&console.error(e,t)}}]),e}());t.b=l},function(e,t,n){var i=n(567),r=n(568),o=n(569);e.exports=function(e,t){return i(e)||r(e,t)||o()}},function(e,t,n){"use strict";var i=n(9),r=n(169);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){"use strict";var i,r=n(31),o=n(20),a=n(25),s=n(43),l=n(141),c=n(49),u=n(59),h=n(38).f,d=n(108),p=n(153),f=n(27),m=n(120),v=o.DataView,g=v&&v.prototype,y=o.Int8Array,b=y&&y.prototype,x=o.Uint8ClampedArray,w=x&&x.prototype,A=y&&d(y),M=b&&d(b),E=Object.prototype,C=E.isPrototypeOf,S=f("toStringTag"),T=m("TYPED_ARRAY_TAG"),_=!(!o.ArrayBuffer||!v),P=_&&!!p,L=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I=function(e){return a(e)&&s(k,l(e))};for(i in k)o[i]||(P=!1);if((!P||"function"!=typeof A||A===Function.prototype)&&(A=function(){throw TypeError("Incorrect invocation")},P))for(i in k)o[i]&&p(o[i],A);if((!P||!M||M===E)&&(M=A.prototype,P))for(i in k)o[i]&&p(o[i].prototype,M);if(P&&d(w)!==M&&p(w,M),r&&!s(M,S))for(i in L=!0,h(M,S,{get:function(){return a(this)?this[T]:void 0}}),k)o[i]&&c(o[i],T,i);_&&p&&d(g)!==E&&p(g,E),e.exports={NATIVE_ARRAY_BUFFER:_,NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:L&&T,aTypedArray:function(e){if(I(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(C.call(A,e))return e}else for(var t in k)if(s(k,i)){var n=o[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportProto:function(e,t,n){if(r){if(n)for(var i in k){var a=o[i];a&&s(a.prototype,e)&&delete a.prototype[e]}M[e]&&!n||u(M,e,n?t:P&&b[e]||t)}},exportStatic:function(e,t,n){var i,a;if(r){if(p){if(n)for(i in k)(a=o[i])&&s(a,e)&&delete a[e];if(A[e]&&!n)return;try{return u(A,e,n?t:P&&y[e]||t)}catch(e){}}for(i in k)!(a=o[i])||a[e]&&!n||u(a,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||s(k,t)},isTypedArray:I,TypedArray:A,TypedArrayPrototype:M}},function(e,t,n){var i=n(20),r=n(185),o=n(169),a=n(49);for(var s in r){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(e){c.forEach=o}}},function(e,t,n){var i=n(31),r=n(38).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!i||"name"in o||r(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var i=n(31),r=n(163),o=n(26),a=n(72),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("small")},{small:function(){return r(this,"small","","")}})},function(e,t,n){"use strict";var i=n(64),r=n(131),o=n(175),a=n(73),s=n(223),l=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){l(this,{type:"Array Iterator",target:i(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var i=n(564),r=n(565),o=n(566);e.exports=function(e){return i(e)||r(e)||o()}},function(e,t,n){var i=n(48);e.exports=function(e){return Object(i(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var i=n(9),r=n(60).map;i({target:"Array",proto:!0,forced:!n(113)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i,r,o,a=n(9),s=n(103),l=n(20),c=n(122),u=n(157),h=n(107),d=n(155),p=n(25),f=n(69),m=n(133),v=n(66),g=n(174),y=n(187),b=n(98),x=n(234).set,w=n(299),A=n(300),M=n(504),E=n(301),C=n(505),S=n(190),T=n(73),_=n(138),P=n(27)("species"),L="Promise",k=T.get,I=T.set,O=T.getterFor(L),D=l.Promise,R=l.TypeError,N=l.document,V=l.process,B=l.fetch,F=V&&V.versions,z=F&&F.v8||"",U=E.f,j=U,H="process"==v(V),G=!!(N&&N.createEvent&&l.dispatchEvent),W=_(L,function(){var e=D.resolve(1),t=function(){},n=(e.constructor={})[P]=function(e){e(t,t)};return!((H||"function"==typeof PromiseRejectionEvent)&&(!s||e.finally)&&e.then(t)instanceof n&&0!==z.indexOf("6.6")&&-1===S.indexOf("Chrome/66"))}),Q=W||!y(function(e){D.all(e).catch(function(){})}),Y=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;w(function(){for(var r=t.value,o=1==t.state,a=0;i.length>a;){var s,l,c,u=i[a++],h=o?u.ok:u.fail,d=u.resolve,p=u.reject,f=u.domain;try{h?(o||(2===t.rejection&&Z(e,t),t.rejection=1),!0===h?s=r:(f&&f.enter(),s=h(r),f&&(f.exit(),c=!0)),s===u.promise?p(R("Promise-chain cycle")):(l=Y(s))?l.call(s,d,p):d(s)):p(r)}catch(e){f&&!c&&f.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&q(e,t)})}},K=function(e,t,n){var i,r;G?((i=N.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),l.dispatchEvent(i)):i={promise:t,reason:n},(r=l["on"+e])?r(i):"unhandledrejection"===e&&M("Unhandled promise rejection",n)},q=function(e,t){x.call(l,function(){var n,i=t.value;if(J(t)&&(n=C(function(){H?V.emit("unhandledRejection",i,e):K("unhandledrejection",e,i)}),t.rejection=H||J(t)?2:1,n.error))throw n.value})},J=function(e){return 1!==e.rejection&&!e.parent},Z=function(e,t){x.call(l,function(){H?V.emit("rejectionHandled",e):K("rejectionhandled",e,t.value)})},$=function(e,t,n,i){return function(r){e(t,n,r,i)}},ee=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,X(e,t,!0))},te=function(e,t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===n)throw R("Promise can't be resolved itself");var r=Y(n);r?w(function(){var i={done:!1};try{r.call(n,$(te,e,i,t),$(ee,e,i,t))}catch(n){ee(e,i,n,t)}}):(t.value=n,t.state=1,X(e,t,!1))}catch(n){ee(e,{done:!1},n,t)}}};W&&(D=function(e){m(this,D,L),f(e),i.call(this);var t=k(this);try{e($(te,this,t),$(ee,this,t))}catch(e){ee(this,t,e)}},(i=function(e){I(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(D.prototype,{then:function(e,t){var n=O(this),i=U(b(this,D));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=H?V.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&X(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=k(e);this.promise=e,this.resolve=$(te,e,t),this.reject=$(ee,e,t)},E.f=U=function(e){return e===D||e===o?new r(e):j(e)},s||"function"!=typeof B||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return A(D,B.apply(l,arguments))}})),a({global:!0,wrap:!0,forced:W},{Promise:D}),h(D,L,!1,!0),d(L),o=c.Promise,a({target:L,stat:!0,forced:W},{reject:function(e){var t=U(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:s||W},{resolve:function(e){return A(s&&this===o?D:this,e)}}),a({target:L,stat:!0,forced:Q},{all:function(e){var t=this,n=U(t),i=n.resolve,r=n.reject,o=C(function(){var n=f(t.resolve),o=[],a=0,s=1;g(e,function(e){var l=a++,c=!1;o.push(void 0),s++,n.call(t,e).then(function(e){c||(c=!0,o[l]=e,--s||i(o))},r)}),--s||i(o)});return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=U(t),i=n.reject,r=C(function(){var r=f(t.resolve);g(e,function(e){r.call(t,e).then(n.resolve,i)})});return r.error&&i(r.value),n.promise}})},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"a",function(){return m});n(221);var i=n(0),r=n.n(i),o=n(2),a=n(17),s=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("path",{fill:s,stroke:"none",opacity:"0.5",d:"M20.8060327,14.5925415 C21.5558753,13.5910298 22,12.3473803 22,11 C22,7.6862915 19.3137085,5 16,5 C12.6862915,5 10,7.6862915 10,11 C10,14.3137085 12.6862915,17 16,17 C16.0513575,17 16.1025644,16.9993547 16.1536129,16.9980719 L16.1603093,11.1000004 L20.8060327,14.5925415 Z"}),r.a.createElement("path",{stroke:s,fill:"none",d:"M20.8042039,14.5949827 C21.5551531,13.5930511 22,12.3484753 22,11 C22,7.6862915 19.3137085,5 16,5 C12.6862915,5 10,7.6862915 10,11 C10,14.3137085 12.6862915,17 16,17"}),r.a.createElement("polygon",{stroke:c,fill:"none",points:"25.2034312 24.7502881 32.2488179 23.1930386 16.162848 11.1000004 16.1399994 31.2245992 21.6236937 26.5350794 25.0817268 33.4708207 28.6614642 31.6860294 25.2034312 24.7502881"}))},l=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=(e.fill,e.base),c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("g",{id:"Arrows",stroke:s,fill:"none"},r.a.createElement("path",{d:"M6,12 L11,12"}),r.a.createElement("path",{d:"M24,12 L34,12"}),r.a.createElement("polyline",{points:"8 15 5 12 8 9"}),r.a.createElement("polyline",{points:"32 9 35 12 32 15"})),r.a.createElement("g",{id:"Mouse",stroke:c,fill:"none"},r.a.createElement("path",{d:"M29.7618022,19.2124563 L29.922526,24 C30.1772746,28.9705627 25.7348083,34 20,34 C14.2651917,34 9.82272543,28.9705627 10.077474,24 L10.2381978,19.2124563"}),r.a.createElement("path",{d:"M10.2381978,19.2124563 C13.4921319,19.7374854 16.7460659,20 20,20 C23.2539341,20 26.5078681,19.7374854 29.7618022,19.2124563"}),r.a.createElement("path",{d:"M29.7618022,19.2124563 L29.461263,14 C29.2420273,9.72234966 26.0742056,6.14172211 22.0271144,5.22654883"})),r.a.createElement("path",{fill:c,stroke:"none",d:"M20,10 C20.5522847,10 21,10.4477153 21,11 L21,13 C21,13.5522847 20.5522847,14 20,14 C19.4477153,14 19,13.5522847 19,13 L19,11 C19,10.4477153 19.4477153,10 20,10 Z"}),r.a.createElement("path",{id:"Button",stroke:s,fill:s,fillOpacity:"0.5",d:"M20,8 L20,5.5 C15.0294373,5.5 10.7934855,9.7608081 10.538737,14.4 L10.2381978,19.2649593 C13.4921319,19.7549864 16.7460659,20 20,20 L20,16 C18.3431458,16 17,14.6568542 17,13 L17,11 C17,9.34314575 18.3431458,8 20,8 Z"}))},c=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("g",{id:"Arrows",stroke:s,fill:"none"},r.a.createElement("path",{d:"M6,12 L16,12"}),r.a.createElement("path",{d:"M29.5,12 L34,12"}),r.a.createElement("polyline",{points:"8 15 5 12 8 9"}),r.a.createElement("polyline",{points:"32 9 35 12 32 15"})),r.a.createElement("g",{id:"Mouse",stroke:c,fill:"none"},r.a.createElement("path",{d:"M29.7618022,19.2124563 L29.922526,24 C30.1772746,28.9705627 25.7348083,34 20,34 C14.2651917,34 9.82272543,28.9705627 10.077474,24 L10.2381978,19.2124563"}),r.a.createElement("path",{d:"M10.2381978,19.2124563 C13.4921319,19.7374854 16.7460659,20 20,20 C23.2539341,20 26.5078681,19.7374854 29.7618022,19.2124563"}),r.a.createElement("path",{d:"M18,5.22046026 C13.9399513,6.12574053 10.7584621,9.71280127 10.538737,14 L10.2381978,19.2124563"})),r.a.createElement("path",{fill:c,stroke:"none",d:"M20,10 C20.5522847,10 21,10.4477153 21,11 L21,13 C21,13.5522847 20.5522847,14 20,14 C19.4477153,14 19,13.5522847 19,13 L19,11 C19,10.4477153 19.4477153,10 20,10 Z"}),r.a.createElement("path",{stroke:s,fill:s,fillOpacity:"0.5",d:"M20,16 L20,20 C23.2539341,20 26.5078681,19.7549864 29.7618022,19.2649593 L29.461263,14.4 C29.2065145,9.7608081 24.9705627,5.5 20,5.5 L20,8 C21.6568542,8 23,9.34314575 23,11 L23,13 C23,14.6568542 21.6568542,16 20,16 Z"}))},u=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("g",{id:"Mouse",stroke:c,fill:"none"},r.a.createElement("path",{d:"M29.461263,14 C29.2065145,9.02943725 24.9705627,5 20,5 C15.0294373,5 10.7934855,9.02943725 10.538737,14 L10.2381978,19.2124563 C13.4921319,19.7374854 16.7460659,20 20,20 C23.2539341,20 26.5078681,19.7374854 29.7618022,19.2124563 L29.461263,14 Z"}),r.a.createElement("path",{d:"M29.7618022,19.2124563 L29.922526,24 C30.1772746,28.9705627 25.7348083,34 20,34 C14.2651917,34 9.82272543,28.9705627 10.077474,24 L10.2381978,19.2124563"})),r.a.createElement("path",{stroke:s,fill:s,fillOpacity:"0.5",d:"M20,9 C21.1045695,9 22,9.8954305 22,11 L22,13 C22,14.1045695 21.1045695,15 20,15 C18.8954305,15 18,14.1045695 18,13 L18,11 C18,9.8954305 18.8954305,9 20,9 Z"}))},h=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("g",{id:"Arrows",stroke:s,fill:"none"},r.a.createElement("path",{d:"M8,9 L11.5,9"}),r.a.createElement("polyline",{points:"10 12 7 9 10 6"}),r.a.createElement("path",{d:"M21,9 L32,9"}),r.a.createElement("polyline",{points:"29 6 32 9 29 12"})),r.a.createElement("g",{id:"Hand",stroke:c,fill:"none"},r.a.createElement("path",{d:"M16.7278731,33.7439544 C15.4754639,33.4326172 13.463509,32.4941023 13.0816102,30.3282469 C12.7924149,28.688139 12.1955251,27.5020556 11.2909406,26.7699967 L8.83533856,25.0505656 C7.93121085,24.4174886 7.71148087,23.1713379 8.34455791,22.2672102 C8.97763495,21.3630825 10.2237856,21.1433525 11.1279133,21.7764295 L14.9089439,24.4203355"}),r.a.createElement("path",{d:"M15.0874658,25.4297911 L11.9617986,7.7032515 C11.7699921,6.61546289 12.4963292,5.57814612 13.5841178,5.38633964 C14.6719064,5.19453315 15.7092231,5.92087018 15.9010296,7.00865879 L17.926925,18.4980826"}),r.a.createElement("path",{d:"M18.1584559,19.8111596 L15.8142055,6.51625491 C15.6223991,5.4284663 16.3487361,4.39114953 17.4365247,4.19934305 C18.5243133,4.00753657 19.5616301,4.73387359 19.7534365,5.8216622 L22.0976869,19.1165669"}),r.a.createElement("path",{d:"M22.0976869,19.1165669 L21.7503906,17.1469514 C21.5585841,16.0591628 22.2849211,15.021846 23.3727097,14.8300395 C24.4604983,14.638233 25.4978151,15.36457 25.6896216,16.4523586 L26.2105661,19.4067819"}),r.a.createElement("path",{d:"M26.1526834,19.0785127 L26.036918,18.4219742 C25.8451115,17.3341855 26.5714485,16.2968688 27.6592371,16.1050623 C28.7470257,15.9132558 29.7843425,16.6395928 29.976149,17.7273814 L31.7126307,27.575459"})))},d=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("g",{id:"Arrows",stroke:s,fill:"none"},r.a.createElement("path",{d:"M8,9 L13.5,9"}),r.a.createElement("polyline",{points:"10 12 7 9 10 6"}),r.a.createElement("path",{d:"M18.5,9 L32,9"}),r.a.createElement("polyline",{points:"29 6 32 9 29 12"})),r.a.createElement("g",{id:"Hand",stroke:c,fill:"none"},r.a.createElement("path",{id:"Pointer",d:"M16.0047223,20.696709 L13.747296,7.89420824 C13.5554895,6.80641963 14.2818265,5.76910286 15.3696151,5.57729637 C16.4574037,5.38548989 17.4947205,6.11182692 17.686527,7.19961553 L19.9439533,20.0021163"}),r.a.createElement("path",{d:"M16,25 L16,20.7000008"}),r.a.createElement("path",{d:"M20,20 L20,17 C20,15.8954305 20.8954305,15 22,15 C23.1045695,15 24,15.8954305 24,17 L24,20"}),r.a.createElement("path",{d:"M24,21 L24,19 C24,17.8954305 24.8954305,17 26,17 C27.1045695,17 28,17.8954305 28,19 L28,22"}),r.a.createElement("path",{d:"M28,21.6666667 L28,21 C28,19.8954305 28.8954305,19 30,19 C31.1045695,19 32,19.8954305 32,21 L32,30"}),r.a.createElement("path",{d:"M16.1717465,33.4727062 C14.7846103,33.4727062 13.1740099,31.6749913 13.1740099,29.4757241 C13.1740099,27.8103149 12.7921494,26.5386019 12.0284283,25.6605852 L9.90870842,23.5408653 C9.12824912,22.760406 9.12824912,21.4950315 9.90870842,20.7145722 C10.6891677,19.9341129 11.9545423,19.9341129 12.7350016,20.7145722 L15.9994804,23.9748803"})))},p=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("g",{id:"Arrows",stroke:s,fill:"none"},r.a.createElement("path",{d:"M9,20 L19,10"}),r.a.createElement("polyline",{points:"8.76000023 16 8.76000023 20.2426407 13.0026409 20.2426407"}),r.a.createElement("polyline",{points:"15.7600002 9 20.0026409 9 20 13.2426407"})),r.a.createElement("g",{id:"Hand",stroke:c,fill:"none"},r.a.createElement("path",{id:"Pointer",d:"M16.8021022,26.0449265 L18.4290487,22.3907446 C19.3593992,20.3011432 20.0341986,18.323335 20.1656583,17.7969798 L22.9219169,6.76111445 C23.1891364,5.68935538 24.2745931,5.03714724 25.3463521,5.30436679 C26.4181112,5.57158633 27.0703193,6.65704297 26.8030998,7.72880203 L23.6581151,20.3426465"}),r.a.createElement("path",{d:"M23.7101771,20.3635094 L24.9303871,17.622873 C25.379656,16.6137985 26.5618768,16.1599865 27.5709513,16.6092554 C28.5800257,17.0585243 29.0338378,18.2407451 28.5845689,19.2498196 L27.364359,21.9904559"}),r.a.createElement("path",{d:"M26.9576223,22.9040014 L27.7710956,21.0769105 C28.2203645,20.067836 29.4025854,19.614024 30.4116598,20.0632929 C31.4207343,20.5125617 31.8745463,21.6947826 31.4252774,22.7038571 L30.2050675,25.4444934"}),r.a.createElement("path",{d:"M30.3406464,25.1399783 L30.6118042,24.530948 C31.061073,23.5218735 32.2432939,23.0680615 33.2523684,23.5173303 C34.2614428,23.9665992 34.7152549,25.1488201 34.265986,26.1578945 L30.6053562,34.3798037"}),r.a.createElement("path",{d:"M15.7125773,31.8521462 C14.8975991,30.880893 13.6751318,29.4240132 12.0451754,27.4815068 C11.0661534,26.7437608 10.1978049,26.4337704 9.39988839,26.4728728 C8.29664285,26.5269381 7.35845709,25.6764094 7.30439185,24.5731638 C7.25032661,23.4699183 8.1008553,22.5317325 9.20410084,22.4776673 C11.0064804,22.3893406 12.7693391,23.0186607 14.4524355,24.2869648 C15.4510011,25.1003656 16.2422846,25.7449209 16.7533067,26.1611837"})))},f=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("path",{fill:s,stroke:"none",opacity:"0.5",d:"M15,13.6585886 C12.6696153,12.8349158 11,10.6124377 11,8 C11,4.6862915 13.6862915,2 17,2 C20.3137085,2 23,4.6862915 23,8 C23,10.6124377 21.3303847,12.8349158 19,13.6585886 L19,8 C19,6.8954305 18.1045695,6 17,6 C15.8954305,6 15,6.8954305 15,8 L15,13.6585886 Z"}),r.a.createElement("path",{stroke:s,fill:"none",d:"M19,13.6585886 C21.3303847,12.8349158 23,10.6124377 23,8 C23,4.6862915 20.3137085,2 17,2 C13.6862915,2 11,4.6862915 11,8 C11,10.6124377 12.6696153,12.8349158 15,13.6585886"}),r.a.createElement("g",{id:"Hand",stroke:c,fill:"none"},r.a.createElement("path",{d:"M15.1717465,33.4727062 C13.7846103,33.4727062 12.1740099,31.6749913 12.1740099,29.4757241 C12.1740099,27.8103149 11.7921494,26.5386019 11.0284283,25.6605852 L8.90870842,23.5408653 C8.12824912,22.760406 8.12824912,21.4950315 8.90870842,20.7145722 C9.68916773,19.9341129 10.9545423,19.9341129 11.7350016,20.7145722 L14.9994804,23.9748803"}),r.a.createElement("path",{d:"M15,25 L15,8 C15,6.8954305 15.8954305,6 17,6 C18.1045695,6 19,6.8954305 19,8 L19,18.6666667",id:"Pointer"}),r.a.createElement("path",{d:"M19,20 L19,17 C19,15.8954305 19.8954305,15 21,15 C22.1045695,15 23,15.8954305 23,17 L23,20"}),r.a.createElement("path",{d:"M23,21 L23,19 C23,17.8954305 23.8954305,17 25,17 C26.1045695,17 27,17.8954305 27,19 L27,22"}),r.a.createElement("path",{d:"M27,21.6666667 L27,21 C27,19.8954305 27.8954305,19 29,19 C30.1045695,19 31,19.8954305 31,21 L31,30"})))},m=function(e){var t=e.size,n=void 0===t?40:t,i=e.highlight,s=void 0===i?o.H.highlightDark:i,l=e.base,c=void 0===l?o.H.text:l;return r.a.createElement(a.a,{size:n,viewbox:40},r.a.createElement("g",{stroke:s,fill:"none"},r.a.createElement("polyline",{points:"22 14.5 20 12.5 18 14.5"}),r.a.createElement("polyline",{points:"22 25.5 20 27.5 18 25.5"}),r.a.createElement("polyline",{points:"31.5 24 33.5 26 31.5 28"}),r.a.createElement("polyline",{points:"8.5 28 6.5 26 8.5 24"})),r.a.createElement("g",{stroke:c,fill:"none"},r.a.createElement("path",{d:"M15,8 L25,8 C25.5522847,8 26,8.44771525 26,9 L26,31 C26,31.5522847 25.5522847,32 25,32 L15,32 C14.4477153,32 14,31.5522847 14,31 L14,9 C14,8.44771525 14.4477153,8 15,8 Z"}),r.a.createElement("path",{d:"M3,20 L37,20 C37.5522847,20 38,20.4477153 38,21 L38,31 C38,31.5522847 37.5522847,32 37,32 L3,32 C2.44771525,32 2,31.5522847 2,31 L2,21 C2,20.4477153 2.44771525,20 3,20 Z"})))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f}),n.d(t,"setInteraction",function(){return m}),n.d(t,"setVisibility",function(){return v}),n.d(t,"setUserData",function(){return g}),n.d(t,"setNextStep",function(){return y});n(34),n(279),n(36);var i=n(28),r=n.n(i),o=n(6),a=n.n(o),s=n(2),l="Tutorial/SET_INTERACTION",c="Tutorial/SET_USER_DATA",u="Tutorial/SET_VISIBILITY",h="Tutorial/SET_NEXT_STEP",d={isUserInteracted:!1,totalInteractionCount:0,isVisible:!1,step:1},p={};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case c:var n=t.payload,i=n.key,o=n.data;return a()({},e,r()({},i,a()({},e[i],o)));case l:var s=t.payload.key;return a()({},e,r()({},s,a()({},e[s],{isUserInteracted:!0,isVisible:!1,totalInteractionCount:e[s].isUserInteracted?e[s].totalInteractionCount:Math.min(e[s].totalInteractionCount+1,2)})));case u:var d=t.payload,f=d.key,m=d.value;return a()({},e,r()({},f,a()({},e[f],{isVisible:m})));case h:var v=t.payload.key;return a()({},e,r()({},v,a()({},e[v],{step:e[v].step+1})));default:return e}}function m(e){return{type:l,payload:{key:e}}}function v(e,t){return{type:u,payload:{key:e,value:t}}}function g(e,t){return{type:c,payload:{key:e,data:t}}}function y(e){return{type:h,payload:{key:e}}}Object.values(s.C).forEach(function(e){p[e]=a()({},d)})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var i=n(31),r=n(38),o=n(94);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var i=n(151).charAt,r=n(73),o=n(223),a=r.set,s=r.getterFor("String Iterator");o(String,"String",function(e){a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var i=n(20),r=n(185),o=n(40),a=n(49),s=n(27),l=s("iterator"),c=s("toStringTag"),u=o.values;for(var h in r){var d=i[h],p=d&&d.prototype;if(p){if(p[l]!==u)try{a(p,l,u)}catch(e){p[l]=u}if(p[c]||a(p,c,h),r[h])for(var f in o)if(p[f]!==o[f])try{a(p,f,o[f])}catch(e){p[f]=o[f]}}}},function(e,t,n){"use strict";var i=n(9),r=n(20),o=n(103),a=n(31),s=n(184),l=n(18),c=n(43),u=n(96),h=n(25),d=n(26),p=n(42),f=n(64),m=n(72),v=n(94),g=n(130),y=n(171),b=n(112),x=n(271),w=n(168),A=n(65),M=n(38),E=n(149),C=n(49),S=n(59),T=n(102),_=n(150),P=n(121),L=n(120),k=n(27),I=n(272),O=n(83),D=n(107),R=n(73),N=n(60).forEach,V=_("hidden"),B=k("toPrimitive"),F=R.set,z=R.getterFor("Symbol"),U=Object.prototype,j=r.Symbol,H=r.JSON,G=H&&H.stringify,W=A.f,Q=M.f,Y=x.f,X=E.f,K=T("symbols"),q=T("op-symbols"),J=T("string-to-symbol-registry"),Z=T("symbol-to-string-registry"),$=T("wks"),ee=r.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,ne=a&&l(function(){return 7!=g(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=W(U,t);i&&delete U[t],Q(e,t,n),i&&e!==U&&Q(U,t,i)}:Q,ie=function(e,t){var n=K[e]=g(j.prototype);return F(n,{type:"Symbol",tag:e,description:t}),a||(n.description=t),n},re=s&&"symbol"==typeof j.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof j},oe=function(e,t,n){e===U&&oe(q,t,n),d(e);var i=m(t,!0);return d(n),c(K,i)?(n.enumerable?(c(e,V)&&e[V][i]&&(e[V][i]=!1),n=g(n,{enumerable:v(0,!1)})):(c(e,V)||Q(e,V,v(1,{})),e[V][i]=!0),ne(e,i,n)):Q(e,i,n)},ae=function(e,t){d(e);var n=f(t),i=y(n).concat(ue(n));return N(i,function(t){a&&!se.call(n,t)||oe(e,t,n[t])}),e},se=function(e){var t=m(e,!0),n=X.call(this,t);return!(this===U&&c(K,t)&&!c(q,t))&&(!(n||!c(this,t)||!c(K,t)||c(this,V)&&this[V][t])||n)},le=function(e,t){var n=f(e),i=m(t,!0);if(n!==U||!c(K,i)||c(q,i)){var r=W(n,i);return!r||!c(K,i)||c(n,V)&&n[V][i]||(r.enumerable=!0),r}},ce=function(e){var t=Y(f(e)),n=[];return N(t,function(e){c(K,e)||c(P,e)||n.push(e)}),n},ue=function(e){var t=e===U,n=Y(t?q:f(e)),i=[];return N(n,function(e){!c(K,e)||t&&!c(U,e)||i.push(K[e])}),i};s||(S((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===U&&n.call(q,e),c(this,V)&&c(this[V],t)&&(this[V][t]=!1),ne(this,t,v(1,e))};return a&&te&&ne(U,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",function(){return z(this).tag}),E.f=se,M.f=oe,A.f=le,b.f=x.f=ce,w.f=ue,a&&(Q(j.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),o||S(U,"propertyIsEnumerable",se,{unsafe:!0})),I.f=function(e){return ie(k(e),e)}),i({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:j}),N(y($),function(e){O(e)}),i({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=String(e);if(c(J,t))return J[t];var n=j(t);return J[t]=n,Z[n]=t,n},keyFor:function(e){if(!re(e))throw TypeError(e+" is not a symbol");if(c(Z,e))return Z[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(e,t){return void 0===t?g(e):ae(g(e),t)},defineProperty:oe,defineProperties:ae,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ce,getOwnPropertySymbols:ue}),i({target:"Object",stat:!0,forced:l(function(){w.f(1)})},{getOwnPropertySymbols:function(e){return w.f(p(e))}}),H&&i({target:"JSON",stat:!0,forced:!s||l(function(){var e=j();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))})},{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(h(t)||void 0!==e)&&!re(e))return u(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!re(t))return t}),i[1]=t,G.apply(H,i)}}),j.prototype[B]||C(j.prototype,B,j.prototype.valueOf),D(j,"Symbol"),P[V]=!0},function(e,t,n){"use strict";var i=n(9),r=n(31),o=n(20),a=n(43),s=n(25),l=n(38).f,c=n(182),u=o.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new u(e):void 0===e?u():u(e);return""===e&&(h[t]=!0),t};c(d,u);var p=d.prototype=u.prototype;p.constructor=d;var f=p.toString,m="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(a(h,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){"use strict";var i=n(15),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(2),d=n(12);t.a=Object(d.connect)(function(e){return{ENV:e.app.ENV}})(function(e){var t=e.ENV,n=e.children,i=e.getRef,o=a()(e,["ENV","children","getRef"]);return u.a.createElement(p,r()({ref:function(e){return i&&i(e)},isMobile:t.browser.mobile},o),n)});var p=l()("span",{target:"eh2enzb0"})("appearance:none;user-select:none;width:39px;height:39px;margin:0;padding:",function(e){return e.isMobile?2:4},"px;text-decoration:none;border:none;border-radius:0;box-shadow:none;cursor:pointer;transition:",h.O,";transition-property:background,color,stroke,fill,opacity,visibility;line-height:inherit;font:inherit;overflow:visible;text-align:center;-webkit-tap-highlight-color:transparent;display:block;pointer-events:auto;&:focus{outline:none;}.is-mouse-drags-player &{pointer-events:none !important;}")},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f}),n.d(t,"setControlsWidth",function(){return m}),n.d(t,"setControlsHeight",function(){return v}),n.d(t,"setTriggersWidth",function(){return g}),n.d(t,"setMobileLayout",function(){return y}),n.d(t,"setMediaQueries",function(){return b}),n.d(t,"setElement",function(){return x}),n.d(t,"setFloorHack",function(){return w}),n.d(t,"setUIVisibility",function(){return A});var i=n(6),r=n.n(i),o="Layout/SET_CONTROLS_WIDTH",a="Layout/SET_CONTROLS_HEIGHT",s="Layout/SET_TRIGGERS_WIDTH",l="Layout/SET_MOBILE_LAYOUT",c="Layout/SET_MEDIA_QUERIES",u="Layout/SET_ELEMENT",h="Layout/SET_FLOORHACK",d="Layout/SET_UI_VISIBILITY",p={isFloorHack:!1,isMobileLayout:!1,isShrinkedLayout:!1,isUIVisible:!0,viewport:{xsmall:!1,small:!1,large:!1,xlarge:!1,portrait:!1,landscape:!1,hlarge:!1,margin:2,width:0,height:0},controls:{width:0,height:0}};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case h:return r()({},e,{isFloorHack:t.isFloorHack});case u:return r()({},e,{element:t.element});case o:return r()({},e,{controls:r()({},e.controls,{width:t.width})});case a:return r()({},e,{controls:r()({},e.controls,{height:t.height})});case s:return r()({},e,{triggersWidth:t.width});case l:return r()({},e,t.payload);case c:return r()({},e,{viewport:r()({},e.viewport,t.payload.queries)});case d:return r()({},e,{isUIVisible:t.payload.value});default:return e}}function m(e){return{type:o,width:e}}function v(e){return{type:a,height:e}}function g(e){return{type:s,width:e}}function y(e){return{type:l,payload:e}}function b(e){return{type:c,payload:{queries:e}}}function x(e){return{type:u,element:e}}function w(e){return{type:h,isFloorHack:e}}function A(e){return{type:d,payload:{value:e}}}},function(e,t,n){"use strict";var i=n(9),r=n(123).indexOf,o=n(87),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,l=o("indexOf");i({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?a.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(e))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(i);return r.listener=n,i.wrapFn=r,r}function d(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):f(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,u=f(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=(n(0),n(2)),a=r()("div",{target:"e1ld2wt00"})("position:absolute;z-index:5;opacity:",function(e){return e.isVisible?1:0},";transition-property:opacity,transform;transition-duration:",o.N.transition,";pointer-events:none;&:before,&:after{content:'';width:0;height:0;border:6px solid transparent;position:absolute;left:50%;margin-left:-6px;margin-right:-6px;}&:before{border-bottom:6px solid ",o.N.help.background,";bottom:100%;}&:after{border-top:6px solid ",o.N.help.background,";top:100%;}"),s=r()("div",{target:"e1ld2wt01"})("background:",o.N.help.background,";font-size:",o.N.font.size,";color:",o.N.color.text,";border-radius:",o.N.br,";padding:15px 20px;text-align:center;display:inline-block;pointer-events:auto;stroke:",o.N.color.text,";line-height:",o.N.font.compact,";strong{font-weight:",o.N.font.semibold,";white-space:nowrap;}");a.Block=s,t.a=a},function(e,t,n){var i=n(20),r=n(102),o=n(49),a=n(43),s=n(137),l=n(165),c=n(73),u=c.get,h=c.enforce,d=String(l).split("toString");r("inspectSource",function(e){return l.call(e)}),(e.exports=function(e,t,n,r){var l=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),h(n).source=d.join("string"==typeof t?t:"")),e!==i?(l?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)):c?e[t]=n:s(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||l.call(this)})},function(e,t,n){var i=n(106),r=n(111),o=n(42),a=n(29),s=n(124),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h;return function(p,f,m,v){for(var g,y,b=o(p),x=r(b),w=i(f,m,3),A=a(x.length),M=0,E=v||s,C=t?E(p,A):n?E(p,0):void 0;A>M;M++)if((d||M in x)&&(y=w(g=x[M],M,b),e))if(t)C[M]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return M;case 2:l.call(C,g)}else if(u)return!1;return h?-1:c||u?u:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){"use strict";var i=n(9),r=n(60).filter;i({target:"Array",proto:!0,forced:!n(113)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(9),r=n(123).includes,o=n(131);i({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){n(7);var i=n(543);function r(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=r=Reflect.get:e.exports=r=function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},r(t,n,o||t)}e.exports=r},function(e,t,n){var i=n(111),r=n(48);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(31),r=n(149),o=n(94),a=n(64),s=n(72),l=n(43),c=n(163),u=Object.getOwnPropertyDescriptor;t.f=i?u:function(e,t){if(e=a(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){"use strict";var i=n(9),r=n(114);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var i=n(9),r=n(225),o=n(48);i({target:"String",proto:!0,forced:!n(226)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(34),n(62),n(90),n(70),n(36);var i=n(77),r=n.n(i);t.a=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=!1;return t&&Object.keys(t).forEach(function(a){var s=Array.isArray(t)?i+"[]":(i?i+".":i)+a;if(n.ignore&&n.ignore.includes(s))return!1;o||(o="object"!==r()(t[a])?Boolean(t[a])||"0"===String(t[a]):e(t[a],n,s))}),o}},function(e,t,n){var i=n(25);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i,r,o,a=n(181),s=n(20),l=n(25),c=n(49),u=n(43),h=n(150),d=n(121),p=s.WeakMap;if(a){var f=new p,m=f.get,v=f.has,g=f.set;i=function(e,t){return g.call(f,e,t),t},r=function(e){return m.call(f,e)||{}},o=function(e){return v.call(f,e)}}else{var y=h("state");d[y]=!0,i=function(e,t){return c(e,y,t),t},r=function(e){return u(e,y)?e[y]:{}},o=function(e){return u(e,y)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var i=n(48),r=/"/g;e.exports=function(e,t,n,o){var a=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,n){var i=n(18);e.exports=function(e){return i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){n(83)("iterator")},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=i=function(e){return n(e)}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(t)}e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p}),n.d(t,"setVisibility",function(){return f}),n.d(t,"setSize",function(){return m}),n.d(t,"setActiveHighlight",function(){return v}),n.d(t,"setScrollPosition",function(){return g}),n.d(t,"setHorizontalLayout",function(){return y}),n.d(t,"setHighlightTransition",function(){return b});var i=n(6),r=n.n(i),o=n(2),a="Highlights/SET_VISIBILITY",s="Highlights/SET_SIZE",l="Highlights/SET_ACTIVE_HIGHLIGHT",c="Highlights/SET_SCROLL_POSITION",u="Highlights/SET_HORIZONTAL_LAYOUT",h="Highlights/SET_HIGHLIGHT_TRANSITION",d={isOpened:!1,activeHighlight:null,scrollPosition:0,isHorizontal:!1,isHighlightTransition:!1,size:{width:o.i,height:"auto"}};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a:return r()({},e,{isOpened:t.payload.visibility});case s:return r()({},e,{size:r()({},e.size,t.payload)});case l:return r()({},e,{activeHighlight:t.payload});case c:return r()({},e,{scrollPosition:t.payload});case u:return r()({},e,{isHorizontal:t.payload});case h:return r()({},e,{isHighlightTransition:t.payload});default:return e}}function f(e){return{type:a,payload:{visibility:e}}}function m(e){return{type:s,payload:e}}function v(e){return{type:l,payload:e}}function g(e){return{type:c,payload:e}}function y(e){return{type:u,payload:e}}function b(e){return{type:h,payload:e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s}),n.d(t,"setVisibility",function(){return l});var i=n(6),r=n.n(i),o="Share/SET_VISIBILITY",a={isOpened:!1};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return r()({},e,{isOpened:t.payload.visibility});default:return e}}function l(e){return{type:o,payload:{visibility:e}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s}),n.d(t,"setVisibility",function(){return l});var i=n(6),r=n.n(i),o="Info/SET_VISIBILITY",a={isOpened:!1};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return r()({},e,{isOpened:t.payload.visibility});default:return e}}function l(e){return{type:o,payload:{visibility:e}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(23),n(45);function i(e){return new Promise(function(t){setTimeout(t,e)})}},function(e,t,n){"use strict";n.r(t),n.d(t,"setVisibility",function(){return h}),n.d(t,"setAvailable",function(){return d}),n.d(t,"setSize",function(){return p}),n.d(t,"setViewMode",function(){return f}),n.d(t,"setResizing",function(){return m});var i=n(6),r=n.n(i),o="Minimap/SET_VISIBILITY",a="Minimap/SET_SIZE",s="Minimap/SET_VIEW_MODE",l="Minimap/SET_RESIZING",c="Minimap/SET_AVAILABLE",u={isOpened:!1,size:{width:150,height:150},minSize:{width:100,height:200},maxSize:{width:1/0,height:1/0},viewMode:"3d",isResizing:!1,isAvailable:!0};function h(e){return{type:o,payload:{isOpened:e}}}function d(e){return{type:c,payload:{isAvailable:e}}}function p(e){return{type:a,payload:{size:e}}}function f(e){return{type:s,payload:{viewMode:e}}}function m(e){return{type:l,payload:{isResizing:e}}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n=t.payload.size;return r()({},e,{size:n});case o:var i=t.payload.isOpened;return r()({},e,{isOpened:i});case c:var h=t.payload.isAvailable;return r()({},e,{isAvailable:h});case s:var d=t.payload.viewMode;return r()({},e,{viewMode:d});case l:var p=t.payload.isResizing;return r()({},e,{isResizing:p});default:return e}}},function(e,t,n){var i=n(122),r=n(43),o=n(272),a=n(38).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";var i=n(9),r=n(60).find,o=n(131),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(8),d=n.n(h),p=n(11),f=n.n(p),m=n(0),v=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={isFaded:e.isFaded},n.handleMouseEnter=n.handleMouseEnter.bind(d()(n)),n.handleMouseEnter=n.handleMouseEnter.bind(d()(n)),n.handleMobileClick=n.handleMobileClick.bind(d()(n)),n}return f()(t,e),a()(t,[{key:"handleMouseEnter",value:function(){return!1}},{key:"handleMouseLeave",value:function(){return!1}},{key:"handleMobileClick",value:function(e){return!1}},{key:"componentDidMount",value:function(){return!1}},{key:"componentWillUnmount",value:function(){return!1}}]),t}(n.n(m).a.PureComponent)},function(e,t,n){e.exports=n(158)},function(e,t,n){"use strict";var i=n(18);e.exports=function(e,t){var n=[][e];return!n||!i(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){var i=n(59),r=Date.prototype,o=r.toString,a=r.getTime;new Date(NaN)+""!="Invalid Date"&&i(r,"toString",function(){var e=a.call(this);return e==e?o.call(this):"Invalid Date"})},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return h}),n.d(t,"setVisibility",function(){return d}),n.d(t,"setAllButtonVisibility",function(){return p}),n.d(t,"setFloors",function(){return f}),n.d(t,"selectFloor",function(){return m}),n.d(t,"setDisabled",function(){return v});var i=n(6),r=n.n(i),o="Floors/SET_VISIBILITY",a="Floors/SELECT_FLOOR",s="Floors/SET_FLOORS",l="Floors/SET_DISABLED",c="Floors/SET_ALL_BUTTON_VISIBILITY",u={isOpened:!1,selectedId:null,isAllButtonVisible:!0,floors:[],isDisabled:!1};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return r()({},e,{isDisabled:t.payload.isDisabled});case c:return r()({},e,{isAllButtonVisible:t.payload.visibility});case o:return r()({},e,{isOpened:t.payload.visibility});case s:return r()({},e,{floors:t.payload.floors});case a:return r()({},e,{selectedId:t.payload&&1===t.payload.length?t.payload[0]:null});default:return e}}function d(e){return{type:o,payload:{visibility:e}}}function p(e){return{type:c,payload:{visibility:e}}}function f(e){return{type:s,payload:{floors:e}}}function m(e){return{type:a,payload:e}}function v(e){return{type:l,payload:{isDisabled:e}}}},function(e,t,n){var i=n(9),r=n(42),o=n(171);i({target:"Object",stat:!0,forced:n(18)(function(){o(1)})},{keys:function(e){return o(r(e))}})},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size,n=e.stroke;return r.a.createElement(o.a,{size:t,stroke:n},r.a.createElement("path",{fill:"none",d:"M8,23 L15.5,15.5 L23,23 L15.5,15.5 L8,23 Z M8,8 L15.4210711,15.5 L23,8 L15.4210711,15.5 L8,8 Z"}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return S}),n.d(t,"setLoadingProgress",function(){return T}),n.d(t,"setLoadingDone",function(){return _}),n.d(t,"setENV",function(){return P}),n.d(t,"setDatum",function(){return L}),n.d(t,"setComponentsVisibility",function(){return k}),n.d(t,"setCameraInTransition",function(){return I}),n.d(t,"setActivePanoramaId",function(){return O}),n.d(t,"setPreloadingState",function(){return D}),n.d(t,"setComponentReadyState",function(){return R}),n.d(t,"setSplashVisibility",function(){return N}),n.d(t,"setFloorplanEditorVisibility",function(){return V});n(52),n(53),n(61),n(84),n(34),n(62),n(189),n(90),n(70);for(var i=n(28),r=n.n(i),o=n(77),a=n.n(o),s=n(6),l=n.n(s),c=n(71),u=n(19),h=n(2),d="App/SET_ENV",p="App/SET_DATUM",f="App/SET_LOADING_PROGRESS",m="App/SET_LOADING_DONE",v="App/SET_COMPONENTS_VISIBILITY",g="App/SET_CAMERA_IN_TRANSITION",y="App/SET_ACTIVE_PANORAMA_ID",b="App/SET_PRELOADING_STATE",x="App/SET_COMPONENT_READY_STATE",w="App/SET_SPLASH_VISIBILITY",A="App/SET_FLOORPLAN_EDITOR_VISIBILITY",M={},E=0;E<h.b.length;E++)M[h.b[E]]=null;var C={originals:{ENV:null,datum:null},ENV:null,componentsVisibility:{},componentsReadyState:l()({},M),datum:{tour:{},user:{persons:[],floors:[],tags:[],highlights:[],panoramas:[],config:{},minimap:{mode:"3d",isOpening:!0}}},camera:{inAction:!1,lastActionDate:0,inTransition:!1,activePanoramaId:null,activeModeIndex:null},loading:{isDone:!1,isSplashVisible:!0,progressValue:0},isPreLoading:!1,isFloorplanEditorActive:!1};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case w:return l()({},e,{loading:l()({},e.loading,{isSplashVisible:t.payload})});case A:return l()({},e,{isFloorplanEditorActive:t.payload});case f:return l()({},e,{loading:l()({},e.loading,{progressValue:t.payload.value})});case m:return l()({},e,{loading:l()({},e.loading,{isDone:!0})});case d:var n=function(){var n=t.payload,i=n.datum,r=n.ENV,o=void 0===r?e.originals.ENV:r,a=i.user,s=i.tour,c=void 0===s?e.datum.tour:s,d=l()({},M),p=l()({},o);["isDebug","isAttractionMode","customBackground","isMLS","positions","startPositionId"].forEach(function(e){void 0===p[e]&&(p[e]=a[e])});var f=function(e,t){return Array.isArray(e)&&e.includes(t)};for(var m in d){switch(d[m]=p.show&&p.show.includes(m)||d[m],m){case"share":d[m]=!p.isMLS&&!p.isOffline;break;case"helpStart":d[m]=!p.isNoStartHelp;break;case"debug":d[m]=Boolean(p.isDebug);break;case"minimap":d[m]=!p.browser.mobile;break;case"fullscreen":d[m]=!p.browser.ios||(!f(a.hiddenComponents,"iosFullscreen")||p.show&&p.show.includes("iosFullscreen"))&&(!p.hide||!p.hide.includes("iosFullscreen"));break;case"floors":d[m]=c.floors.length>1;break;case"staging":d[m]=Boolean(c.stagedMeshUrl&&!c.outdoorMesh);break;case"outdoor":var v=!!c.outdoorMesh,g=p.hide&&p.hide.includes("outdoor"),y=p.show&&p.show.includes("outdoor"),b=a&&a.hiddenComponents&&a.hiddenComponents.includes(h.a.OUTDOOR);d[m]=v&&(!g&&!b||y);break;case"modes":var x=[d.dollhouse,d.inside,d.floorplan,d.outdoor].filter(function(e){return e}).length;d[m]=x>1;break;case"inside":d[m]=(null===d[m]||d[m])&&c.panoramas.some(function(e){var t=a.panoramas.find(function(t){return t.id===e.id});return!t||t.isVisible})}f(a.components,m)&&(d[m]=!0),f(a.hiddenComponents,m)&&(d[m]=!1),null===d[m]&&(d[m]=!0),d[m]=d[m]&&(!p.hide||!p.hide.includes(m))}return u.a&&(u.a.ENV.components=d),{v:l()({},e,{ENV:l()({},p,{components:d}),originals:l()({},e.originals,{ENV:o})})}}();if("object"===a()(n))return n.v;case p:var i=t.payload.datum,o=i.tour,s=i.user,E=s||e.datum.user;if(s){var S=s.address,T=s.company,_=s.price,P=s.persons,L=s.rooms,k=s.squaring,I=s.description,O=s.tristan,D=Object(c.a)({address:S,company:T,price:_,persons:P,rooms:L,squaring:k,description:I},{ignore:["squaring.unit","price.currency","persons[].id","persons[].contacts[].type","company.id","company.contacts[].type"]}),R=Object(c.a)(O),N="object"===a()(E.narrator)&&Object.keys(E.narrator).length>0;E=l()({},s,{isInfoFilled:D,isTristanFilled:R,isNarratorFilled:N})}return E.floors=E.floors||[],E.panoramas=E.panoramas||[],E.persons=E.persons||[],E.highlights=E.highlights||[],E.tags=E.tags||[],E.config=E.config||{},l()({},e,{originals:l()({},e.originals,{datum:e.originals.datum||t.payload.datum}),datum:{tour:o||e.datum.tour,user:l()({},e.datum.user,E)}});case v:var V=e.ENV,B=t.payload.data;return l()({},e,{ENV:l()({},V,{components:l()({},V.components,B)})});case g:return l()({},e,{camera:l()({},e.camera,{inTransition:t.payload.inTransition})});case y:return l()({},e,{camera:l()({},e.camera,{activePanoramaId:t.payload.id})});case b:return l()({},e,{isPreLoading:t.payload.isPreLoading});case x:return l()({},e,{componentsReadyState:l()({},e.componentsReadyState,r()({},t.payload.key,t.payload.value))});default:return e}}function T(e){return{type:f,payload:{value:e}}}function _(){return{type:m}}function P(e,t){return{type:d,payload:{datum:e,ENV:t}}}function L(e){return{type:p,payload:{datum:e}}}function k(e){return{type:v,payload:{data:e}}}function I(e){return{type:g,payload:{inTransition:e}}}function O(e){return{type:y,payload:{id:e}}}function D(e){return{type:b,payload:{isPreLoading:e}}}function R(e,t){return{type:x,payload:{key:e,value:t}}}function N(e){return{type:w,payload:e}}function V(e){return{type:A,payload:e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(67),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},function(e,t,n){var i=n(66);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){"use strict";var i=n(127),r=n(26),o=n(42),a=n(29),s=n(67),l=n(48),c=n(128),u=n(129),h=Math.max,d=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;i("replace",2,function(e,t,n){return[function(n,i){var r=l(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):t.call(String(r),n,i)},function(e,o){var l=n(t,e,this,o);if(l.done)return l.value;var p=r(e),f=String(this),m="function"==typeof o;m||(o=String(o));var v=p.global;if(v){var g=p.unicode;p.lastIndex=0}for(var y=[];;){var b=u(p,f);if(null===b)break;if(y.push(b),!v)break;""===String(b[0])&&(p.lastIndex=c(f,a(p.lastIndex),g))}for(var x,w="",A=0,M=0;M<y.length;M++){b=y[M];for(var E=String(b[0]),C=h(d(s(b.index),f.length),0),S=[],T=1;T<b.length;T++)S.push(void 0===(x=b[T])?x:String(x));var _=b.groups;if(m){var P=[E].concat(S,C,f);void 0!==_&&P.push(_);var L=String(o.apply(void 0,P))}else L=i(E,f,C,S,_,o);C>=A&&(w+=f.slice(A,C)+L,A=C+E.length)}return w+f.slice(A)}];function i(e,n,i,r,a,s){var l=i+e.length,c=r.length,u=m;return void 0!==a&&(a=o(a),u=f),t.call(s,u,function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,i);case"'":return n.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return t;if(u>c){var h=p(u/10);return 0===h?t:h<=c?void 0===r[h-1]?o.charAt(1):r[h-1]+o.charAt(1):t}s=r[u-1]}return void 0===s?"":s})}})},function(e,t,n){var i=n(26),r=n(69),o=n(27)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||null==(n=i(a)[o])?t:r(n)}},function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=i(n(571)),a=n(329),s=n(265),l=n(328),c=i(n(266));var u=r.createContext(o()),h=r.createContext({}),d=u.Provider;t.withEmotionCache=function(e){return r.forwardRef(function(t,n){return r.createElement(u.Consumer,null,function(i){return e(t,i,n)})})};var p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=Object.prototype.hasOwnProperty,m=function(e,t,n,i){var o=t[p],l=[],c="",u=null===n?t.css:t.css(n);"string"==typeof u&&void 0!==e.registered[u]&&(u=e.registered[u]),l.push(u),void 0!==t.className&&(c=a.getRegisteredStyles(e.registered,l,t.className));var h=s.serializeStyles(l);a.insertStyles(e,h,"string"==typeof o);c+=e.key+"-"+h.name;var d={};for(var m in t)f.call(t,m)&&"css"!==m&&m!==p&&(d[m]=t[m]);return d.ref=i,d.className=c,r.createElement(o,d)},v=t.withEmotionCache(function(e,t,n){return"function"==typeof e.css?r.createElement(h.Consumer,null,function(i){return m(t,e,i,n)}):m(t,e,null,n)});var g=t.withEmotionCache(function(e,t){var n=e.styles;if("function"==typeof n)return r.createElement(h.Consumer,null,function(e){var i=s.serializeStyles([n(e)]);return r.createElement(y,{serialized:i,cache:t})});var i=s.serializeStyles([n]);return r.createElement(y,{serialized:i,cache:t})}),y=function(e){var t,n;function i(t,n,i){return e.call(this,t,n,i)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;return r.componentDidMount=function(){this.sheet=new l.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(void 0!==this.props.serialized.next&&a.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},i}(r.Component);var b=t.withEmotionCache(function(e,t){return r.createElement(h.Consumer,null,function(n){var i=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=s.serializeStyles(n,t.registered);return a.insertStyles(t,r,!1),t.key+"-"+r.name},r={css:i,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,t,n){var i=[],r=a.getRegisteredStyles(e,i,n);return i.length<2?n:r+t(i)}(t.registered,i,function e(t){for(var n=t.length,i=0,r="";i<n;i++){var o=t[i];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(r&&(r+=" "),r+=a)}}return r}(n))},theme:n},o=e.children(r);return!0,o})});t.css=c,t.CacheProvider=d,t.ThemeContext=h,t.jsx=function(e,t){var n=arguments;if(null==t||null==t.css)return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=v;var a={};for(var s in t)f.call(t,s)&&(a[s]=t[s]);a[p]=e,o[1]=a;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)},t.Global=g,t.keyframes=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},t.ClassNames=b},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l}),n.d(t,"setVisibility",function(){return c}),n.d(t,"setStep",function(){return u});var i=n(6),r=n.n(i),o="Help/SET_VISIBILITY",a="Help/SET_STEP",s={isOpened:!1,step:0};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return r()({},e,{isOpened:t.payload.visibility});case a:return r()({},e,{step:t.step});default:return e}}function c(e){return{type:o,payload:{visibility:e}}}function u(e){return{type:a,step:e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return d}),n.d(t,"setVisibility",function(){return p}),n.d(t,"setDisabled",function(){return f}),n.d(t,"setVideoAspectRatio",function(){return m}),n.d(t,"updateChapterProgress",function(){return v});var i=n(41),r=n.n(i),o=n(6),a=n.n(o),s="Narrator/SET_VISIBILITY",l="Narrator/SET_DISABLED",c="Narrator/SET_VIDEO_ASPECT_RATIO",u="Narrator/UPDATE_CHAPTER_PROGRESS",h={isOpened:!0,isDisabled:!1,videoAspectRatio:.625,chaptersProgress:[]};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:return a()({},e,{isOpened:t.payload.visibility});case l:return a()({},e,{isDisabled:t.payload.disabled});case c:return a()({},e,{videoAspectRatio:t.payload.ratio});case u:var n=r()(e.chaptersProgress);return n[t.payload.id]=t.payload.progress,a()({},e,{chaptersProgress:n});default:return e}}function p(e){return{type:s,payload:{visibility:e}}}function f(e){return{type:l,payload:{disabled:e}}}function m(e){return{type:c,payload:{ratio:e}}}function v(e,t){return{type:u,payload:{id:e,progress:t}}}},function(e,t,n){var i=n(20),r=n(137),o=n(103),a=i["__core-js_shared__"]||r("__core-js_shared__",{});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.1.3",mode:o?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var i=n(122),r=n(20),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e])||o(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},function(e,t,n){"use strict";var i=n(72),r=n(38),o=n(94);e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var i=n(69);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(38).f,r=n(43),o=n(27)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(43),r=n(42),o=n(150),a=n(220),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){"use strict";var i=n(31),r=n(20),o=n(138),a=n(59),s=n(43),l=n(66),c=n(232),u=n(72),h=n(18),d=n(130),p=n(112).f,f=n(65).f,m=n(38).f,v=n(156).trim,g=r.Number,y=g.prototype,b="Number"==l(d(y)),x=function(e){var t,n,i,r,o,a,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=v(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>r)return NaN;return parseInt(o,i)}return+c};if(o("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,A=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof A&&(b?h(function(){y.valueOf.call(n)}):"Number"!=l(n))?c(new g(x(t)),n,A):x(t)},M=i?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;M.length>E;E++)s(g,w=M[E])&&!s(A,w)&&m(A,w,f(g,w));A.prototype=y,y.constructor=A,a(r,"Number",A)}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"f",function(){return l});var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDMxQTk0ODcyMDg3MTFFOTkyODc5RkYzQjQyNkQ1N0UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDMxQTk0ODgyMDg3MTFFOTkyODc5RkYzQjQyNkQ1N0UiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MzFBOTQ4NTIwODcxMUU5OTI4NzlGRjNCNDI2RDU3RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MzFBOTQ4NjIwODcxMUU5OTI4NzlGRjNCNDI2RDU3RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pp0qqJwAACWZSURBVHja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",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDMxQTk0ODMyMDg3MTFFOTkyODc5RkYzQjQyNkQ1N0UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDMxQTk0ODQyMDg3MTFFOTkyODc5RkYzQjQyNkQ1N0UiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MzFBOTQ4MTIwODcxMUU5OTI4NzlGRjNCNDI2RDU3RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MzFBOTQ4MjIwODcxMUU5OTI4NzlGRjNCNDI2RDU3RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnIeTpkAACnpSURBVHja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",o="data:image/png;base64,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",a=" data:image/png;base64,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",s="data:image/png;base64,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",l="data:image/png;base64,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"},function(e,t,n){var i=n(18),r=n(66),o="".split;e.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(183),r=n(167).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(18),r=n(27)("species");e.exports=function(e){return!i(function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){"use strict";var i,r,o=n(126),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,n,i,r,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(t=l.lastIndex),i=a.call(l,e),c&&i&&(l.lastIndex=l.global?i.index+i[0].length:t),u&&i&&i.length>1&&s.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),e.exports=l},function(e,t,n){"use strict";var i=n(59),r=n(26),o=n(18),a=n(126),s=RegExp.prototype,l=s.toString,c=o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),u="toString"!=l.name;(c||u)&&i(RegExp.prototype,"toString",function(){var e=r(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)},{unsafe:!0})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("sub")},{sub:function(){return r(this,"sub","","")}})},function(e,t,n){"use strict";var i=n(9),r=n(20),o=n(31),a=n(237),s=n(35),l=n(196),c=n(133),u=n(94),h=n(49),d=n(29),p=n(305),f=n(306),m=n(72),v=n(43),g=n(141),y=n(25),b=n(130),x=n(153),w=n(112).f,A=n(307),M=n(60).forEach,E=n(155),C=n(38),S=n(65),T=n(73),_=T.get,P=T.set,L=C.f,k=S.f,I=Math.round,O=r.RangeError,D=l.ArrayBuffer,R=l.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,V=s.TYPED_ARRAY_TAG,B=s.TypedArray,F=s.TypedArrayPrototype,z=s.aTypedArrayConstructor,U=s.isTypedArray,j=function(e,t){for(var n=0,i=t.length,r=new(z(e))(i);i>n;)r[n]=t[n++];return r},H=function(e,t){L(e,t,{get:function(){return _(this)[t]}})},G=function(e){var t;return e instanceof D||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},W=function(e,t){return U(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Q=function(e,t){return W(e,t=m(t,!0))?u(2,e[t]):k(e,t)},Y=function(e,t,n){return!(W(e,t=m(t,!0))&&y(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)};o?(N||(S.f=Q,C.f=Y,H(F,"buffer"),H(F,"byteOffset"),H(F,"byteLength"),H(F,"length")),i({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:Q,defineProperty:Y}),e.exports=function(e,t,n,o){var s=e+(o?"Clamped":"")+"Array",l="get"+e,u="set"+e,m=r[s],v=m,g=v&&v.prototype,C={},S=function(e,n){L(e,n,{get:function(){return function(e,n){var i=_(e);return i.view[l](n*t+i.byteOffset,!0)}(this,n)},set:function(e){return function(e,n,i){var r=_(e);o&&(i=(i=I(i))<0?0:i>255?255:255&i),r.view[u](n*t+r.byteOffset,i,!0)}(this,n,e)},enumerable:!0})};N?a&&(v=n(function(e,n,i,r){return c(e,v,s),y(n)?G(n)?void 0!==r?new m(n,f(i,t),r):void 0!==i?new m(n,f(i,t)):new m(n):U(n)?j(v,n):A.call(v,n):new m(p(n))}),x&&x(v,B),M(w(m),function(e){e in v||h(v,e,m[e])}),v.prototype=g):(v=n(function(e,n,i,r){c(e,v,s);var o,a,l,u=0,h=0;if(y(n)){if(!G(n))return U(n)?j(v,n):A.call(v,n);o=n,h=f(i,t);var m=n.byteLength;if(void 0===r){if(m%t)throw O("Wrong length");if((a=m-h)<0)throw O("Wrong length")}else if((a=d(r)*t)+h>m)throw O("Wrong length");l=a/t}else l=p(n),o=new D(a=l*t);for(P(e,{buffer:o,byteOffset:h,byteLength:a,length:l,view:new R(o)});u<l;)S(e,u++)}),x&&x(v,B),g=v.prototype=b(F)),g.constructor!==v&&h(g,"constructor",v),V&&h(g,V,s),C[s]=v,i({global:!0,forced:v!=m,sham:!N},C),"BYTES_PER_ELEMENT"in v||h(v,"BYTES_PER_ELEMENT",t),"BYTES_PER_ELEMENT"in g||h(g,"BYTES_PER_ELEMENT",t),E(s)}):e.exports=function(){}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(538)},function(e,t){function n(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e.exports=function(e){return function(){var t=this,i=arguments;return new Promise(function(r,o){var a=e.apply(t,i);function s(e){n(a,r,o,s,l,"next",e)}function l(e){n(a,r,o,s,l,"throw",e)}s(void 0)})}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(20)},function(e,t,n){var i=n(64),r=n(29),o=n(95),a=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var i=n(25),r=n(96),o=n(27)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";var i=n(9),r=n(25),o=n(96),a=n(95),s=n(29),l=n(64),c=n(105),u=n(113),h=n(27)("species"),d=[].slice,p=Math.max;i({target:"Array",proto:!0,forced:!u("slice")},{slice:function(e,t){var n,i,u,f=l(this),m=s(f.length),v=a(e,m),g=a(void 0===t?m:t,m);if(o(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(f,v,g);for(i=new(void 0===n?Array:n)(p(g-v,0)),u=0;v<g;v++,u++)v in f&&c(i,u,f[v]);return i.length=u,i}})},function(e,t,n){"use strict";var i=n(26);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var i=n(49),r=n(59),o=n(18),a=n(27),s=n(114),l=a("species"),c=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),u=!o(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(e,t,n,h){var d=a(e),p=!o(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),f=p&&!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!t});if(!p||!f||"replace"===e&&!c||"split"===e&&!u){var m=/./[d],v=n(d,""[e],function(e,t,n,i,r){return t.exec===s?p&&!r?{done:!0,value:m.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),g=v[0],y=v[1];r(String.prototype,e,g),r(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)}),h&&i(RegExp.prototype[d],"sham",!0)}}},function(e,t,n){"use strict";var i=n(151).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(66),r=n(114);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},function(e,t,n){var i=n(26),r=n(218),o=n(167),a=n(121),s=n(270),l=n(164),c=n(150)("IE_PROTO"),u=function(){},h=function(){var e,t=l("iframe"),n=o.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),h=e.F;n--;)delete h.prototype[o[n]];return h()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=i(e),n=new u,u.prototype=null,n[c]=e):n=h(),void 0===t?n:r(n,t)},a[c]=!0},function(e,t,n){var i=n(27),r=n(130),o=n(49),a=i("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,r(null)),e.exports=function(e){s[a][e]=!0}},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("bold")},{bold:function(){return r(this,"b","","")}})},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";n(84),n(62),n(90),n(68),n(70),n(97);var i=n(2);t.a=function(e){if("string"==typeof e){var t=Object.keys(i.G).find(function(t){return i.G[t].includes(e.replace("CAMERA_MODES/","").toLowerCase())});return t&&i.a[t]}if("number"==typeof e)return i.a[Object.keys(i.G)[0]]}},function(e,t,n){"use strict";n(24),n(44);var i=n(146),r=n.n(i),o=n(41),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(99),d=n(2);function p(){var e=r()(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]);return p=function(){return e},e}function f(){var e=r()(["\n  0% {\n    transform: none;\n    opacity: 0.3;\n  }\n  30% {\n    transform: scale3d(1.2, 1.2, 1);\n    opacity: 1;\n  }\n  100% {\n    transform: none;\n    opacity: 0.3;\n  }\n"]);return f=function(){return e},e}t.a=function(e){return u.a.createElement(g,{size:e.size},u.a.createElement(y,null,u.a.createElement(b,null,a()(Array(16)).map(function(t,n){return u.a.createElement(x,{isNotTransparent:e.isNotTransparent,key:n,i:n})}))))};var m=Object(h.keyframes)(f()),v=Object(h.keyframes)(p()),g=l()("span",{target:"e1hsvyoq0"})("display:block;position:absolute;left:50%;top:50%;width:40px;height:40px;transform:translate(-50%,-50%) ",function(e){return e.size&&"scale3d(".concat(e.size/40,", ").concat(e.size/40,", ").concat(e.size/40,")")},";transition-property:opacity;transition-duration:",d.N.transition,";z-index:2;"),y=l()("span",{target:"e1hsvyoq1"})("animation:",m," 1s infinite ease-in-out;"),b=l()("span",{target:"e1hsvyoq2"})("position:absolute;border-radius:50px;width:100%;height:100%;left:0;top:0;animation:",v," 1.5s steps(16) infinite;transform-origin:50%;"),x=l()("span",{target:"e1hsvyoq3"})("position:absolute;width:2px;height:15%;left:50%;margin-left:-1px;transform-origin:50% 333%;background:#fff;border-radius:2px;",function(e){return e.i&&"&:nth-of-type(".concat(e.i+1,") {\n    transform: rotateZ(").concat(22.5*e.i,"deg);\n    background: ").concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Math.floor(255/16*e):255,n=.6+.5/16*e;return"rgba(".concat(t,", ").concat(t,", ").concat(t,", ").concat(n,")")}(e.i,e.isNotTransparent),";\n  }")},"")},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(20),r=n(49);e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(18),r=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){"use strict";var i=n(9),r=n(111),o=n(64),a=n(87),s=[].join,l=r!=Object,c=a("join",",");i({target:"Array",proto:!0,forced:l||c},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i=n(127),r=n(170),o=n(26),a=n(48),s=n(98),l=n(128),c=n(29),u=n(129),h=n(114),d=n(18),p=[].push,f=Math.min,m=!d(function(){return!RegExp(4294967295,"y")});i("split",2,function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,o);for(var s,l,c,u=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,m=new RegExp(e.source,d+"g");(s=h.call(m,i))&&!((l=m.lastIndex)>f&&(u.push(i.slice(f,s.index)),s.length>1&&s.index<i.length&&p.apply(u,s.slice(1)),c=s[0].length,f=l,u.length>=o));)m.lastIndex===s.index&&m.lastIndex++;return f===i.length?!c&&m.test("")||u.push(""):u.push(i.slice(f)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,r,n):i.call(String(r),t,n)},function(e,r){var a=n(i,e,this,r,i!==t);if(a.done)return a.value;var h=o(e),d=String(this),p=s(h,RegExp),v=h.unicode,g=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(m?"y":"g"),y=new p(m?h:"^(?:"+h.source+")",g),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===d.length)return null===u(y,d)?[d]:[];for(var x=0,w=0,A=[];w<d.length;){y.lastIndex=m?w:0;var M,E=u(y,m?d:d.slice(w));if(null===E||(M=f(c(y.lastIndex+(m?0:w)),d.length))===x)w=l(d,w,v);else{if(A.push(d.slice(x,w)),A.length===b)return A;for(var C=1;C<=E.length-1;C++)if(A.push(E[C]),A.length===b)return A;w=x=M}}return A.push(d.slice(x)),A}]},!m)},function(e,t,n){var i=n(66),r=n(27)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var i=n(9),r=n(273);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){var i=n(121),r=n(25),o=n(43),a=n(38).f,s=n(120),l=n(173),c=s("meta"),u=0,h=Object.isExtensible||function(){return!0},d=function(e){a(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!h(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},getWeakData:function(e,t){if(!o(e,c)){if(!h(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},onFreeze:function(e){return l&&p.REQUIRED&&h(e)&&!o(e,c)&&d(e),e}};i[c]=!0},function(e,t,n){"use strict";var i=n(9),r=n(95),o=n(67),a=n(29),s=n(42),l=n(124),c=n(105),u=n(113),h=Math.max,d=Math.min;i({target:"Array",proto:!0,forced:!u("splice")},{splice:function(e,t){var n,i,u,p,f,m,v=s(this),g=a(v.length),y=r(e,g),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=g-y):(n=b-2,i=d(h(o(t),0),g-y)),g+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(v,i),p=0;p<i;p++)(f=y+p)in v&&c(u,p,v[f]);if(u.length=i,n<i){for(p=y;p<g-i;p++)m=p+n,(f=p+i)in v?v[m]=v[f]:delete v[m];for(p=g;p>g-i+n;p--)delete v[p-1]}else if(n>i)for(p=g-i;p>y;p--)m=p+n-1,(f=p+i-1)in v?v[m]=v[f]:delete v[m];for(p=0;p<n;p++)v[p+y]=arguments[p+2];return v.length=g-i+n,u}})},function(e,t,n){"use strict";n(88),n(23),n(115);var i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};t.a=function(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(11),d=n.n(h),p=n(1),f=function(e){function t(e,n){var i;return r()(this,t),(i=l()(this,u()(t).call(this))).textureID=void 0!==n?n:"tDiffuse",e instanceof p.a.ShaderMaterial?(i.uniforms=e.uniforms,i.material=e):e&&(i.uniforms=p.a.UniformsUtils.clone(e.uniforms),i.material=new p.a.ShaderMaterial({defines:e.defines||{},uniforms:i.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),i.camera=new p.a.OrthographicCamera(-1,1,1,-1,0,1),i.scene=new p.a.Scene,i.quad=new p.a.Mesh(new p.a.PlaneBufferGeometry(2,2),null),i.quad.frustumCulled=!1,i.scene.add(i.quad),i}return d()(t,e),a()(t,[{key:"render",value:function(e,t,n,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.quad.material=this.material,this.renderToScreen||(e.setRenderTarget(t,i),this.clear&&e.clear(!0,!0)),e.render(this.scene,this.camera)}}]),t}(n(201).a)},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(2),l=n(12),c=r()("div",{target:"eqx61sq0"})("position:relative;svg{display:",function(e){return e.visibleTriggersLength>1?"inline-block":"none"},";margin-right:-35px;vertical-align:top;position:relative;top:-2px;}div{padding-left:",function(e){return e.visibleTriggersLength>1?40:0},"px;display:",function(e){return e.visibleTriggersLength>1?"inline-block":"inline"},";vertical-align:top;line-height:",function(e){return e.visibleTriggersLength>1?"".concat(e.ENV.browser.mobile?30:27,"px"):s.N.font.compact},";}p{margin:0;display:inline-block;vertical-align:middle;line-height:",s.N.font.compact,";}* + &{margin-top:7px;}");t.a=Object(l.connect)(function(e){return{ENV:e.app.ENV}})(a.a.memo(function(e){return a.a.createElement(c,null,e.children)}))},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(102),r=n(120),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t,n){var i=n(67),r=n(48),o=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){"use strict";var i=n(127),r=n(26),o=n(29),a=n(48),s=n(128),l=n(129);i("match",1,function(e,t,n){return[function(t){var n=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var a=r(e),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;for(var h,d=[],p=0;null!==(h=l(a,c));){var f=String(h[0]);d[p]=f,""===f&&(a.lastIndex=s(c,o(a.lastIndex),u)),p++}return 0===p?null:d}]})},function(e,t,n){var i=n(26),r=n(278);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return i(n),r(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){"use strict";var i=n(9),r=n(69),o=n(42),a=n(18),s=n(87),l=[].sort,c=[1,2,3],u=a(function(){c.sort(void 0)}),h=a(function(){c.sort(null)}),d=s("sort");i({target:"Array",proto:!0,forced:u||!h||d},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),r(e))}})},function(e,t,n){"use strict";var i=n(104),r=n(38),o=n(27),a=n(31),s=o("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(48),r="["+n(191)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){var i=n(59);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=function(e,t,n){var i=u;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return P()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=c(e,t,n);if("normal"===l.type){if(i=n.done?p:h,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",h="suspendedYield",d="executing",p="completed",f={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(_([])));x&&x!==n&&i.call(x,o)&&(y=x);var w=g.prototype=m.prototype=Object.create(y);function A(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function M(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=c(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,a)})}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function E(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=w.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},A(M.prototype),M.prototype[a]=function(){return this},e.AsyncIterator=M,e.async=function(t,n,i,r){var o=new M(l(t,n,i,r));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},A(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:_(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=i}catch(e){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){"use strict";(function(e){var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(22),l=n.n(s),c=n(3),u=n.n(c),h=n(0),d=n.n(h),p=n(54),f=n(135),m=n(2),v=n(16),g=n(30);t.a=function(t){var n=t.children,i=t.onClick,o=t.isActive,s=t.isDisable,c=t.isReady,u=t.isOutlined,h=l()(t,["children","onClick","isActive","isDisable","isReady","isOutlined"]);return d.a.createElement(y,r()({"data-component":Object(v.a)(e)},a()({isActive:o,isDisable:s,isReady:c,onClick:i},h)),d.a.createElement(g.a,{isOpened:!c},d.a.createElement(f.a,{isNotTransparent:!0,size:26})),d.a.createElement(b,{isVisible:u}),d.a.createElement(x,{isActive:o,isReady:c,isDisable:s},n))};var y=u()(p.a,{target:"e5z0rfm0"})("background-color:",function(e){return e.isActive?m.N.color.highlight:"transparent"},";background-image:linear-gradient( to ",function(e){return e.isActive?"top":"bottom"},",",Object(m.M)(m.N.color.base,0),",",Object(m.M)(m.N.color.base,.05)," );border-radius:inherit;transition-property:opacity,background,fill,stroke;transition-duration:",m.N.transition,";pointer-events:",function(e){return e.isDisabled||!e.isReady?"none":"auto"},";cursor:pointer;width:100%;position:relative;fill:",function(e){return m.N.color[e.isActive?"light":"text"]},";stroke:",function(e){return m.N.color[e.isActive?"light":"text"]},";color:",function(e){return m.N.color[e.isActive?"light":"text"]},";&:hover{fill:",function(e){return m.N.color[e.isActive?"light":"base"]},";stroke:",function(e){return m.N.color[e.isActive?"light":"base"]},";color:",function(e){return m.N.color[e.isActive?"light":"base"]},";background-color:",function(e){return m.N.color[e.isActive?"highlight":"light"]},";}.is-mouse-drags-player &{pointer-events:none;}"),b=u()("span",{target:"e5z0rfm1"})("position:absolute;left:0;right:0;top:0;bottom:0;border-radius:",m.N.br,";pointer-events:none;border:1px solid ",Object(m.M)(m.N.color.baseDull,.4),";z-index:3;box-shadow:0 0 0 2px ",m.N.color.light,",1px 0 1px 1px ",m.N.color.underlayDark,",-1px 0 1px 1px ",m.N.color.underlayDark,";opacity:",function(e){return e.isVisible?1:0},";"),x=u()("span",{target:"e5z0rfm2"})("display:block;margin:0 auto;transform:translate3d(0,",function(e){return e.isActive?.5:0},"px,0);opacity:",function(e){return e.isReady?e.isDisabled?.5:1:.3},";transition-property:transform;transition-duration:",m.N.transition,";pointer-events:inherit;")}).call(this,"src/components/FeatureButton.js")},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p});n(40),n(139),n(44),n(125),n(236),n(142),n(23),n(229),n(239),n(238),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262);var i,r,o,a=n(21),s=new a.Geometry;function l(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new a.BufferGeometry,this.widthCallback=null,this.matrixWorld=new a.Matrix4}function c(e,t,n,i,r){var o;if(e=e.subarray||e.slice?e:e.buffer,n=n.subarray||n.slice?n:n.buffer,e=t?e.subarray?e.subarray(t,r&&t+r):e.slice(t,r&&t+r):e,n.set)n.set(e,i);else for(o=0;o<e.length;o++)n[o+i]=e[o];return n}function u(e){a.ShaderMaterial.call(this,{uniforms:Object.assign({},a.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new a.Color(16777215)},opacity:{value:1},resolution:{value:new a.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new a.Vector2(1,1)}}),vertexShader:a.ShaderChunk.meshline_vert,fragmentShader:a.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(e){this.uniforms.color.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(e){this.uniforms.useDash.value=e}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}s.vertices.push(new a.Vector3(0,0,0)),s.vertices.push(new a.Vector3(0,0,1)),l.prototype.setMatrixWorld=function(e){this.matrixWorld=e},l.prototype.setGeometry=function(e,t){if(this.widthCallback=t,this.positions=[],this.counters=[],e instanceof a.Geometry)for(var n=0;n<e.vertices.length;n++){var i=e.vertices[n];t=n/e.vertices.length;this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(t),this.counters.push(t)}if(a.BufferGeometry,e instanceof Float32Array||e instanceof Array)for(n=0;n<e.length;n+=3){t=n/e.length;this.positions.push(e[n],e[n+1],e[n+2]),this.positions.push(e[n],e[n+1],e[n+2]),this.counters.push(t),this.counters.push(t)}this.process()},l.prototype.raycast=(i=new a.Matrix4,r=new a.Ray,o=new a.Sphere,function(e,t){var n=e.linePrecision,s=n*n,l=this.geometry;if(null===l.boundingSphere&&l.computeBoundingSphere(),o.copy(l.boundingSphere),o.applyMatrix4(this.matrixWorld),!1!==e.ray.intersectSphere(o)){i.getInverse(this.matrixWorld),r.copy(e.ray).applyMatrix4(i);var c=new a.Vector3,u=new a.Vector3,h=new a.Vector3,d=new a.Vector3,p=this instanceof a.LineSegments?2:1;if(l instanceof a.BufferGeometry){var f=l.index,m=l.attributes;if(null!==f)for(var v=f.array,g=m.position.array,y=0,b=v.length-1;y<b;y+=p){var x=v[y],w=v[y+1];c.fromArray(g,3*x),u.fromArray(g,3*w),r.distanceSqToSegment(c,u,d,h)>s||(d.applyMatrix4(this.matrixWorld),(E=e.ray.origin.distanceTo(d))<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,b=(g=m.position.array).length/3-1;y<b;y+=p)c.fromArray(g,3*y),u.fromArray(g,3*y+3),r.distanceSqToSegment(c,u,d,h)>s||(d.applyMatrix4(this.matrixWorld),(E=e.ray.origin.distanceTo(d))<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(l instanceof a.Geometry){var A=l.vertices,M=A.length;for(y=0;y<M-1;y+=p){var E;r.distanceSqToSegment(A[y],A[y+1],d,h)>s||(d.applyMatrix4(this.matrixWorld),(E=e.ray.origin.distanceTo(d))<e.near||E>e.far||t.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}),l.prototype.compareV3=function(e,t){var n=6*e,i=6*t;return this.positions[n]===this.positions[i]&&this.positions[n+1]===this.positions[i+1]&&this.positions[n+2]===this.positions[i+2]},l.prototype.copyV3=function(e){var t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]},l.prototype.process=function(){var e,t,n=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var i=0;i<n;i++)this.side.push(1),this.side.push(-1);for(i=0;i<n;i++)e=this.widthCallback?this.widthCallback(i/(n-1)):1,this.width.push(e),this.width.push(e);for(i=0;i<n;i++)this.uvs.push(i/(n-1),0),this.uvs.push(i/(n-1),1);t=this.compareV3(0,n-1)?this.copyV3(n-2):this.copyV3(0),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(i=0;i<n-1;i++)t=this.copyV3(i),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(i=1;i<n;i++)t=this.copyV3(i),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]);t=this.compareV3(n-1,0)?this.copyV3(1):this.copyV3(n-1),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]);for(i=0;i<n-1;i++){var r=2*i;this.indices_array.push(r,r+1,r+2),this.indices_array.push(r+2,r+1,r+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new a.BufferAttribute(new Float32Array(this.positions),3),previous:new a.BufferAttribute(new Float32Array(this.previous),3),next:new a.BufferAttribute(new Float32Array(this.next),3),side:new a.BufferAttribute(new Float32Array(this.side),1),width:new a.BufferAttribute(new Float32Array(this.width),1),uv:new a.BufferAttribute(new Float32Array(this.uvs),2),index:new a.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new a.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},l.prototype.advance=function(e){var t=this.attributes.position.array,n=this.attributes.previous.array,i=this.attributes.next.array,r=t.length;c(t,0,n,0,r),c(t,6,t,0,r-6),t[r-6]=e.x,t[r-5]=e.y,t[r-4]=e.z,t[r-3]=e.x,t[r-2]=e.y,t[r-1]=e.z,c(t,6,i,0,r-6),i[r-6]=e.x,i[r-5]=e.y,i[r-4]=e.z,i[r-3]=e.x,i[r-2]=e.y,i[r-1]=e.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},a.ShaderChunk.meshline_vert=["",a.ShaderChunk.logdepthbuf_pars_vertex,a.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","    float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= (lineWidth + 2.);","    normal /= resolution.y;","    normal *= finalPosition.w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","",a.ShaderChunk.logdepthbuf_vertex,a.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",a.ShaderChunk.fog_vertex,"}"].join("\r\n"),a.ShaderChunk.meshline_frag=["",a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float lineWidth;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",a.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","    gl_FragColor.a *= smoothstep(1., -1., (abs((vUV.y - 0.5) * (lineWidth + 2.)) - lineWidth / 2. ));","",a.ShaderChunk.fog_fragment,"}"].join("\r\n"),u.prototype=Object.create(a.ShaderMaterial.prototype),u.prototype.constructor=u,u.prototype.isMeshLineMaterial=!0,u.prototype.copy=function(e){return a.ShaderMaterial.prototype.copy.call(this,e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this};var h=new l;h.setGeometry(s);var d=h.geometry,p=new u({depthWrite:!1,transparent:!0,lineWidth:3,resolution:new a.Vector2(1,1),sizeAttenuation:0})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w}),n.d(t,"b",function(){return A});n(44),n(90);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(11),d=n.n(h),p=n(3),f=n.n(p),m=n(0),v=n.n(m),g=n(372),y=n(2),b=n(16),x=f()("div",{target:"e1jd1z3x0"})("display:block;position:absolute;background:",y.N.color.underlay,";z-index:3;top:60px;left:10px;padding:10px 10px 2px;border-radius:",y.N.br,";color:",y.N.color.light,";max-width:90%;opacity:",function(e){return e.isVisible?e.isTuningVisible?"0.1":"1":"0"},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";transition:",y.N.transition,";transition-property:opacity,visibility;"),w=f()("div",{target:"e1jd1z3x1"})({name:"v4wsda",styles:"display:block;margin:0 0 8px;font-size:12px;font-family:monospace;"}),A=function(t){function n(e){var t;return r()(this,n),(t=l()(this,u()(n).call(this))).state={isVisible:!1},t}return d()(n,t),a()(n,[{key:"renderLine",value:function(e,t){return v.a.createElement(w,{key:t,dangerouslySetInnerHTML:{__html:e}})}},{key:"render",value:function(){var t=this,n=this.props,i=n.lines,r=n.isVisible,o=n.isTuningVisible;return v.a.createElement(x,{isVisible:r,isTuningVisible:o,"data-component":Object(b.a)(e)},Object.keys(i).map(function(e){return t.renderLine(i[e],e)}),v.a.createElement(g.a,null))}}]),n}(v.a.PureComponent)}).call(this,"src/components/Debug/DebugMonitor.js")},function(e,t,n){"use strict";n(52),n(53),n(76),n(84),n(34),n(62),n(40),n(44),n(144),n(37),n(23),n(70),n(50),n(36),n(51);var i=n(63),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(1),y=n(110);n(24),n(189),n(142),n(68),n(289),n(140),n(116);function b(e,t){g.a.Object3D.call(this),t=void 0!==t?t:document,this.visible=!1,this.object=void 0;var n=new x;this.add(n);var i=new w;this.add(i);var r=this;F("camera",e),F("object",void 0),F("axis",null),F("mode","translate"),F("translationSnap",null),F("rotationSnap",null),F("space","world"),F("size",1),F("dragging",!1);var o={type:"change"},a={type:"mouseDown"},s={type:"mouseUp",mode:r.mode},l={type:"objectChange"},c=new g.a.Raycaster,u=new g.a.Vector3,h=new g.a.Vector3,d=new g.a.Quaternion,p={X:new g.a.Vector3(1,0,0),Y:new g.a.Vector3(0,1,0),Z:new g.a.Vector3(0,0,1)},f=new g.a.Quaternion,m=new g.a.Vector3,v=new g.a.Vector3,y=new g.a.Vector3,b=new g.a.Vector3,A=0,M=new g.a.Vector3,E=new g.a.Quaternion,C=new g.a.Vector3,S=new g.a.Vector3,T=new g.a.Quaternion,_=new g.a.Vector3,P=new g.a.Vector3,L=new g.a.Quaternion,k=new g.a.Vector3,I=new g.a.Vector3,O=new g.a.Quaternion,D=new g.a.Vector3,R=new g.a.Vector3,N=new g.a.Vector3,V=new g.a.Quaternion,B=new g.a.Vector3;function F(e,t){var a=t;Object.defineProperty(r,e,{get:function(){return void 0!==a?a:t},set:function(t){a!==t&&(a=t,i[e]=t,n[e]=t,r.dispatchEvent(o))}}),r[e]=t,i[e]=t,n[e]=t}function z(e){var n=e.changedTouches?e.changedTouches[0]:e,i=t.getBoundingClientRect();return{x:(n.clientX-i.left)/i.width*2-1,y:-(n.clientY-i.top)/i.height*2+1,button:e.button}}function U(e){e.preventDefault()}function j(e){r.pointerHover(z(e))}function H(e){e.preventDefault(),r.pointerHover(z(e)),r.pointerDown(z(e))}function G(e){e.preventDefault(),r.pointerMove(z(e))}function W(e){e.preventDefault(),r.pointerUp(z(e))}F("parentQuaternion",T),F("worldPosition",I),F("worldPositionStart",P),F("worldQuaternion",O),F("worldQuaternionStart",L),F("cameraPosition",M),F("cameraQuaternion",E),F("pointStart",v),F("pointEnd",y),F("rotationAxis",b),F("rotationAngle",A),F("eye",R),t.addEventListener("mousedown",H,!0),t.addEventListener("touchstart",H,!0),t.addEventListener("mousemove",j,!0),t.addEventListener("touchmove",j,!0),t.addEventListener("mousemove",G,!0),t.addEventListener("touchmove",G,!0),t.addEventListener("mouseup",W,!0),t.addEventListener("mouseleave",W,!0),t.addEventListener("mouseout",W,!0),t.addEventListener("touchend",W,!0),t.addEventListener("touchcancel",W,!0),t.addEventListener("touchleave",W,!0),t.addEventListener("contextmenu",U,!0),this.dispose=function(){t.removeEventListener("mousedown",H),t.removeEventListener("touchstart",H),t.removeEventListener("mousemove",j),t.removeEventListener("touchmove",j),t.removeEventListener("mousemove",G),t.removeEventListener("touchmove",G),t.removeEventListener("mouseup",W),t.removeEventListener("mouseleave",W),t.removeEventListener("mouseout",W),t.removeEventListener("touchend",W),t.removeEventListener("touchcancel",W),t.removeEventListener("touchleave",W),t.removeEventListener("contextmenu",U)},this.attach=function(e){this.object=e,this.visible=!0},this.detach=function(){this.object=void 0,this.visible=!1,this.axis=null},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),this.object.parent.matrixWorld.decompose(S,T,_),this.object.matrixWorld.decompose(I,O,D)),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(M,E,C),this.camera instanceof g.a.PerspectiveCamera?R.copy(M).sub(I).normalize():this.camera instanceof g.a.OrthographicCamera&&R.copy(M).normalize(),g.a.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var t=c.intersectObjects(n.picker[this.mode].children,!0)[0]||!1;this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(!(void 0===this.object||!0===this.dragging||void 0!==e.button&&0!==e.button||0!==e.button&&void 0!==e.button||null===this.axis)){c.setFromCamera(e,this.camera);var t=c.intersectObjects([i],!0)[0]||!1;if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var r=this.rotationSnap;"X"===this.axis&&r&&(this.object.rotation.x=Math.round(this.object.rotation.x/r)*r),"Y"===this.axis&&r&&(this.object.rotation.y=Math.round(this.object.rotation.y/r)*r),"Z"===this.axis&&r&&(this.object.rotation.z=Math.round(this.object.rotation.z/r)*r)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),N.copy(this.object.position),V.copy(this.object.quaternion),B.copy(this.object.scale),this.object.matrixWorld.decompose(P,L,k),v.copy(t.point).sub(P),"local"===n&&v.applyQuaternion(L.clone().inverse())}this.dragging=!0,a.mode=this.mode,this.dispatchEvent(a)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,r=this.object,a=this.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==r&&null!==t&&!1!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var s=c.intersectObjects([i],!0)[0]||!1;if(!1!==s){if(y.copy(s.point).sub(P),"local"===a&&y.applyQuaternion(L.clone().inverse()),"translate"===n)-1===t.search("X")&&(y.x=v.x),-1===t.search("Y")&&(y.y=v.y),-1===t.search("Z")&&(y.z=v.z),"local"===a?r.position.copy(y).sub(v).applyQuaternion(V):r.position.copy(y).sub(v),r.position.add(N),this.translationSnap&&("local"===a&&(r.position.applyQuaternion(d.copy(V).inverse()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(V)),"world"===a&&(r.parent&&r.position.add(u.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(u.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var g=y.length()/v.length();y.dot(v)<0&&(g*=-1),u.set(g,g,g)}else u.copy(y).divide(v),-1===t.search("X")&&(u.x=1),-1===t.search("Y")&&(u.y=1),-1===t.search("Z")&&(u.z=1);r.scale.copy(B).multiply(u)}else if("rotate"===n){var x=20/I.distanceTo(u.setFromMatrixPosition(this.camera.matrixWorld)),w="local"===this.space?O:f,M=p[t];"E"===t?(u.copy(y).cross(v),b.copy(R),A=y.angleTo(v)*(u.dot(R)<0?1:-1)):"XYZE"===t?(u.copy(y).sub(v).cross(R).normalize(),b.copy(u),A=y.sub(v).dot(u.cross(R))*x):"X"!==t&&"Y"!==t&&"Z"!==t||(m.copy(M).applyQuaternion(w),b.copy(M),u=M.clone(),h=y.clone().sub(v),"local"===a&&(u.applyQuaternion(w),h.applyQuaternion(L)),A=h.dot(u.cross(R).normalize())*x),this.rotationSnap&&(A=Math.round(A/this.rotationSnap)*this.rotationSnap),this.rotationAngle=A,"local"===a?(r.quaternion.copy(V),r.quaternion.multiply(d.setFromAxisAngle(b,A))):(r.quaternion.copy(d.setFromAxisAngle(b,A)),r.quaternion.multiply(V))}this.dispatchEvent(o),this.dispatchEvent(l)}}},this.pointerUp=function(e){void 0!==e.button&&0!==e.button||(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,void 0===e.button&&(this.axis=null))},this.getMode=function(){return r.mode},this.setMode=function(e){r.mode=e},this.setTranslationSnap=function(e){r.translationSnap=e},this.setRotationSnap=function(e){r.rotationSnap=e},this.setSize=function(e){r.size=e},this.setSpace=function(e){r.space=e},this.update=function(){}}b.prototype=Object.assign(Object.create(g.a.Object3D.prototype),{constructor:b,isTransformControls:!0});var x=function(){g.a.Object3D.call(this),this.type="TransformControlsGizmo";var e=new g.a.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:g.a.DoubleSide,fog:!1}),t=new g.a.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1}),n=e.clone();n.opacity=.15;var i=e.clone();i.depthTest=!0,i.opacity=.33;var r=e.clone();r.color.set(16711680);var o=e.clone();o.color.set(65280);var a=e.clone();a.color.set(255);var s=e.clone();s.opacity=.25;var l=s.clone();l.color.set(16776960);var c=s.clone();c.color.set(65535);var u=s.clone();u.color.set(16711935),e.clone().color.set(16776960);var h=t.clone();h.color.set(16711680);var d=t.clone();d.color.set(65280),(f=t.clone()).color.set(255);var p=t.clone();p.color.set(65535);var f,m=t.clone();m.color.set(16711935),(f=t.clone()).color.set(255);var v=t.clone();v.color.set(16776960);var y=t.clone();y.color.set(7895160);var b=v.clone();b.opacity=.25;var x=new g.a.CylinderBufferGeometry(0,.05,.2,12,1,!1),w=new g.a.BoxBufferGeometry(.125,.125,.125),A=new g.a.BufferGeometry;A.addAttribute("position",new g.a.Float32BufferAttribute([0,0,0,1,0,0],3));var M,E=function(e,t){for(var n=new g.a.BufferGeometry,i=[],r=0;r<=64*t;++r)i.push(0,Math.cos(r/32*Math.PI)*e,Math.sin(r/32*Math.PI)*e);return n.addAttribute("position",new g.a.Float32BufferAttribute(i,3)),n},C={X:[[new g.a.Mesh(x,r),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new g.a.Mesh(x,r),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new g.a.Line(A,h)]],Y:[[new g.a.Mesh(x,o),[0,1,0],null,null,"fwd"],[new g.a.Mesh(x,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new g.a.Line(A,d),null,[0,0,Math.PI/2]]],Z:[[new g.a.Mesh(x,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new g.a.Mesh(x,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new g.a.Line(A,f),null,[0,-Math.PI/2,0]]],XYZ:[[new g.a.Mesh(new g.a.OctahedronBufferGeometry(.1,0),s),[0,0,0],[0,0,0]]],XY:[[new g.a.Mesh(new g.a.PlaneBufferGeometry(.295,.295),l),[.15,.15,0]],[new g.a.Line(A,v),[.18,.3,0],null,[.125,1,1]],[new g.a.Line(A,v),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new g.a.Mesh(new g.a.PlaneBufferGeometry(.295,.295),c),[0,.15,.15],[0,Math.PI/2,0]],[new g.a.Line(A,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new g.a.Line(A,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new g.a.Mesh(new g.a.PlaneBufferGeometry(.295,.295),u),[.15,0,.15],[-Math.PI/2,0,0]],[new g.a.Line(A,m),[.18,0,.3],null,[.125,1,1]],[new g.a.Line(A,m),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},S={X:[[new g.a.Mesh(new g.a.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new g.a.Mesh(new g.a.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new g.a.Mesh(new g.a.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new g.a.Mesh(new g.a.OctahedronBufferGeometry(.2,0),n)]],XY:[[new g.a.Mesh(new g.a.PlaneBufferGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new g.a.Mesh(new g.a.PlaneBufferGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new g.a.Mesh(new g.a.PlaneBufferGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},T={START:[[new g.a.Mesh(new g.a.OctahedronBufferGeometry(.01,2),i),null,null,null,"helper"]],END:[[new g.a.Mesh(new g.a.OctahedronBufferGeometry(.01,2),i),null,null,null,"helper"]],DELTA:[[new g.a.Line((M=new g.a.BufferGeometry,M.addAttribute("position",new g.a.Float32BufferAttribute([0,0,0,1,1,1],3)),M),i),null,null,null,"helper"]],X:[[new g.a.Line(A,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new g.a.Line(A,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new g.a.Line(A,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},_={X:[[new g.a.Line(E(1,.5),h)],[new g.a.Mesh(new g.a.OctahedronBufferGeometry(.04,0),r),[0,0,.99],null,[1,3,1]]],Y:[[new g.a.Line(E(1,.5),d),null,[0,0,-Math.PI/2]],[new g.a.Mesh(new g.a.OctahedronBufferGeometry(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new g.a.Line(E(1,.5),f),null,[0,Math.PI/2,0]],[new g.a.Mesh(new g.a.OctahedronBufferGeometry(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new g.a.Line(E(1.25,1),b),null,[0,Math.PI/2,0]],[new g.a.Mesh(new g.a.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new g.a.Mesh(new g.a.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new g.a.Mesh(new g.a.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new g.a.Mesh(new g.a.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new g.a.Line(E(1,1),y),null,[0,Math.PI/2,0]]]},P={AXIS:[[new g.a.Line(A,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},L={X:[[new g.a.Mesh(new g.a.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new g.a.Mesh(new g.a.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new g.a.Mesh(new g.a.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new g.a.Mesh(new g.a.TorusBufferGeometry(1.25,.1,2,24),n)]],XYZE:[[new g.a.Mesh(new g.a.SphereBufferGeometry(.7,10,8),n)]]},k={X:[[new g.a.Mesh(w,r),[.8,0,0],[0,0,-Math.PI/2]],[new g.a.Line(A,h),null,null,[.8,1,1]]],Y:[[new g.a.Mesh(w,o),[0,.8,0]],[new g.a.Line(A,d),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new g.a.Mesh(w,a),[0,0,.8],[Math.PI/2,0,0]],[new g.a.Line(A,f),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new g.a.Mesh(w,l),[.85,.85,0],null,[2,2,.2]],[new g.a.Line(A,v),[.855,.98,0],null,[.125,1,1]],[new g.a.Line(A,v),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new g.a.Mesh(w,c),[0,.85,.85],null,[.2,2,2]],[new g.a.Line(A,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new g.a.Line(A,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new g.a.Mesh(w,u),[.85,0,.85],null,[2,.2,2]],[new g.a.Line(A,m),[.855,0,.98],null,[.125,1,1]],[new g.a.Line(A,m),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new g.a.Mesh(new g.a.BoxBufferGeometry(.125,.125,.125),s),[1.1,0,0]]],XYZY:[[new g.a.Mesh(new g.a.BoxBufferGeometry(.125,.125,.125),s),[0,1.1,0]]],XYZZ:[[new g.a.Mesh(new g.a.BoxBufferGeometry(.125,.125,.125),s),[0,0,1.1]]]},I={X:[[new g.a.Mesh(new g.a.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new g.a.Mesh(new g.a.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new g.a.Mesh(new g.a.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new g.a.Mesh(w,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new g.a.Mesh(w,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new g.a.Mesh(w,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new g.a.Mesh(new g.a.BoxBufferGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new g.a.Mesh(new g.a.BoxBufferGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new g.a.Mesh(new g.a.BoxBufferGeometry(.2,.2,.2),n),[0,0,1.1]]]},O={X:[[new g.a.Line(A,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new g.a.Line(A,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new g.a.Line(A,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},D=function(e){var t=new g.a.Object3D;for(var n in e)for(var i=e[n].length;i--;){var r=e[n][i][0].clone(),o=e[n][i][1],a=e[n][i][2],s=e[n][i][3],l=e[n][i][4];r.name=n,r.tag=l,o&&r.position.set(o[0],o[1],o[2]),a&&r.rotation.set(a[0],a[1],a[2]),s&&r.scale.set(s[0],s[1],s[2]),r.updateMatrix();var c=r.geometry.clone();c.applyMatrix(r.matrix),r.geometry=c,r.position.set(0,0,0),r.rotation.set(0,0,0),r.scale.set(1,1,1),t.add(r)}return t},R=new g.a.Vector3(0,0,0),N=new g.a.Euler,V=new g.a.Vector3(0,1,0),B=new g.a.Vector3(0,0,0),F=new g.a.Matrix4,z=new g.a.Quaternion,U=new g.a.Quaternion,j=new g.a.Quaternion,H=new g.a.Vector3(1,0,0),G=new g.a.Vector3(0,1,0),W=new g.a.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=D(C)),this.add(this.gizmo.rotate=D(_)),this.add(this.gizmo.scale=D(k)),this.add(this.picker.translate=D(S)),this.add(this.picker.rotate=D(L)),this.add(this.picker.scale=D(I)),this.add(this.helper.translate=D(T)),this.add(this.helper.rotate=D(P)),this.add(this.helper.scale=D(O)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:j;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var i=0;i<n.length;i++){var r=n[i];r.visible=!0,r.rotation.set(0,0,0),r.position.copy(this.worldPosition);var o=this.worldPosition.distanceTo(this.cameraPosition);if(r.scale.set(1,1,1).multiplyScalar(o*this.size/7),"helper"!==r.tag){if(r.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){"X"!==r.name&&"XYZX"!==r.name||Math.abs(V.copy(H).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Y"!==r.name&&"XYZY"!==r.name||Math.abs(V.copy(G).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"Z"!==r.name&&"XYZZ"!==r.name||Math.abs(V.copy(W).applyQuaternion(t).dot(this.eye))>.99&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XY"===r.name&&Math.abs(V.copy(W).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"YZ"===r.name&&Math.abs(V.copy(H).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),"XZ"===r.name&&Math.abs(V.copy(G).applyQuaternion(t).dot(this.eye))<.2&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),-1!==r.name.search("X")&&(V.copy(H).applyQuaternion(t).dot(this.eye)<-.4?"fwd"===r.tag?r.visible=!1:r.scale.x*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Y")&&(V.copy(G).applyQuaternion(t).dot(this.eye)<-.4?"fwd"===r.tag?r.visible=!1:r.scale.y*=-1:"bwd"===r.tag&&(r.visible=!1)),-1!==r.name.search("Z")&&(V.copy(W).applyQuaternion(t).dot(this.eye)<-.4?"fwd"===r.tag?r.visible=!1:r.scale.z*=-1:"bwd"===r.tag&&(r.visible=!1))}else"rotate"===this.mode&&(U.copy(t),V.copy(this.eye).applyQuaternion(z.copy(t).inverse()),-1!==r.name.search("E")&&r.quaternion.setFromRotationMatrix(F.lookAt(this.eye,B,G)),"X"===r.name&&(z.setFromAxisAngle(H,Math.atan2(-V.y,V.z)),z.multiplyQuaternions(U,z),r.quaternion.copy(z)),"Y"===r.name&&(z.setFromAxisAngle(G,Math.atan2(V.x,V.z)),z.multiplyQuaternions(U,z),r.quaternion.copy(z)),"Z"===r.name&&(z.setFromAxisAngle(W,Math.atan2(V.y,V.x)),z.multiplyQuaternions(U,z),r.quaternion.copy(z)));r.material._opacity=r.material._opacity||r.material.opacity,r.material._color=r.material._color||r.material.color.clone(),r.material.color.copy(r.material._color),r.material.opacity=r.material._opacity,this.axis&&(r.name===this.axis?(r.material.opacity=1,r.material.color.lerp(new g.a.Color(1,1,1),.5)):this.axis.split("").some(function(e){return r.name===e})?(r.material.opacity=1,r.material.color.lerp(new g.a.Color(1,1,1),.5)):r.material.opacity*=.05)}else r.visible=!1,"AXIS"===r.name?(r.position.copy(this.worldPositionStart),r.visible=!!this.axis,"X"===this.axis&&(z.setFromEuler(N.set(0,0,0)),r.quaternion.copy(t).multiply(z),Math.abs(V.copy(H).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Y"===this.axis&&(z.setFromEuler(N.set(0,0,Math.PI/2)),r.quaternion.copy(t).multiply(z),Math.abs(V.copy(G).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"Z"===this.axis&&(z.setFromEuler(N.set(0,Math.PI/2,0)),r.quaternion.copy(t).multiply(z),Math.abs(V.copy(W).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),"XYZE"===this.axis&&(z.setFromEuler(N.set(0,Math.PI/2,0)),V.copy(this.rotationAxis),r.quaternion.setFromRotationMatrix(F.lookAt(B,V,G)),r.quaternion.multiply(z),r.visible=this.dragging),"E"===this.axis&&(r.visible=!1)):"START"===r.name?(r.position.copy(this.worldPositionStart),r.visible=this.dragging):"END"===r.name?(r.position.copy(this.worldPosition),r.visible=this.dragging):"DELTA"===r.name?(r.position.copy(this.worldPositionStart),r.quaternion.copy(this.worldQuaternionStart),R.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),R.applyQuaternion(this.worldQuaternionStart.clone().inverse()),r.scale.copy(R),r.visible=this.dragging):(r.quaternion.copy(t),this.dragging?r.position.copy(this.worldPositionStart):r.position.copy(this.worldPosition),this.axis&&(r.visible=-1!==this.axis.search(r.name)))}g.a.Object3D.prototype.updateMatrixWorld.call(this)}};x.prototype=Object.assign(Object.create(g.a.Object3D.prototype),{constructor:x,isTransformControlsGizmo:!0});var w=function(){g.a.Mesh.call(this,new g.a.PlaneBufferGeometry(1e5,1e5,2,2),new g.a.MeshBasicMaterial({visible:!1,wireframe:!0,side:g.a.DoubleSide,transparent:!0,opacity:.1})),this.type="TransformControlsPlane";var e=new g.a.Vector3(1,0,0),t=new g.a.Vector3(0,1,0),n=new g.a.Vector3(0,0,1),i=new g.a.Vector3,r=new g.a.Vector3,o=new g.a.Vector3,a=new g.a.Matrix4,s=(new g.a.Euler,new g.a.Quaternion);this.updateMatrixWorld=function(){var l=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(l="local"),e.set(1,0,0).applyQuaternion("local"===l?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===l?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===l?this.worldQuaternion:s),o.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":o.copy(this.eye).cross(e),r.copy(e).cross(o);break;case"Y":o.copy(this.eye).cross(t),r.copy(t).cross(o);break;case"Z":o.copy(this.eye).cross(n),r.copy(n).cross(o);break;case"XY":r.copy(n);break;case"YZ":r.copy(e);break;case"XZ":o.copy(n),r.copy(t);break;case"XYZ":case"E":r.set(0,0,0)}break;case"rotate":default:r.set(0,0,0)}0===r.length()?this.quaternion.copy(this.cameraQuaternion):(a.lookAt(i.set(0,0,0),r,o),this.quaternion.setFromRotationMatrix(a)),g.a.Object3D.prototype.updateMatrixWorld.call(this)}};w.prototype=Object.assign(Object.create(g.a.Mesh.prototype),{constructor:w,isTransformControlsPlane:!0});var A=n(13),M=1.3,E=1/M,C=.2,S=30,T=function(e){function t(e,n){var i,r;a()(this,t),(i=u()(this,d()(t).call(this))).update=(r=new g.a.Vector3,function(){i._verticalLine.rotation.setFromRotationMatrix(i._camera.matrix),i._horizintalLine.rotation.setFromRotationMatrix(i._camera.matrix);var e=r.copy(i._object.position).sub(i._camera.position);i._object.add(i._verticalLine),i._object.add(i._horizintalLine),i._draggingDistance=e.length()}),i._onPointerWheel=function(){var e=new g.a.Vector3;return function(t){var n=(t=t||window.event).deltaY||t.detail||t.wheelDelta;if(i._draggingDistance*=n>0?E:M,i._draggingDistance=Object(A.c)(i._draggingDistance,C,S),null!==i._object){var r=e.copy(i._object.position).sub(i._camera.position);i._object.position.copy(i._camera.position),i._object.position.add(r.setLength(i._draggingDistance))}i.dispatchEvent(i._changeEvent)}}(),i._pointerDown=function(){var e=new g.a.Vector3;return function(t){if(null!==i._object&&!0!==i._dragging&&(i._raycaster.setFromCamera(t,i._camera),i._object.intersectRay(i._raycaster.ray))){i._dragging=!0,i._verticalLine.material=i._draggingLineMaterial,i._horizintalLine.material=i._draggingLineMaterial;var n=e.copy(i._object.position).sub(i._camera.position).normalize();i._deltaRot.setFromUnitVectors(i._raycaster.ray.direction,n),i.dispatchEvent(i._pointerDownEvent)}}}(),i._pointerUp=function(e){this._dragging&&this.dispatchEvent(this._pointerUpEvent),this._dragging=!1,this._pointerHover(e)},i._object=null,i._element=n,i._camera=e,i._dragging=!1,i._draggingDistance=1,i._deltaRot=new g.a.Quaternion,i._raycaster=new g.a.Raycaster,i._changeEvent={type:"change"},i._pointerDownEvent={type:"mouseDown"},i._pointerUpEvent={type:"mouseUp"},i._lineMaterial=new g.a.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,opacity:.5}),i._lineMaterial.color.set(16777215),i._hoverLineMaterial=i._lineMaterial.clone(),i._hoverLineMaterial.opacity=.7,i._draggingLineMaterial=i._lineMaterial.clone(),i._draggingLineMaterial.opacity=1;var o=new g.a.BufferGeometry;o.addAttribute("position",new g.a.Float32BufferAttribute([-100,0,0,100,0,0],3)),i._horizintalLine=new g.a.Line(o,i._lineMaterial),i._horizintalLine.renderOrder=5;var s=new g.a.BufferGeometry;return s.addAttribute("position",new g.a.Float32BufferAttribute([0,-100,0,0,100,0],3)),i._verticalLine=new g.a.Line(s,i._lineMaterial),i._verticalLine.renderOrder=5,i._onPointerDown=i._onPointerDown.bind(f()(i)),i._onPointerDown=i._onPointerDown.bind(f()(i)),i._onPointerHover=i._onPointerHover.bind(f()(i)),i._onPointerHover=i._onPointerHover.bind(f()(i)),i._onPointerMove=i._onPointerMove.bind(f()(i)),i._onPointerMove=i._onPointerMove.bind(f()(i)),i._onPointerUp=i._onPointerUp.bind(f()(i)),i._onPointerUp=i._onPointerUp.bind(f()(i)),i._onPointerUp=i._onPointerUp.bind(f()(i)),i._onPointerUp=i._onPointerUp.bind(f()(i)),i._onPointerUp=i._onPointerUp.bind(f()(i)),i._onPointerUp=i._onPointerUp.bind(f()(i)),i._onContext=i._onContext.bind(f()(i)),n.addEventListener("mousedown",i._onPointerDown,!0),n.addEventListener("touchstart",i._onPointerDown,!0),n.addEventListener("mousemove",i._onPointerHover,!0),n.addEventListener("touchmove",i._onPointerHover,!0),n.addEventListener("mousemove",i._onPointerMove,!0),n.addEventListener("touchmove",i._onPointerMove,!0),n.addEventListener("mouseup",i._onPointerUp,!0),n.addEventListener("mouseleave",i._onPointerUp,!0),n.addEventListener("mouseout",i._onPointerUp,!0),n.addEventListener("touchend",i._onPointerUp,!0),n.addEventListener("touchcancel",i._onPointerUp,!0),n.addEventListener("touchleave",i._onPointerUp,!0),"onwheel"in document?n.addEventListener("wheel",i._onPointerWheel,!0):"onmousewheel"in document?n.addEventListener("mousewheel",i._onPointerWheel,!0):n.addEventListener("MozMousePixelScroll",i._onPointerWheel,!1),i}return v()(t,e),l()(t,[{key:"attach",value:function(e){this._object=e}},{key:"detach",value:function(){this.dispatchEvent(this._pointerUpEvent),this._object.remove(this._verticalLine),this._object.remove(this._horizintalLine),this._object=null}},{key:"dispose",value:function(){this._element.removeEventListener("mousedown",this._onPointerDown),this._element.removeEventListener("touchstart",this._onPointerDown),this._element.removeEventListener("mousemove",this._onPointerHover),this._element.removeEventListener("touchmove",this._onPointerHover),this._element.removeEventListener("mousemove",this._onPointerMove),this._element.removeEventListener("touchmove",this._onPointerMove),this._element.removeEventListener("mouseup",this._onPointerUp),this._element.removeEventListener("mouseleave",this._onPointerUp),this._element.removeEventListener("mouseout",this._onPointerUp),this._element.removeEventListener("touchend",this._onPointerUp),this._element.removeEventListener("touchcancel",this._onPointerUp),this._element.removeEventListener("touchleave",this._onPointerUp),"onwheel"in document?this._element.removeEventListener("wheel",this._onPointerWheel):"onmousewheel"in document?this._element.removeEventListener("mousewheel",this._onPointerWheel):this._element.removeEventListener("MozMousePixelScroll",this._onPointerWheel)}},{key:"_getPointer",value:function(e){var t=e.changedTouches?e.changedTouches[0]:e,n=this._element.getBoundingClientRect();return{x:(t.clientX-n.left)/n.width*2-1,y:-(t.clientY-n.top)/n.height*2+1}}},{key:"_onContext",value:function(e){e.preventDefault()}},{key:"_onPointerHover",value:function(e){this._pointerHover(this._getPointer(e))}},{key:"_onPointerDown",value:function(e){e.preventDefault(),this._pointerHover(this._getPointer(e)),this._pointerDown(this._getPointer(e))}},{key:"_onPointerMove",value:function(e){e.preventDefault(),this._pointerMove(this._getPointer(e))}},{key:"_onPointerUp",value:function(e){e.preventDefault(),this._pointerUp(this._getPointer(e))}},{key:"_pointerHover",value:function(e){null!==this._object&&!0!==this._dragging&&(this._raycaster.setFromCamera(e,this._camera),this._object.intersectRay(this._raycaster.ray)?(this._verticalLine.material=this._hoverLineMaterial,this._horizintalLine.material=this._hoverLineMaterial):(this._verticalLine.material=this._lineMaterial,this._horizintalLine.material=this._lineMaterial))}},{key:"_pointerMove",value:function(e){if(null!==this._object&&!1!==this._dragging){this._raycaster.setFromCamera(e,this._camera);var t=this._raycaster.ray.direction;t.applyQuaternion(this._deltaRot),this._object.position.copy(this._camera.position),this._object.position.add(t.setLength(this._draggingDistance)),this.dispatchEvent(this._changeEvent)}}}]),t}(g.a.Object3D),_=n(2),P={type:"change"},L={type:"mouseDown"},k={type:"mouseUp"},I=5,O=function(e){function t(e,n,i){var r,o,s,l,c,h;a()(this,t),(r=u()(this,d()(t).call(this))).getPointer=function(e){var t=e.changedTouches?e.changedTouches[0]:e,n=r.domElement.getBoundingClientRect();return{x:(t.clientX-n.left)/n.width*2-1,y:-(t.clientY-n.top)/n.height*2+1}},r.onPointerHover=function(e){r.pointerHover(r.getPointer(e))},r.onPointerDown=function(e){e.preventDefault(),r.pointerHover(r.getPointer(e)),r.pointerDown(r.getPointer(e))},r.onPointerMove=function(e){e.preventDefault(),r.pointerMove(r.getPointer(e))},r.onPointerUp=function(e){e.preventDefault(),r.pointerUp(r.getPointer(e))},r.onPointerWheel=function(){},r.pointerHover=function(e){if(null!==r.attachedObject&&!r.isFootDragging&&!r.isHeadDragging){r.raycaster.setFromCamera(e,r.camera);var t=!1;if(r.attachedObject.intersectRay(r.raycaster.ray))t=!0;else{var n=[];r.foot.raycast(r.raycaster,n),t=!!n.length}r.helperLine.material=t?r.hoverLineMaterial:r.lineMaterial}},r.pointerDown=function(e){if(null!==r.attachedObject&&!r.isFootDragging&&!r.isHeadDragging)if(r.raycaster.setFromCamera(e,r.camera),r.attachedObject.intersectRay(r.raycaster.ray))r.isHeadDragging=!0,r.helperLine.material=r.draggingLineMaterial,r.dispatchEvent(L);else{var t=[];r.foot.raycast(r.raycaster,t),t.length?(r.isFootDragging=!0,r.helperLine.material=r.draggingLineMaterial,r.dispatchEvent(L)):r.helperLine.material=r.lineMaterial}},r.pointerMove=(o=new g.a.Vector3,s=new g.a.Vector3,l=new g.a.Vector3,c=new g.a.Vector3,h=new g.a.Vector3,function(e){if(null!==r.attachedObject&&(r.isFootDragging||r.isHeadDragging)){var t=f()(r).GCV,n=new g.a.Raycaster;if(n.setFromCamera(e,r.camera),r.isFootDragging){var i=t.Camera.currentMode.name!==_.a.INSIDE?t.Floors.getVisible():void 0;t.Floors.getVisible();var a=t.HighPolyCollisionTree.trace(n.ray,i);if(a.length){var u=a[0];r.attachedObject.position.copy(u.point);var d=Object(A.a)(u.face.normal,o);r.attachedObject.setDirection(d)}r.dispatchEvent(P)}else{var p=n.ray,m=s,v=l.set(0,0,1).applyQuaternion(r.attachedObject.quaternion),y=c.copy(v).setLength(.2),b=h.copy(v).setLength(I);p.distanceSqToSegment(y.add(r.attachedObject.position),b.add(r.attachedObject.position),null,m),r.attachedObject.setDistance(m.distanceTo(r.attachedObject.position))}}}),r.pointerUp=function(e){(r.isFootDragging||r.isHeadDragging)&&r.dispatchEvent(k),r.isFootDragging=!1,r.isHeadDragging=!1,r.pointerHover(e)},r.attachedObject=void 0,r.domElement=void 0,r.camera=void 0,r.raycaster=void 0,r.foot=void 0,r.lineMaterial=void 0,r.hoverLineMaterial=void 0,r.draggingLineMaterial=void 0,r.GCV=void 0,r.helperLine=void 0,r.isFootDragging=void 0,r.isHeadDragging=void 0,r.attachedObject=null,r.domElement=n,r.camera=e,r.raycaster=new g.a.Raycaster,r.foot=new g.a.Mesh(new g.a.CylinderGeometry(.1,.1,.05,32).rotateX(Math.PI/2).translate(0,0,0),new g.a.MeshBasicMaterial({color:53247,transparent:!0})),r.foot.renderOrder=1/0,r.lineMaterial=new g.a.LineBasicMaterial({depthTest:!0,depthWrite:!1,transparent:!0,opacity:.3,color:16777215}),r.hoverLineMaterial=r.lineMaterial.clone(),r.hoverLineMaterial.opacity=.5,r.draggingLineMaterial=r.lineMaterial.clone(),r.draggingLineMaterial.opacity=1;var p=new g.a.BufferGeometry;return p.addAttribute("position",new g.a.Float32BufferAttribute([0,0,0,0,0,I],3)),r.helperLine=new g.a.Line(p,r.lineMaterial),r.helperLine.renderOrder=1/0,r.isFootDragging=!1,r.isHeadDragging=!1,r.GCV=i,r.init(),r}return v()(t,e),l()(t,[{key:"attach",value:function(e){this.attachedObject=e,this.attachedObject.add(this.foot),this.attachedObject.add(this.helperLine)}},{key:"update",value:function(){}},{key:"detach",value:function(){this.dispatchEvent(k),this.attachedObject.remove(this.foot),this.attachedObject.remove(this.helperLine),this.attachedObject=null}},{key:"dispose",value:function(){this.domElement.removeEventListener("mousedown",this.onPointerDown),this.domElement.removeEventListener("touchstart",this.onPointerDown),this.domElement.removeEventListener("mousemove",this.onPointerHover),this.domElement.removeEventListener("touchmove",this.onPointerHover),this.domElement.removeEventListener("mousemove",this.onPointerMove),this.domElement.removeEventListener("touchmove",this.onPointerMove),this.domElement.removeEventListener("mouseup",this.onPointerUp),this.domElement.removeEventListener("mouseleave",this.onPointerUp),this.domElement.removeEventListener("mouseout",this.onPointerUp),this.domElement.removeEventListener("touchend",this.onPointerUp),this.domElement.removeEventListener("touchcancel",this.onPointerUp),this.domElement.removeEventListener("touchleave",this.onPointerUp),"onwheel"in document?this.domElement.removeEventListener("wheel",this.onPointerWheel):"onmousewheel"in document?this.domElement.removeEventListener("mousewheel",this.onPointerWheel):this.domElement.removeEventListener("MozMousePixelScroll",this.onPointerWheel)}},{key:"init",value:function(){this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("mousemove",this.onPointerHover,!0),this.domElement.addEventListener("touchmove",this.onPointerHover,!0),this.domElement.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0),this.domElement.addEventListener("mouseup",this.onPointerUp,!0),this.domElement.addEventListener("mouseleave",this.onPointerUp,!0),this.domElement.addEventListener("mouseout",this.onPointerUp,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchcancel",this.onPointerUp,!0),this.domElement.addEventListener("touchleave",this.onPointerUp,!0),"onwheel"in document?this.domElement.addEventListener("wheel",this.onPointerWheel,!0):"onmousewheel"in document?this.domElement.addEventListener("mousewheel",this.onPointerWheel,!0):this.domElement.addEventListener("MozMousePixelScroll",this.onPointerWheel,!1)}}]),t}(g.a.Object3D),D=n(57),R=n.n(D),N=n(160);n.d(t,"a",function(){return G}),n.d(t,"b",function(){return W}),n.d(t,"c",function(){return Q});var V={type:"update"},B={type:"visibilityChanged"},F=new Image;F.onload=function(){z.needsUpdate=!0},F.src=y.e;var z=new g.a.Texture(F),U=.1,j=function(e){function t(e,n,i){var r,o,s;return a()(this,t),(r=u()(this,d()(t).call(this))).intersectRay=(o=new g.a.Vector3,s=new g.a.Vector3,function(e){var t=r.GCV;if(r.visible){var n=e.intersectPlane(r._plane,o),i=r.mesh.getWorldPosition(s);if(n&&n.distanceTo(i)<r.mesh.scale.x/2*(t.ENV.browser.mobile?t.Config.tag_interact_factor_mobile:t.Config.tag_interact_factor))return n}return null}),r.update=function(){var e=new g.a.Vector3,t=new g.a.Euler;return function(n,i){var r=this.GCV,o=r.Camera.getCurrentCamera(),a=this.mesh.material;this.isSelected?a.opacity<r.Config.this_active_opacity&&(a.opacity=a.opacity+n*r.Config.this_change_opacity_speed):a.opacity>r.Config.this_default_opacity&&(a.opacity=a.opacity-n*r.Config.this_change_opacity_speed);var s=this.mesh.getWorldPosition(e);this.prevScreenPosition.copy(this.screenPosition),this.screenPosition.copy(s).project(o),this.updateScale(i),this.visible=this.isVisible(),this.wasHeadRendered!==this.isHeadRendered&&this.dispatchEvent(B),this.wasHeadRendered=this.isHeadRendered,this.isHeadRendered=!1;var l=r.ENV.element,c=l.offsetWidth,u=l.offsetHeight;this.screenPosition.x=Math.round((.5+.5*this.screenPosition.x)*c),this.screenPosition.y=Math.round((.5-.5*this.screenPosition.y)*u),this.screenPosition.z=Math.round(this.screenPosition.z),this.isScreenPositionChanged=this.prevScreenPosition.x!==this.screenPosition.x||this.prevScreenPosition.y!==this.screenPosition.y;var h=this._plane.normal;h.set(0,0,1),t.setFromRotationMatrix(o.matrix),h.applyEuler(t),this._plane.setFromNormalAndCoplanarPoint(h,s),this.visible&&this.dispatchEvent(V)}.bind(this)}.bind(f()(r))(),r.GCV=e,r.tagId=n,r.forceHidden=!1,r.wasHeadRendered=!1,r.isHeadRendered=!1,r.screenPosition=new g.a.Vector3,r.prevScreenPosition=new g.a.Vector3,r.isScreenPositionChanged=!1,r.offsetWidth=1e4,r.offsetHeight=1e4,r.dpr=devicePixelRatio,r._plane=new g.a.Plane,r._initStructure(i),r}return v()(t,e),l()(t,[{key:"switchSelection",value:function(e){this.isSelected!==e&&(this.isSelected=e,e?this.dispatchEvent({type:"mouseover"}):this.dispatchEvent({type:"mouseout"}))}},{key:"setHidden",value:function(e){this.forceHidden=e}},{key:"resetFocus",value:function(){this.dispatchEvent({type:"resetFocus"})}},{key:"click",value:function(){this.dispatchEvent({type:"click"})}},{key:"updateScale",value:function(){}},{key:"setResolution",value:function(e,t){}},{key:"isVisible",value:function(){return!this.forceHidden}},{key:"_initStructure",value:function(e){var t=this,n=e?new g.a.Texture(e):z;e&&(n.needsUpdate=!0);var i=new g.a.SpriteMaterial;i.map=n,i.color.setRGB(1,1,1),i.blending=g.a.NormalBlending,i.depthWrite=!1,i.depthTest=!0,i.transparent=!0,i.opacity=1;var r=new g.a.Sprite(i);r.frustumCulled=!0,r.renderOrder=5,r.onBeforeRender=function(){t.isHeadRendered=!0},this.mesh=r,this.add(r)}}]),t}(g.a.Object3D),H=function(e){function t(e,n,i){var r;return a()(this,t),(r=u()(this,d()(t).call(this,e,n,i))).floor=0,r.controllerConstructor=b,r}return v()(t,e),l()(t,[{key:"setFloor",value:function(e){this.floor=e}},{key:"isVisible",value:function(){var e=this.GCV,n=e.Floors.getVisible(),i=r()(d()(t.prototype),"isVisible",this).call(this),o=this.mesh.material;return i&&o.opacity>0&&!e.Camera.is360&&(e.Camera.currentMode.name===_.a.INSIDE||null===this.floor||n.includes(this.floor))}},{key:"updateScale",value:function(e){var n=this.GCV,i=this.mesh.getWorldPosition(t._updateScaleVector3Tmp),r=n.Config.tag_size_on_max_distance-n.Config.tag_size_on_min_distance,o=n.Config.tag_max_distance-n.Config.tag_min_distance,a=t._updateScaleVector3Tmp2.copy(i).applyMatrix4(e).length(),s=Object(A.c)((a-n.Config.tag_min_distance)/o,0,1),l=(n.Config.tag_size_on_min_distance+s*r)*n.Config.tag_size;this.mesh.scale.set(l,l,l)}}]),t}(j);H._updateScaleVector3Tmp=new g.a.Vector3,H._updateScaleVector3Tmp2=new g.a.Vector3;var G=function(e){function t(e,n,i){var r,o;return a()(this,t),(r=u()(this,d()(t).call(this,e,n,i))).setDirection=(o=new g.a.Vector3,function(e){r.direction.copy(e),r.lookAt(o.copy(r.position).add(r.direction))}),r.setDistance=function(){var e=new g.a.Vector3;return function(t){var n=e.set(0,0,1).multiplyScalar(t);r.distance=t,r._line.scale.set(t,t,t),r.mesh.position.copy(n)}}(),r.floor=0,r.direction=new g.a.Vector3,r.distance=.3,r.controllerConstructor=O,r._line=new g.a.Mesh(N.a,N.b),r._line.renderOrder=4,r.add(r._line),r.update=r.update.bind(f()(r)),r}return v()(t,e),l()(t,[{key:"update",value:function(e,n){r()(d()(t.prototype),"update",this).call(this,e,n)}},{key:"setResolution",value:function(e,n){r()(d()(t.prototype),"setResolution",this).call(this,e,n);var i=devicePixelRatio||1;this._line.material.resolution.set(e*i,n*i)}}]),t}(H),W=function(e){function t(e,n,i,r){var o;return a()(this,t),(o=u()(this,d()(t).call(this,e,n,i))).viewpointId=r,o.controllerConstructor=T,o.mesh.scale.set(U,U,U),o}return v()(t,e),l()(t,[{key:"isVisible",value:function(){var e=this.GCV,n=r()(d()(t.prototype),"isVisible",this).call(this),i=e.Panoramas.active,o=this.mesh.material;return n&&o.opacity>0&&e.Camera.is360&&e.Camera.currentMode.name===_.a.INSIDE&&i&&i.isHighlight&&i.id===this.viewpointId}}]),t}(j),Q=function(e){function t(e){var n;return a()(this,t),(n=u()(this,d()(t).call(this))).props=e,n.tags=[],n.mouseoverTag=null,n._isMoving=!1,n.transformControl=null,n}return v()(t,e),l()(t,[{key:"update",value:function(e){var t=this.props.GCV;if(t.InputManager.isMouseInitialized()){var n=t.InputManager.getMousePos(),i=this.getTagFromCursor(n);this.mouseoverTag!==i&&(this.mouseoverTag&&this.mouseoverTag.switchSelection(!1),i&&(this._isMoving||i.switchSelection(!0)),this.mouseoverTag=i)}var r=t.Camera.getCurrentCamera(),o=(new g.a.Matrix4).getInverse(r.matrix),a=t.ENV.element,s=a.offsetWidth,l=a.offsetHeight;if(s!==this.offsetWidth||l!==this.offsetHeight||devicePixelRatio!==this.dpr){this.offsetWidth=s,this.offsetHeight=l;var c=!0,u=!1,h=void 0;try{for(var d,p=this.tags[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;f.update(e,o),f.setResolution(s,l)}}catch(e){u=!0,h=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw h}}}this.transformControl&&this.transformControl.update()}},{key:"addTag",value:function(e){var t=this.props.GCV,n=e.viewpointId?this._addViewpointTag(e):this._addSceneTag(e);return this.tags.push(n),t.Scene.add(n),n}},{key:"_addSceneTag",value:function(e){var t,n=this.props.GCV,i=e.id,r=e.position,o=e.img,a=e.floor,s=e.direction,l=e.distance;return s?((t=new G(n,i,o)).setDirection(s),t.setDistance(l)):t=new H(n,i,o),t.setFloor(a),t.position.copy(r),t}},{key:"_addViewpointTag",value:function(e){var t=this.props.GCV,n=e.id,i=e.position,r=e.img,o=e.viewpointId,a=new W(t,n,r,o);return a.position.copy(i),a}},{key:"removeAllTags",value:function(){var e=this.props.GCV;this.transformControl&&this.disableControl(),this.tags.forEach(function(t){e.Scene.remove(t)}),this.tags=[]}},{key:"removeTag",value:function(e){for(var t=this.props.GCV,n=0;n<this.tags.length;n++){var i=this.tags[n];if(i.tagId===e){this.transformControl&&this.transformControl.object===i&&this.disableControl(),this.tags.splice(n,1),t.Scene.remove(i);break}}}},{key:"enableControl",value:function(e){var t=this,n=this.props.GCV,i=this.getTag(e);if(i){this.transformControl&&this.disableControl();var r=n.Camera.getCurrentCamera();this.transformControl=new i.controllerConstructor(r,n.ENV.element,n),this.transformControl.addEventListener("mouseDown",function(){t._isMoving=!0,n.MouseInteraction.set("isTransitionsOnClickEnabled",!1),t.emit("startmove",i)}),this.transformControl.addEventListener("mouseUp",function(){t._isMoving=!1,n.MouseInteraction.set("isTransitionsOnClickEnabled",!0),t.emit("endmove",i)});var o=n.RenderLoopManager.throttle(function(e){if(i instanceof H){var t=n.HighPolyCollisionTree.getFloor(i.position);void 0===t&&(t=n.Floors.getVisible()[0]),i.setFloor(t)}this.emit("change",i)}.bind(this),300);this.transformControl.addEventListener("change",o),n.MouseInteraction.set("isViewpointZoomEnabled",!1),this.transformControl.attach(i),n.Scene.add(this.transformControl)}}},{key:"disableControl",value:function(){var e=this.props.GCV;this.transformControl&&(this.transformControl.detach(),this.transformControl.dispose(),e.Scene.remove(this.transformControl),this.transformControl=null,e.MouseInteraction.set("isViewpointZoomEnabled",!0))}},{key:"getTag",value:function(e){return this.tags.find(function(t){return t.tagId===e})}},{key:"resetFocus",value:function(){for(var e=0;e<this.tags.length;e++){this.tags[e].resetFocus()}}},{key:"getTagFromCursor",value:function(e){var t=this.props.GCV;e=e||t.InputManager.getMousePos();var n=t.Camera.getCurrentCamera().position,i=void 0,r=1/0,o=new g.a.Vector2(e.x/(t.ENV.element.offsetWidth*t.ENV.scale)*2-1,-e.y/(t.ENV.element.offsetHeight*t.ENV.scale)*2+1),a=new g.a.Raycaster;if(a.setFromCamera(o,t.Camera.getCurrentCamera()),this.tags.length&&t.CollisionTree&&!t.Camera.is360){var s=t.Floors.getVisible(),l=t.CollisionTree.trace(a.ray,s);l.length&&(r=l[0].distance)}var c=1/0;return this.tags.forEach(function(e){var t=e.intersectRay(a.ray),o=t?t.distanceTo(n):1/0;t&&o<c&&o<r&&(c=o,i=e)}),i}},{key:"setMarkersVisibility",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tags[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.setHidden(!e)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}}]),t}(R.a)},function(e,t,n){var i=n(31),r=n(18),o=n(164);e.exports=!i&&!r(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(20),r=n(25),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var i=n(102);e.exports=i("native-function-to-string",Function.toString)},function(e,t,n){var i=n(104),r=n(112),o=n(168),a=n(26);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var i=n(60).forEach,r=n(87);e.exports=r("forEach")?function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){var i=n(25),r=n(66),o=n(27)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(183),r=n(167);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(9),r=n(274).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){var i=n(18);e.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var i=n(26),r=n(219),o=n(29),a=n(106),s=n(176),l=n(275),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,h){var d,p,f,m,v,g,y=a(t,n,u?2:1);if(h)d=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(r(p)){for(f=0,m=o(e.length);m>f;f++)if((v=u?y(i(g=e[f])[0],g[1]):y(e[f]))&&v instanceof c)return v;return new c(!1)}d=p.call(e)}for(;!(g=d.next()).done;)if((v=l(d,y,g.value,u))&&v instanceof c)return v;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t){e.exports={}},function(e,t,n){var i=n(141),r=n(175),o=n(27)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||r[i(e)]}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l}),n.d(t,"setMode",function(){return c});var i=n(6),r=n.n(i),o=n(2),a="Modes/CHANGE_MODE",s={active:o.a.DOLLHOUSE};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case a:return r()({},e,{active:t.payload.mode});default:return e}}function c(e){return{type:a,payload:{mode:e}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("g",{fill:"none"},r.a.createElement("polyline",{points:"25 12 25 6 19 6"}),r.a.createElement("polyline",{points:"6 19 6 25 12 25"}),r.a.createElement("path",{d:"M18.5,12.5 L24,7"}),r.a.createElement("path",{d:"M7,24 L12.5,18.5"})))}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s}),n.d(t,"setActive",function(){return l});var i=n(6),r=n.n(i),o="Fullscreen/SET_ACTIVE",a={isActive:!1};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return r()({},e,{isActive:t.payload.active});default:return e}}function l(e){return{type:o,payload:{active:e}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return d}),n.d(t,"setLine",function(){return p}),n.d(t,"addRange",function(){return f}),n.d(t,"setValue",function(){return m}),n.d(t,"setFPS",function(){return v});var i=n(28),r=n.n(i),o=n(6),a=n.n(o),s="Debug/SET_LINE",l="Debug/SET_FPS",c="Debug/ADD_RANGE",u="Debug/SET_VALUE",h={props:{},fps:0,lines:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:var n=t.payload,i=n.key,o=n.value;return a()({},e,{lines:a()({},e.lines,r()({},i,o))});case c:var d=t.payload,p=d.key,f=d.data;return a()({},e,{props:a()({},e.props,r()({},p,a()({type:"range"},f)))});case u:var m=t.payload,v=m.key,g=m.value;return a()({},e,{props:a()({},e.props,r()({},v,a()({},e.props[v],{value:g})))});case l:return a()({},e,{fps:t.payload.value});default:return e}}function p(e,t){return{type:s,payload:{key:e,value:t}}}function f(e,t){return{type:c,payload:{key:e,data:t}}}function m(e,t){return{type:u,payload:{key:e,value:t}}}function v(e){return{type:l,payload:{value:e}}}},function(e,t,n){var i=n(20),r=n(165),o=i.WeakMap;e.exports="function"==typeof o&&/native code/.test(r.call(o))},function(e,t,n){var i=n(43),r=n(166),o=n(65),a=n(38);e.exports=function(e,t){for(var n=r(t),s=a.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||s(e,u,l(t,u))}}},function(e,t,n){var i=n(43),r=n(64),o=n(123).indexOf,a=n(121);e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var i=n(18);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var i=n(103),r=n(20),o=n(18);e.exports=i||!o(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete r[e]})},function(e,t,n){var i=n(27)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var i=n(69),r=n(42),o=n(111),a=n(29),s=function(e){return function(t,n,s,l){i(n);var c=r(t),u=o(c),h=a(c.length),d=e?h-1:0,p=e?-1:1;if(s<2)for(;;){if(d in u){l=u[d],d+=p;break}if(d+=p,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=p)d in u&&(l=n(l,u[d],d,c));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var i=n(9),r=n(60).some;i({target:"Array",proto:!0,forced:n(87)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(104);e.exports=i("navigator","userAgent")||""},function(e,t){e.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},function(e,t,n){"use strict";var i=n(9),r=n(67),o=n(297),a=n(228),s=n(18),l=1..toFixed,c=Math.floor,u=function(e,t,n){return 0===t?n:t%2==1?u(e,t-1,n*e):u(e*e,t/2,n)};i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){l.call({})})},{toFixed:function(e){var t,n,i,s,l=o(this),h=r(e),d=[0,0,0,0,0,0],p="",f="0",m=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*d[n],d[n]=i%1e7,i=c(i/1e7)},v=function(e){for(var t=6,n=0;--t>=0;)n+=d[t],d[t]=c(n/e),n=n%e*1e7},g=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*u(2,69,1))-69)<0?l*u(2,-t,1):l/u(2,t,1),n*=4503599627370496,(t=52-t)>0){for(m(0,n),i=h;i>=7;)m(1e7,0),i-=7;for(m(u(10,i,1),0),i=t-1;i>=23;)v(1<<23),i-=23;v(1<<i),m(1,1),v(2),f=g()}else m(0,n),m(1<<-t,0),f=g()+a.call("0",h);return f=h>0?p+((s=f.length)<=h?"0."+a.call("0",h-s)+f:f.slice(0,s-h)+"."+f.slice(s-h)):p+f}})},function(e,t){var n=Math.expm1,i=Math.exp;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:i(e)-1}:n},function(e,t,n){n(9)({target:"Math",stat:!0},{sign:n(233)})},function(e,t,n){"use strict";var i=n(9),r=n(20),o=n(138),a=n(59),s=n(143),l=n(174),c=n(133),u=n(25),h=n(18),d=n(187),p=n(107),f=n(232);e.exports=function(e,t,n,m,v){var g=r[e],y=g&&g.prototype,b=g,x=m?"set":"add",w={},A=function(e){var t=y[e];a(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof g||!(v||y.forEach&&!h(function(){(new g).entries().next()}))))b=n.getConstructor(t,e,m,x),s.REQUIRED=!0;else if(o(e,!0)){var M=new b,E=M[x](v?{}:-0,1)!=M,C=h(function(){M.has(1)}),S=d(function(e){new g(e)}),T=!v&&h(function(){for(var e=new g,t=5;t--;)e[x](t,t);return!e.has(-0)});S||((b=t(function(t,n){c(t,b,e);var i=f(new g,t,b);return null!=n&&l(n,i[x],i,m),i})).prototype=y,y.constructor=b),(C||T)&&(A("delete"),A("has"),m&&A("get")),(T||E)&&A(x),v&&y.clear&&delete y.clear}return w[e]=b,i({global:!0,forced:b!=g},w),p(b,e),v||n.setStrong(b,e,m),b}},function(e,t,n){"use strict";var i=n(20),r=n(31),o=n(35).NATIVE_ARRAY_BUFFER,a=n(49),s=n(157),l=n(18),c=n(133),u=n(67),h=n(29),d=n(305),p=n(112).f,f=n(38).f,m=n(222),v=n(107),g=n(73),y=g.get,b=g.set,x=i.ArrayBuffer,w=x,A=i.DataView,M=i.Math,E=i.RangeError,C=M.abs,S=M.pow,T=M.floor,_=M.log,P=M.LN2,L=function(e,t,n){var i,r,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?S(2,-24)-S(2,-77):0,h=e<0||0===e&&1/e<0?1:0,d=0;for((e=C(e))!=e||e===1/0?(r=e!=e?1:0,i=l):(i=T(_(e)/P),e*(o=S(2,-i))<1&&(i--,o*=2),(e+=i+c>=1?u/o:u*S(2,1-c))*o>=2&&(i++,o/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(e*o-1)*S(2,t),i+=c):(r=e*S(2,c-1)*S(2,t),i=0));t>=8;a[d++]=255&r,r/=256,t-=8);for(i=i<<t|r,s+=t;s>0;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*h,a},k=function(e,t){var n,i=e.length,r=8*i-t-1,o=(1<<r)-1,a=o>>1,s=r-7,l=i-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return n?NaN:c?-1/0:1/0;n+=S(2,t),u-=a}return(c?-1:1)*n*S(2,u-t)},I=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},O=function(e){return[255&e]},D=function(e){return[255&e,e>>8&255]},R=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},N=function(e){return L(e,23,4)},V=function(e){return L(e,52,8)},B=function(e,t){f(e.prototype,t,{get:function(){return y(this)[t]}})},F=function(e,t,n,i){var r=d(+n),o=y(e);if(r+t>o.byteLength)throw E("Wrong index");var a=y(o.buffer).bytes,s=r+o.byteOffset,l=a.slice(s,s+t);return i?l:l.reverse()},z=function(e,t,n,i,r,o){var a=d(+n),s=y(e);if(a+t>s.byteLength)throw E("Wrong index");for(var l=y(s.buffer).bytes,c=a+s.byteOffset,u=i(+r),h=0;h<t;h++)l[c+h]=u[o?h:t-h-1]};if(o){if(!l(function(){x(1)})||!l(function(){new x(-1)})||l(function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name})){for(var U,j=(w=function(e){return c(this,w),new x(d(e))}).prototype=x.prototype,H=p(x),G=0;H.length>G;)(U=H[G++])in w||a(w,U,x[U]);j.constructor=w}var W=new A(new w(2)),Q=A.prototype.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||s(A.prototype,{setInt8:function(e,t){Q.call(this,e,t<<24>>24)},setUint8:function(e,t){Q.call(this,e,t<<24>>24)}},{unsafe:!0})}else w=function(e){c(this,w,"ArrayBuffer");var t=d(e);b(this,{bytes:m.call(new Array(t),0),byteLength:t}),r||(this.byteLength=t)},A=function(e,t,n){c(this,A,"DataView"),c(e,w,"DataView");var i=y(e).byteLength,o=u(t);if(o<0||o>i)throw E("Wrong offset");if(o+(n=void 0===n?i-o:h(n))>i)throw E("Wrong length");b(this,{buffer:e,byteLength:n,byteOffset:o}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},r&&(B(w,"byteLength"),B(A,"buffer"),B(A,"byteLength"),B(A,"byteOffset")),s(A.prototype,{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return I(F(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return I(F(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return k(F(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return k(F(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){z(this,1,e,O,t)},setUint8:function(e,t){z(this,1,e,O,t)},setInt16:function(e,t){z(this,2,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){z(this,2,e,D,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){z(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){z(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){z(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){z(this,8,e,V,t,arguments.length>2?arguments[2]:void 0)}});v(w,"ArrayBuffer"),v(A,"DataView"),t.ArrayBuffer=w,t.DataView=A},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var r=i(n(0)).default.createContext(null);t.ReactReduxContext=r;var o=r;t.default=o},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){"use strict";n.d(t,"a",function(){return E});n(34),n(56),n(276),n(90),n(36);var i="KeyboardEvent"in window;i||(window.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),[["DOM_KEY_LOCATION_STANDARD",0],["DOM_KEY_LOCATION_LEFT",1],["DOM_KEY_LOCATION_RIGHT",2],["DOM_KEY_LOCATION_NUMPAD",3]].forEach(function(e){e[0]in window.KeyboardEvent||(window.KeyboardEvent[e[0]]=e[1])});var r=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,o=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,a=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,s=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function l(e,t){return-1!==String(e).indexOf(t)}var c=l(navigator.platform,"Win")?"win":l(navigator.platform,"Mac")?"mac":l(navigator.platform,"CrOS")?"cros":l(navigator.platform,"Linux")?"linux":l(navigator.userAgent,"iPad")||l(navigator.platform,"iPod")||l(navigator.platform,"iPhone")?"ios":"",u=l(navigator.userAgent,"Chrome/")?"chrome":l(navigator.vendor,"Apple")?"safari":l(navigator.userAgent,"MSIE")?"ie":l(navigator.userAgent,"Gecko/")?"moz":l(navigator.userAgent,"Opera/")?"opera":"",h=u+"-"+c;function d(e,t,n){h!==t&&u!==t&&c!==t||Object.keys(n).forEach(function(t){e[t]=n[t]})}var p={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"Lang1"},25:{code:"Lang2"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"MetaLeft",location:o},92:{code:"MetaRight",location:a},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:s},97:{code:"Numpad1",keyCap:"1",location:s},98:{code:"Numpad2",keyCap:"2",location:s},99:{code:"Numpad3",keyCap:"3",location:s},100:{code:"Numpad4",keyCap:"4",location:s},101:{code:"Numpad5",keyCap:"5",location:s},102:{code:"Numpad6",keyCap:"6",location:s},103:{code:"Numpad7",keyCap:"7",location:s},104:{code:"Numpad8",keyCap:"8",location:s},105:{code:"Numpad9",keyCap:"9",location:s},106:{code:"NumpadMultiply",keyCap:"*",location:s},107:{code:"NumpadAdd",keyCap:"+",location:s},108:{code:"NumpadComma",keyCap:",",location:s},109:{code:"NumpadSubtract",keyCap:"-",location:s},110:{code:"NumpadDecimal",keyCap:".",location:s},111:{code:"NumpadDivide",keyCap:"/",location:s},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:s},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:o},161:{code:"ShiftRight",location:a},162:{code:"ControlLeft",location:o},163:{code:"ControlRight",location:a},164:{code:"AltLeft",location:o},165:{code:"AltRight",location:a},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"AudioVolumeMute"},174:{code:"AudioVolumeDown"},175:{code:"AudioVolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};d(p,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:s},189:{code:"NumpadSubtract",keyCap:"-",location:s}}),d(p,"moz-mac",{12:{code:"NumLock",location:s},173:{code:"Minus",keyCap:"-"}}),d(p,"moz-win",{173:{code:"Minus",keyCap:"-"}}),d(p,"chrome-mac",{93:{code:"MetaRight",location:a}}),d(p,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),d(p,"ios",{10:{code:"Enter",location:r}}),d(p,"safari-mac",{91:{code:"MetaLeft",location:o},93:{code:"MetaRight",location:a},229:{code:"KeyQ",keyCap:"Q"}});var f={};"cros"===c&&(f["U+00A0"]={code:"ShiftLeft",location:o},f["U+00A1"]={code:"ShiftRight",location:a},f["U+00A2"]={code:"ControlLeft",location:o},f["U+00A3"]={code:"ControlRight",location:a},f["U+00A4"]={code:"AltLeft",location:o},f["U+00A5"]={code:"AltRight",location:a}),"chrome-mac"===h&&(f["U+0010"]={code:"ContextMenu"}),"safari-mac"===h&&(f["U+0010"]={code:"ContextMenu"}),"ios"===c&&(f["U+0010"]={code:"Function"},f["U+001C"]={code:"ArrowLeft"},f["U+001D"]={code:"ArrowRight"},f["U+001E"]={code:"ArrowUp"},f["U+001F"]={code:"ArrowDown"},f["U+0001"]={code:"Home"},f["U+0004"]={code:"End"},f["U+000B"]={code:"PageUp"},f["U+000C"]={code:"PageDown"});var m=[];m[o]={16:{code:"ShiftLeft",location:o},17:{code:"ControlLeft",location:o},18:{code:"AltLeft",location:o}},m[a]={16:{code:"ShiftRight",location:a},17:{code:"ControlRight",location:a},18:{code:"AltRight",location:a}},m[s]={13:{code:"NumpadEnter",location:s}},d(m[s],"moz",{109:{code:"NumpadSubtract",location:s},107:{code:"NumpadAdd",location:s}}),d(m[o],"moz-mac",{224:{code:"MetaLeft",location:o}}),d(m[a],"moz-mac",{224:{code:"MetaRight",location:a}}),d(m[a],"moz-win",{91:{code:"MetaRight",location:a}}),d(m[a],"mac",{93:{code:"MetaRight",location:a}}),d(m[s],"chrome-mac",{12:{code:"NumLock",location:s}}),d(m[s],"safari-mac",{12:{code:"NumLock",location:s},187:{code:"NumpadAdd",location:s},189:{code:"NumpadSubtract",location:s},190:{code:"NumpadDecimal",location:s},191:{code:"NumpadDivide",location:s}});var v={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},MetaLeft:{key:"Meta"},MetaRight:{key:"Meta"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};d(v,"mac",{MetaLeft:{key:"Meta"},MetaRight:{key:"Meta"}});var g,y,b,x={Add:"+",Decimal:".",Divide:"/",Subtract:"-",Multiply:"*",Spacebar:" ",Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},w=(g=p,y="code",b={},Object.keys(g).forEach(function(e){var t=g[e];y in t&&(b[t[y]]=t)}),b);try{var A=i&&"location"in new KeyboardEvent("")}catch(e){}function M(e){var t="keyCode"in e?e.keyCode:"which"in e?e.which:0,n=function(){if(A||"keyLocation"in e){var n=A?e.location:e.keyLocation;if(n&&t in m[n])return m[n][t]}return"keyIdentifier"in e&&e.keyIdentifier in f?f[e.keyIdentifier]:t in p?p[t]:null}();if(!n)return null;var i,r=(i=v[n.code])?e.shiftKey&&"shiftKey"in i?i.shiftKey:i.key:n.code;return{code:n.code,key:r,location:n.location,keyCap:n.keyCap}}function E(e){if(!("code"in e)){var t=M(e);e.code=t?t.code:"",e.key=t&&"key"in t?t.key:"Unidentified",e.location="location"in e?e.location:"keyLocation"in e?e.keyLocation:t&&"location"in t?t.location:r,e.locale=""}}"KeyboardEvent"in window&&"defineProperty"in Object&&function(){function e(e,t,n){t in e||Object.defineProperty(e,t,n)}if(e(KeyboardEvent.prototype,"code",{get:function(){var e=M(this);return e?e.code:""}}),"key"in KeyboardEvent.prototype){var t=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var e=t.get.call(this);return x.hasOwnProperty(e)?x[e]:e}})}e(KeyboardEvent.prototype,"key",{get:function(){var e=M(this);return e&&"key"in e?e.key:"Unidentified"}}),e(KeyboardEvent.prototype,"location",{get:function(){var e=M(this);return e&&"location"in e?e.location:r}}),e(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in window.KeyboardEvent||(window.KeyboardEvent.queryKeyCap=function(e,t){if(e=String(e),!w.hasOwnProperty(e))return"Undefined";if(t&&"en-us"!==String(t).toLowerCase())throw Error("Unsupported locale");var n=w[e];return n.keyCap||n.code||"Undefined"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});n(34),n(36);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=function(){function e(){r()(this,e),this.fps=void 0,this.avg=void 0,this.time=void 0,this.history=void 0,this.fps=0,this.avg=0,this.time=0,this.history=[]}return a()(e,[{key:"update",value:function(e){if(this.time+=e,this.fps=e>1e-4?1/e:0,this.history.length>60&&this.history.shift(),this.history.push(e),this.time>.5){var t=0;this.history.forEach(function(e){t+=e}),this.avg=t>.001?this.history.length/t:0,this.time-=.5}}},{key:"getFps",value:function(){return this.fps}},{key:"getAvg",value:function(){return this.avg}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(142);function i(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(i.prototype,{setSize:function(e,t){},render:function(e,t,n,i,r){console.error("THREE.Pass: .render() must be implemented in derived pass.")}})},function(e,t,n){"use strict";n(24),n(62),n(70),n(231);var i=n(33),r=n.n(i),o=n(3),a=n.n(o),s=n(0),l=n.n(s),c=n(12),u=n(99),h=n(2);function d(e){var t=e.legend,n=e.company,i=e.isCentered,o=Object(s.useState)(16),a=r()(o,2),c=a[0],u=a[1],h=Object(s.useRef)(null);return Object(s.useEffect)(function(){var e=h.current.offsetWidth,t=Math.min(1,180/e);u(Math.floor(16*t))},[n]),l.a.createElement(g,{isCentered:i,ref:h,fontSize:c},l.a.createElement(v,null,t),n)}function p(e){var t=e.children,n=e.link,i=e.isMLS;return n&&!i?l.a.createElement("a",{href:n,target:"_blank"},t):t}t.a=Object(c.connect)(function(e,t){var n=e.app.ENV,i=n.contentPathPrefix,r=n.tour,o=n.browser,a=n.isMLS;return{tourPath:"".concat(i).concat(r,"/"),browser:o,isMLS:a,whiteLabelling:e.app.datum.user.whiteLabelling}},function(e){return{dispatch:e}})(l.a.memo(function(e){var t=e.isMLS,n=e.whiteLabelling,i=e.isSplashScreen,o=e.tourPath,a=Object(s.useState)("Powered by"),c=r()(a,2),u=c[0],h=c[1],v=Object(s.useState)("GeoCV"),g=r()(v,2),y=g[0],b=g[1],x=Object(s.useState)("https://geocv.com"),w=r()(x,2),A=w[0],M=w[1],E=n.isEnabled,C=n.shortText,S=n.shortLabel,T=n.website,_=n.logo;Object(s.useEffect)(function(){E?(b(C),h(void 0!==S?S:"Captured by"),M(T)):(h("Powered by"),b("GeoCV"),M("https://geocv.com"))},[E]),Object(s.useEffect)(function(){E&&M(T)},[T]),Object(s.useEffect)(function(){E&&b(C)},[C]),Object(s.useEffect)(function(){E&&h(void 0!==S?S:"Captured by")},[S]);var P=_&&_.includes("://")?_:o+_;return l.a.createElement(f,{isSplashScreen:i},l.a.createElement(p,{link:A,isMLS:t},E&&i?_&&l.a.createElement(m,{src:P}):l.a.createElement(d,{isCentered:i,legend:u,company:y})))}));var f=a()("div",{target:"e16yu4530"})("position:relative;height:39px;fill:",h.N.color.light,";color:",h.N.color.light,";a{color:inherit;fill:inherit;text-decoration:none;}"),m=a()("img",{target:"e16yu4531"})({name:"1441uxn",styles:"height:39px;"}),v=a()("div",{target:"e16yu4532"})({name:"1m9wbzr",styles:"font-size:9px;font-weight:500;position:absolute;top:-8px;right:1px;"}),g=a()("div",{target:"e16yu4533"})(function(e){return Object(u.css)("font-size:",e.fontSize,"px;font-weight:600;position:absolute;top:50%;right:",e.isCentered?"50%":"8px",";margin-top:4px;white-space:nowrap;transform:translate(",e.isCentered?50:0,"%,-50%);")},";")},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size,n=e.stroke;return r.a.createElement(o.a,{size:t,stroke:n},r.a.createElement("path",{fill:"none",d:"M19,15 L5.50565445,10.1805909 L19,15 Z M19,15 L19,25.5 L19,15 Z M19,15 L25.7725145,10.1624896 L19,15 Z M5,21 L19,26 L26,21 L26,10 L12,5 L5,10 L5,21 Z"}),r.a.createElement("polygon",{fill:"inherit",fillRule:"nonzero",points:"13 23.5322711 13 17.7090301 11 17 11 22.778609"}))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("g",{fill:"none"},r.a.createElement("polygon",{points:"5 7 26 7 26 24 5 24"}),r.a.createElement("polyline",{points:"17 23.5 17 17 21.5 17"}),r.a.createElement("path",{d:"M17,12 L17,7.5"})))}},function(e,t,n){"use strict";n(39);var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(92),l=(n(54),n(2));t.a=function(e){var t=e.title,n=e.text,i=e.onClose;return a.a.createElement(c,null,i&&a.a.createElement(u,{onClick:i},a.a.createElement(s.a,{size:27})),a.a.createElement(h,null,a.a.createElement("span",null,"New")),t&&a.a.createElement(d,null,t),n&&a.a.createElement(p,null,n))};var c=r()("div",{target:"e1yiloyc0"})({name:"7wglpt",styles:"position:relative;padding:5px 0 5px 0;text-align:left;z-index:20;"}),u=r()("span",{target:"e1yiloyc1"})("position:absolute;right:-15px;top:-10px;width:31px;height:31px;padding:2px;cursor:pointer;stroke:",l.N.color.baseDull,";&:hover{stroke:",l.N.color.highlight,";}"),h=r()("div",{target:"e1yiloyc2"})("float:left;left:-20px;font-size:",l.N.font.small,";text-transform:uppercase;position:relative;top:-10px;padding:1px 10px;overflow:hidden;&:before{content:'';position:absolute;left:-20px;right:0;bottom:0;top:0;background:",l.N.color.highlight,";transform-origin:100% 0;transform:skewX(-10deg);}span{position:relative;color:",l.N.color.light,";z-index:1;}"),d=r()("div",{target:"e1yiloyc3"})("font-size:",l.N.font.large,";line-height:",l.N.font.compact,";font-weight:",l.N.font.semibold,";margin-bottom:0.5em;clear:both"),p=r()("div",{target:"e1yiloyc4"})("font-size:",l.N.font.text,";line-height:",l.N.font.compact,";")},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("polygon",{fill:"none",points:"9 13 15.5664517 19.4120241 22 13 15.5664517 19.4120241"}))}},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(2),l=n(12),c=r()("span",{target:"e1mgxhor0"})("font-size:",function(e){return e.isMobile?"118%":"113%"},";font-family:","'Karla',"+s.K.family,";");t.a=Object(l.connect)(function(e){return{ENV:e.app.ENV}})(function(e){var t=e.children,n=e.ENV;return a.a.createElement(c,{isMobile:n.browser.mobile},t)})},function(e,t,n){"use strict";var i=Object.freeze||function(e){return e},r=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),o=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),a=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),s=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),l=i(["#text"]),c=Object.freeze||function(e){return e},u=c(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),h=c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),d=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),p=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),f=Object.hasOwnProperty,m=Object.setPrototypeOf,v=("undefined"!=typeof Reflect&&Reflect).apply;function g(e,t){m&&m(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var r=i.toLowerCase();r!==i&&(Object.isFrozen(t)||(t[n]=r),i=r)}e[i]=!0}return e}function y(e){var t={},n=void 0;for(n in e)v(f,e,[n])&&(t[n]=e[n]);return t}v||(v=function(e,t,n){return e.apply(t,n)});var b=Object.seal||function(e){return e},x=b(/\{\{[\s\S]*|[\s\S]*\}\}/gm),w=b(/<%[\s\S]*|[\s\S]*%>/gm),A=b(/^data-[\-\w.\u00B7-\uFFFF]/),M=b(/^aria-[\-\w]+$/),E=b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),C=b(/^(?:\w+script|data):/i),S=b(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var P=("undefined"!=typeof Reflect&&Reflect).apply,L=Array.prototype.slice,k=Object.freeze,I=function(){return"undefined"==typeof window?null:window};P||(P=function(e,t,n){return e.apply(t,n)});var O=function(e,t){if("object"!==(void 0===e?"undefined":T(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};var D=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I(),n=function(t){return e(t)};if(n.version="1.0.10",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,c=!1,f=!1,m=t.document,v=t.DocumentFragment,b=t.HTMLTemplateElement,D=t.Node,R=t.NodeFilter,N=t.NamedNodeMap,V=void 0===N?t.NamedNodeMap||t.MozNamedAttrMap:N,B=t.Text,F=t.Comment,z=t.DOMParser,U=t.TrustedTypes;if("function"==typeof b){var j=m.createElement("template");j.content&&j.content.ownerDocument&&(m=j.content.ownerDocument)}var H=O(U,i),G=H?H.createHTML(""):"",W=m,Q=W.implementation,Y=W.createNodeIterator,X=W.getElementsByTagName,K=W.createDocumentFragment,q=i.importNode,J={};n.isSupported=Q&&void 0!==Q.createHTMLDocument&&9!==m.documentMode;var Z=x,$=w,ee=A,te=M,ne=C,ie=S,re=E,oe=null,ae=g({},[].concat(_(r),_(o),_(a),_(s),_(l))),se=null,le=g({},[].concat(_(u),_(h),_(d),_(p))),ce=null,ue=null,he=!0,de=!0,pe=!1,fe=!1,me=!1,ve=!1,ge=!1,ye=!1,be=!1,xe=!1,we=!1,Ae=!0,Me=!0,Ee=!1,Ce={},Se=g({},["audio","head","math","script","style","template","svg","video"]),Te=g({},["audio","video","img","source","image"]),_e=g({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Pe=null,Le=m.createElement("form"),ke=function(e){Pe&&Pe===e||(e&&"object"===(void 0===e?"undefined":T(e))||(e={}),oe="ALLOWED_TAGS"in e?g({},e.ALLOWED_TAGS):ae,se="ALLOWED_ATTR"in e?g({},e.ALLOWED_ATTR):le,ce="FORBID_TAGS"in e?g({},e.FORBID_TAGS):{},ue="FORBID_ATTR"in e?g({},e.FORBID_ATTR):{},Ce="USE_PROFILES"in e&&e.USE_PROFILES,he=!1!==e.ALLOW_ARIA_ATTR,de=!1!==e.ALLOW_DATA_ATTR,pe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,fe=e.SAFE_FOR_JQUERY||!1,me=e.SAFE_FOR_TEMPLATES||!1,ve=e.WHOLE_DOCUMENT||!1,be=e.RETURN_DOM||!1,xe=e.RETURN_DOM_FRAGMENT||!1,we=e.RETURN_DOM_IMPORT||!1,ye=e.FORCE_BODY||!1,Ae=!1!==e.SANITIZE_DOM,Me=!1!==e.KEEP_CONTENT,Ee=e.IN_PLACE||!1,re=e.ALLOWED_URI_REGEXP||re,me&&(de=!1),xe&&(be=!0),Ce&&(oe=g({},[].concat(_(l))),se=[],!0===Ce.html&&(g(oe,r),g(se,u)),!0===Ce.svg&&(g(oe,o),g(se,h),g(se,p)),!0===Ce.svgFilters&&(g(oe,a),g(se,h),g(se,p)),!0===Ce.mathMl&&(g(oe,s),g(se,d),g(se,p))),e.ADD_TAGS&&(oe===ae&&(oe=y(oe)),g(oe,e.ADD_TAGS)),e.ADD_ATTR&&(se===le&&(se=y(se)),g(se,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&g(_e,e.ADD_URI_SAFE_ATTR),Me&&(oe["#text"]=!0),ve&&g(oe,["html","head","body"]),oe.table&&g(oe,["tbody"]),k&&k(e),Pe=e)},Ie=function(e){n.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=G}},Oe=function(e,t){try{n.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){n.removed.push({attribute:null,from:t})}t.removeAttribute(e)},De=function(e){var t=void 0,n=void 0;if(ye)e="<remove></remove>"+e;else{var i=e.match(/^[\s]+/);(n=i&&i[0])&&(e=e.slice(n.length))}if(c)try{t=(new z).parseFromString(e,"text/html")}catch(e){}if(f&&g(ce,["title"]),!t||!t.documentElement){var r=(t=Q.createHTMLDocument("")).body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=H?H.createHTML(e):e}return n&&t.body.insertBefore(m.createTextNode(n),t.body.childNodes[0]||null),X.call(t,ve?"html":"body")[0]};n.isSupported&&(function(){try{De('<svg><p><style><img src="</style><img src=x onerror=1//">').querySelector("svg img")&&(c=!0)}catch(e){}}(),function(){try{De("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").innerHTML.match(/<\/title/)&&(f=!0)}catch(e){}}());var Re=function(e){return Y.call(e.ownerDocument||e,e,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,function(){return R.FILTER_ACCEPT},!1)},Ne=function(e){return"object"===(void 0===D?"undefined":T(D))?e instanceof D:e&&"object"===(void 0===e?"undefined":T(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ve=function(e,t,i){J[e]&&J[e].forEach(function(e){e.call(n,t,i,Pe)})},Be=function(e){var t,i=void 0;if(Ve("beforeSanitizeElements",e,null),!((t=e)instanceof B||t instanceof F||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof V&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return Ie(e),!0;var r=e.nodeName.toLowerCase();if(Ve("uponSanitizeElement",e,{tagName:r,allowedTags:oe}),!oe[r]||ce[r]){if(Me&&!Se[r]&&"function"==typeof e.insertAdjacentHTML)try{var o=e.innerHTML;e.insertAdjacentHTML("AfterEnd",H?H.createHTML(o):o)}catch(e){}return Ie(e),!0}return"noscript"===r&&e.innerHTML.match(/<\/noscript/i)?(Ie(e),!0):"noembed"===r&&e.innerHTML.match(/<\/noembed/i)?(Ie(e),!0):(!fe||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(n.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),me&&3===e.nodeType&&(i=(i=(i=e.textContent).replace(Z," ")).replace($," "),e.textContent!==i&&(n.removed.push({element:e.cloneNode()}),e.textContent=i)),Ve("afterSanitizeElements",e,null),!1)},Fe=function(e,t,n){if(Ae&&("id"===t||"name"===t)&&(n in m||n in Le))return!1;if(de&&ee.test(t));else if(he&&te.test(t));else{if(!se[t]||ue[t])return!1;if(_e[t]);else if(re.test(n.replace(ie,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==n.indexOf("data:")||!Te[e])if(pe&&!ne.test(n.replace(ie,"")));else if(n)return!1}return!0},ze=function(e){var t=void 0,i=void 0,r=void 0,o=void 0,a=void 0;Ve("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se};for(a=s.length;a--;){var c=t=s[a],u=c.name,h=c.namespaceURI;if(i=t.value.trim(),r=u.toLowerCase(),l.attrName=r,l.attrValue=i,l.keepAttr=!0,Ve("uponSanitizeAttribute",e,l),i=l.attrValue,"name"===r&&"IMG"===e.nodeName&&s.id)o=s.id,s=P(L,s,[]),Oe("id",e),Oe(u,e),s.indexOf(o)>a&&e.setAttribute("id",o.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===i&&(se[r]||!ue[r]))continue;"id"===u&&e.setAttribute(u,""),Oe(u,e)}if(l.keepAttr){me&&(i=(i=i.replace(Z," ")).replace($," "));var d=e.nodeName.toLowerCase();if(Fe(d,r,i))try{h?e.setAttributeNS(h,u,i):e.setAttribute(u,i),n.removed.pop()}catch(e){}}}Ve("afterSanitizeAttributes",e,null)}},Ue=function e(t){var n=void 0,i=Re(t);for(Ve("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Ve("uponSanitizeShadowNode",n,null),Be(n)||(n.content instanceof v&&e(n.content),ze(n));Ve("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var o=void 0,a=void 0,s=void 0,l=void 0,c=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ne(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!n.isSupported){if("object"===T(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Ne(e))return t.toStaticHTML(e.outerHTML)}return e}if(ge||ke(r),n.removed=[],Ee);else if(e instanceof D)1===(a=(o=De("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName?o=a:o.appendChild(a);else{if(!be&&!me&&!ve&&-1===e.indexOf("<"))return H?H.createHTML(e):e;if(!(o=De(e)))return be?null:G}o&&ye&&Ie(o.firstChild);for(var u=Re(Ee?e:o);s=u.nextNode();)3===s.nodeType&&s===l||Be(s)||(s.content instanceof v&&Ue(s.content),ze(s),l=s);if(l=null,Ee)return e;if(be){if(xe)for(c=K.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return we&&(c=q.call(i,c,!0)),c}var h=ve?o.outerHTML:o.innerHTML;return me&&(h=(h=h.replace(Z," ")).replace($," ")),H?H.createHTML(h):h},n.setConfig=function(e){ke(e),ge=!0},n.clearConfig=function(){Pe=null,ge=!1},n.isValidAttribute=function(e,t,n){Pe||ke({});var i=e.toLowerCase(),r=t.toLowerCase();return Fe(i,r,n)},n.addHook=function(e,t){"function"==typeof t&&(J[e]=J[e]||[],J[e].push(t))},n.removeHook=function(e){J[e]&&J[e].pop()},n.removeHooks=function(e){J[e]&&(J[e]=[])},n.removeAllHooks=function(){J={}},n}();e.exports=D},function(e,t,n){"use strict";var i=n(331);n.d(t,"a",function(){return i.a})},function(e,t,n){(function(t){var n="Expected a function",i=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,v=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==r}(e))return i;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,i){var r,o,a,s,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=r,i=o;return r=o=void 0,u=t,s=e.apply(i,n)}function x(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=a}function w(){var e=v();if(x(e))return A(e);l=setTimeout(w,function(e){var n=t-(e-c);return d?m(n,a-(e-u)):n}(e))}function A(e){return l=void 0,p&&r?b(e):(r=o=void 0,s)}function M(){var e=v(),n=x(e);if(r=arguments,o=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(w,t),h?b(e):s}(c);if(d)return l=setTimeout(w,t),b(c)}return void 0===l&&(l=setTimeout(w,t)),s}return t=y(t)||0,g(i)&&(h=!!i.leading,a=(d="maxWait"in i)?f(y(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),M.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=c=o=l=void 0},M.flush=function(){return void 0===l?s:A(v())},M}}).call(this,n(136))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("path",{fill:"none",d:"M26.5,12 L17,4.5 L17,9 C11.6255015,9.36923077 9.17944336,12.0078125 7.42077033,14.7435897 C5.6620973,17.479367 5.46284736,23.9487179 8.39973181,26 C7.39247233,24.2310062 8.14160156,21.1708984 9.07080078,19.0854492 C10,17 12.5,15 17,15 L17,19.5 L26.5,12 Z"}))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("g",{fill:"none"},r.a.createElement("path",{d:"M3,26 C4,23.2705882 8,24.2372549 8,21.5078431 C8,21.0829077 8.02750437,20.3563013 7.26375219,19.3399154 C6.5,18.3235294 6,17.1506013 6,15.5941176 C6,12.4098039 8.22089271,11 10.5,11 C12.7791073,11 15,12.4098039 15,15.5941176 C15,17.1506013 14.5,18.3235294 13.7362478,19.3399154 C12.9724956,20.3563013 13,21.0829077 13,21.5078431 C13,24.2372549 17,23.2705882 18,26"}),r.a.createElement("path",{d:"M12.4281177,8.19762226 C13.087286,6.89388171 14.4392544,6 16,6 L23,6 C25.209139,6 27,7.790861 27,10 L27,13 C27,15.209139 25.209139,17 23,17 L20.5,17 C19.9760392,19 18.8093726,20 17,20"}),r.a.createElement("path",{d:"M17,10 L23,10"}),r.a.createElement("path",{d:"M18,13 L23,13"})))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("g",{fill:"none"},r.a.createElement("path",{d:"M26.296442,17.4457098 C27.5534464,17.1922878 28.5,16.0816836 28.5,14.75 C28.5,13.2312169 27.2687831,12 25.75,12 C24.2312169,12 23,13.2312169 23,14.75"}),r.a.createElement("path",{d:"M4.70355798,17.4457098 C3.44655356,17.1922878 2.5,16.0816836 2.5,14.75 C2.5,13.2312169 3.73121694,12 5.25,12 C6.76878306,12 8,13.2312169 8,14.75"}),r.a.createElement("path",{d:"M26,17.5 L26,19.6541722 C26,20.9914503 25.8461049,21.4763797 25.5571221,21.9652686 C25.2681393,22.4541574 24.8440688,22.8378403 24.3037179,23.0993009 C23.763367,23.3607616 23.2273924,23.5 21.7493482,23.5 L9.25065178,23.5 C7.77260755,23.5 7.236633,23.3607616 6.69628212,23.0993009 C6.15593125,22.8378403 5.73186072,22.4541574 5.4428779,21.9652686 C5.15389509,21.4763797 5,20.9914503 5,19.6541722 L5,17.5"}),r.a.createElement("path",{d:"M24,26 C23.3333333,26 23,25.3333333 23,24"}),r.a.createElement("path",{d:"M7,26 C7.66666667,26 8,25.3333333 8,24"}),r.a.createElement("path",{d:"M6.5,12 L6.5,10.052985 C6.5,8.75698883 6.8341722,7.94344776 7.46167773,7.23233665 C8.08918327,6.52122554 9.01002213,5.96314137 10.1833555,5.58283499 C11.3566888,5.20252861 12.6990316,5 14.8374252,5 L16.1625748,5 C18.3009684,5 19.6433112,5.20252861 20.8166445,5.58283499 C21.9899779,5.96314137 22.9108167,6.52122554 23.5383223,7.23233665 C24.1658278,7.94344776 24.5,8.75698883 24.5,10.052985 L24.5,12"}),r.a.createElement("path",{d:"M8,15 L8,19.5 C9.37789213,18.8333333 11.8778921,18.5 15.5,18.5 C19.1221079,18.5 21.6221079,18.8333333 23,19.5 L23,15"})))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("polygon",{fill:"none",points:"15.5 19.537844 9.62867711 23.7233591 11.795 16.8460039 6 12.5554393 13.2101841 12.4905152 15.5 5.65328532 17.7898159 12.4905152 25 12.5554393 19.205 16.8460039 21.3713229 23.7233591"}))}},function(e,t,n){"use strict";n(52),n(53),n(76),n(24),n(40),n(37),n(23),n(50),n(51);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(1),l=n(200),c=n(32),u={uniforms:{tDiffuse:{value:null},ScreenWidth:{value:1/1280},ScreenHeight:{value:1/720}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform float ScreenWidth;\n    uniform float ScreenHeight;\n    uniform sampler2D tDiffuse;\n\n    varying vec2 vUv;\n\n    vec3 sampleTex(float x, float y) {\n      vec2 coords = vUv.xy + vec2(x * ScreenWidth, y * ScreenHeight);\n      return texture2D(tDiffuse, coords).xyz;\n    }\n    vec3 bilinearSharp5(vec2 coords) {\n      vec3 res =\n        sampleTex( 0.0,  0.0) *  5.0 +\n        sampleTex( 1.0,  0.0) * -1.0 +\n        sampleTex(-1.0,  0.0) * -1.0 +\n        sampleTex( 0.0,  1.0) * -1.0 +\n        sampleTex( 0.0, -1.0) * -1.0;\n      return res;\n    }\n    vec3 bilinearSharp9(vec2 coords) {\n      vec3 res =\n        sampleTex( 0.0,  0.0) *  32.0 +\n        sampleTex(-1.0, -1.0) * -1.0 +\n        sampleTex(-1.0,  0.0) * -2.0 +\n        sampleTex(-1.0,  1.0) * -1.0 +\n        sampleTex( 0.0, -1.0) * -2.0 +\n        sampleTex( 0.0,  1.0) * -2.0 +\n        sampleTex( 1.0, -1.0) * -1.0 +\n        sampleTex( 1.0,  0.0) * -2.0 +\n        sampleTex( 1.0,  1.0) * -1.0;\n      res = res / 20.0;\n      return res;\n    }\n    void main() {\n      vec3 color = bilinearSharp9(vUv);\n      gl_FragColor = vec4(color, 1.0);\n    // gl_FragColor = vec4(ScreenWidth, ScreenHeight, 0.0, 1.0);\n    // gl_FragColor = vec4(0.0, 1.0, 1.0, 1.0);\n    }\n  "},h={uniforms:{tDiffuse:{value:null},ScreenWidth:{value:1/1280},ScreenHeight:{value:1/720}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform float ScreenWidth;\n    uniform float ScreenHeight;\n    uniform sampler2D tDiffuse;\n\n    varying vec2 vUv;\n\n    vec3 sampleTex(float x, float y) {\n      vec2 coords = vUv.xy + vec2(x * ScreenWidth, y * ScreenHeight);\n      return texture2D(tDiffuse, coords).xyz;\n    }\n    vec3 bilinearSharp5(vec2 coords) {\n      vec3 res =\n        sampleTex( 0.0,  0.0) *  5.0 +\n        sampleTex( 1.0,  0.0) * -1.0 +\n        sampleTex(-1.0,  0.0) * -1.0 +\n        sampleTex( 0.0,  1.0) * -1.0 +\n        sampleTex( 0.0, -1.0) * -1.0;\n      return res;\n    }\n    vec3 bilinearSharp9(vec2 coords) {\n      vec3 res =\n        sampleTex( 0.0,  0.0) *  16.0 +\n        sampleTex(-1.0, -1.0) * -1.0 +\n        sampleTex(-1.0,  0.0) * -1.0 +\n        sampleTex(-1.0,  1.0) * -1.0 +\n        sampleTex( 0.0, -1.0) * -1.0 +\n        sampleTex( 0.0,  1.0) * -1.0 +\n        sampleTex( 1.0, -1.0) * -1.0 +\n        sampleTex( 1.0,  0.0) * -1.0 +\n        sampleTex( 1.0,  1.0) * -1.0;\n      res = res / 8.0;\n      return res;\n    }\n    void main() {\n      vec3 color = bilinearSharp9(vUv);\n      gl_FragColor = vec4(color, 1.0);\n      // gl_FragColor = vec4(ScreenWidth, ScreenHeight, 0.0, 1.0);\n      // gl_FragColor = vec4(0.0, 1.0, 1.0, 1.0);\n    }\n  "},d={uniforms:{tDiffuse:{value:null,magFilter:s.a.LinearFilter,minFilter:s.a.LinearFilter},uResolution:{value:new s.a.Vector2},enabled:{value:!0}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    // NVIDIA FXAA\n    precision mediump float;\n\n    uniform vec2 uResolution;\n    uniform sampler2D tDiffuse;\n    uniform bool enabled;\n\n    varying vec2 vUv;\n\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n    #define FXAA_REDUCE_MUL   (1.0 / 16.0)\n    #define FXAA_SPAN_MAX     4.0\n\n    vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n      vec4 color;\n      mediump vec2 inverseVP = resolution;\n      vec2 v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n      vec2 v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n      vec2 v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n      vec2 v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n      vec2 v_rgbM = vec2(fragCoord * inverseVP);\n      vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n      vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n      vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n      vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n      vec4 texColor = texture2D(tex, v_rgbM);\n      vec3 rgbM  = texColor.xyz;\n      vec3 luma = vec3(0.299, 0.587, 0.114);\n      float lumaNW = dot(rgbNW, luma);\n      float lumaNE = dot(rgbNE, luma);\n      float lumaSW = dot(rgbSW, luma);\n      float lumaSE = dot(rgbSE, luma);\n      float lumaM  = dot(rgbM,  luma);\n      float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n      float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n      mediump vec2 dir;\n      dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n      dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n      float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n      float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n      dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n        max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n        dir * rcpDirMin)) * inverseVP / 2.;\n\n      vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n      vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n      float lumaB = dot(rgbB, luma);\n      if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n      else\n        color = vec4(rgbB, texColor.a);\n      return color;\n    }\n\n    void main() {\n      gl_FragColor = fxaa(tDiffuse, gl_FragCoord.xy, uResolution);\n    }\n  "},p={uniforms:{tDiffuse:{value:null},uResolution:{value:new s.a.Vector2},enabled:{value:!0}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  ",fragmentShader:"\n    uniform float ScreenWidth;\n    uniform float ScreenHeight;\n    uniform sampler2D tDiffuse;\n    varying vec2 vUv;\n    vec3 sampleTex(float x, float y) {\n      vec2 coords = vUv.xy + vec2(x * ScreenWidth, y * ScreenHeight);\n      return texture2D(tDiffuse, coords).xyz;\n    }\n    void main() {\n    vec3 color =\n       sampleTex(-0.25, -0.25) +\n       sampleTex(-0.25,  0.25) +\n       sampleTex( 0.25, -0.25) +\n       sampleTex( 0.25,  0.25);\n    color *= 0.25;\n    gl_FragColor = vec4(color, 1.0);\n    // gl_FragColor = vec4(ScreenWidth, ScreenHeight, 0.0, 1.0);\n    // gl_FragColor = vec4(0.0, 1.0, 1.0, 1.0);\n    }\n  "},f=n(10),m=n.n(f),v=n(7),g=n.n(v),y=n(11),b=n.n(y),x=function(e){function t(e,n,i,o,a){var s;return r()(this,t),(s=m()(this,g()(t).call(this))).scene=e,s.camera=n,s.overrideMaterial=i,s.clearColor=o,s.clearAlpha=void 0!==a?a:0,s.clear=!0,s.clearDepth=!1,s.needsSwap=!1,s}return b()(t,e),a()(t,[{key:"render",value:function(e,t,n,i,r){var o,a,s=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,e.setRenderTarget(this.renderToScreen?void 0:n),this.clearColor&&(o=e.getClearColor().getHex(),a=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),this.clear&&e.clear(!0,!0),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(o,a),this.scene.overrideMaterial=null,e.autoClear=s}}]),t}(n(201).a),w=n(147);n.d(t,"a",function(){return M}),n.d(t,"b",function(){return E});var A=0,M=3,E=function(){function e(t){r()(this,e),this.FPS=new l.a,this.SharpMinSize=1600,this.SharpMoreMinSize=2400,this.CurrentFX=0,this.isEnabled=!0,this.lastSmaaSwitchTime=0,this.renderer=t,this.renderTarget1=null,this.renderTarget2=null,this.renderPass=null,this.postfx=null,this.width=0,this.height=0,this.fxlib=[];var n=this.renderer.getSize(new s.a.Vector2);this.width=n.width,this.height=n.height,this.renderPass=new x,this.renderPass.clearDepth=!1,this.renderPass.clearColor=!1,this.renderPass.clear=!1,this.fxaaPass=new w.a(d),this.ssaaPass=new w.a(p),this._needUpdateRenderTargets=!1,this.setSize(n.width,n.height),this.fxlib[0]=null,this.fxlib[1]=new w.a(u),this.fxlib[2]=new w.a(h),this._antialiasingMode=A}return a()(e,[{key:"update",value:function(e,t){this.FPS.update(e),this.lastSmaaSwitchTime+=e;var n=t.capabilities.maxTextureSize,i=this.FPS.getAvg();this._antialiasingMode===A?this.isEnabled=!1:1===this._antialiasingMode||this._antialiasingMode===M?this.isEnabled=!0:Math.max(this.width,this.height)>=n?this.isEnabled&&(this.isEnabled=!1,this._needUpdateRenderTargets=!0):(this.isEnabled&&i<40||!this.isEnabled&&i>50&&this.lastSmaaSwitchTime>3)&&(this.lastSmaaSwitchTime=0,this.isEnabled=!this.isEnabled,this._needUpdateRenderTargets=!0)}},{key:"render",value:function(e,t,n){var i;this._needUpdateRenderTargets&&(this.updateRenderTargets(),this._needUpdateRenderTargets=!1),(i=this._antialiasingMode===M?this.ssaaPass:this.fxaaPass).uniforms.uResolution.value=new s.a.Vector2(1/this.width,1/this.height),i.uniforms.enabled.value=!0;var r=this.postfx?this.renderTarget2:null;if(this.postfx&&(this.postfx.uniforms.ScreenWidth.value=1/this.width,this.postfx.uniforms.ScreenHeight.value=1/this.height),this.isEnabled&&null!=this.renderTarget1){this.renderer.setRenderTarget(this.renderTarget1),this.renderer.clear(!0,!0,!1);var o=!0,a=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this.renderPass.scene=h,this.renderPass.camera=t,this.renderPass.render(this.renderer,null,this.renderTarget1)}}catch(e){a=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}i.render(this.renderer,r,this.renderTarget1)}else{this.renderer.setRenderTarget(r),this.renderer.clear(!0,!0,!1);var d=!0,p=!1,f=void 0;try{for(var m,v=e[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var g=m.value;this.renderPass.scene=g,this.renderPass.camera=t,this.renderPass.render(this.renderer,null,r)}}catch(e){p=!0,f=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}}this.renderer.setRenderTarget(null),this.renderer.clearDepth(),this.postfx&&this.postfx.render(this.renderer,null,r)}},{key:"nextFX",value:function(){this.CurrentFX=this.CurrentFX+1,this.CurrentFX>=this.fxlib.length&&(this.CurrentFX=0),this.setPostFX(this.CurrentFX)}},{key:"setPostFX",value:function(e){this.CurrentFX=e,this.postfx=this.fxlib[e],this._needUpdateRenderTargets=!0}},{key:"setSize",value:function(e,t){var n=window.devicePixelRatio;this.width=Math.floor(e*n),this.height=Math.floor(t*n);Math.max(this.height,this.width);this._needUpdateRenderTargets=!0}},{key:"updateRenderTargets",value:function(){var e={minFilter:s.a.LinearFilter,magFilter:s.a.LinearFilter,format:s.a.RGBFormat,stencilBuffer:!1,depthBuffer:!0};if(this.isEnabled)if(this.renderTarget1)this.renderTarget1.setSize(this.width,this.height);else{var t=this._antialiasingMode===M?2*this.width:this.width,n=this._antialiasingMode===M?2*this.height:this.height;this.renderTarget1=new s.a.WebGLRenderTarget(t,n,e),this.renderTarget1.texture.name="PostprocessingComposer.rt1"}else this.renderTarget1&&(c.b.info("Manual antialiasing disabled"),this.renderTarget1=null);this.renderTarget2?this.renderTarget2.setSize(this.width,this.height):(this.renderTarget2=new s.a.WebGLRenderTarget(this.width,this.height,e),this.renderTarget2.texture.name="PostprocessingComposer.rt2")}},{key:"getAntialiasingMode",value:function(){return this._antialiasingMode}},{key:"setAntialiasingMode",value:function(e){this._needUpdateRenderTargets=this._antialiasingMode===e,this._antialiasingMode=e}},{key:"getInfoString",value:function(){return"fx=".concat(this.CurrentFX," ss=").concat(this.isEnabled," (").concat(this.width,"x").concat(this.height,")")}}]),e}()},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("blink")},{blink:function(){return r(this,"blink","","")}})},function(e,t,n){"use strict";var i=n(141),r={};r[n(27)("toStringTag")]="z",e.exports="[object z]"!==String(r)?function(){return"[object "+i(this)+"]"}:r.toString},function(e,t,n){var i=n(31),r=n(38),o=n(26),a=n(171);e.exports=i?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,l=0;s>l;)r.f(e,n=i[l++],t[n]);return e}},function(e,t,n){var i=n(27),r=n(175),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},function(e,t,n){var i=n(18);e.exports=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var i=n(9),r=n(222),o=n(131);i({target:"Array",proto:!0},{fill:r}),o("fill")},function(e,t,n){"use strict";var i=n(42),r=n(95),o=n(29);e.exports=function(e){for(var t=i(this),n=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var i=n(9),r=n(224),o=n(108),a=n(153),s=n(107),l=n(49),c=n(59),u=n(27),h=n(103),d=n(175),p=n(287),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,v=u("iterator"),g=function(){return this};e.exports=function(e,t,n,u,p,y,b){r(n,t,u);var x,w,A,M=function(e){if(e===p&&_)return _;if(!m&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",C=!1,S=e.prototype,T=S[v]||S["@@iterator"]||p&&S[p],_=!m&&T||M(p),P="Array"==t&&S.entries||T;if(P&&(x=o(P.call(new e)),f!==Object.prototype&&x.next&&(h||o(x)===f||(a?a(x,f):"function"!=typeof x[v]&&l(x,v,g)),s(x,E,!0,!0),h&&(d[E]=g))),"values"==p&&T&&"values"!==T.name&&(C=!0,_=function(){return T.call(this)}),h&&!b||S[v]===_||l(S,v,_),d[t]=_,p)if(w={values:M("values"),keys:y?_:M("keys"),entries:M("entries")},b)for(A in w)!m&&!C&&A in S||c(S,A,w[A]);else i({target:t,proto:!0,forced:m||C},w);return w}},function(e,t,n){"use strict";var i=n(287).IteratorPrototype,r=n(130),o=n(94),a=n(107),s=n(175),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:o(1,n)}),a(e,c,!1,!0),s[c]=l,e}},function(e,t,n){var i=n(170);e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(27)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var i=n(29),r=n(228),o=n(48),a=Math.ceil,s=function(e){return function(t,n,s){var l,c,u=String(o(t)),h=u.length,d=void 0===s?" ":String(s),p=i(n);return p<=h||""==d?u:(l=p-h,(c=r.call(d,a(l/d.length))).length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var i=n(67),r=n(48);e.exports="".repeat||function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){n(9)({target:"String",proto:!0},{repeat:n(228)})},function(e,t,n){var i=n(18),r=n(191);e.exports=function(e){return i(function(){return!!r[e]()||"âÂá "!="âÂá "[e]()||r[e].name!==e})}},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("link")},{link:function(e){return r(this,"a","href",e)}})},function(e,t,n){var i=n(25),r=n(153);e.exports=function(e,t,n){var o,a;return r&&"function"==typeof(o=t.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(e,a),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var i,r,o,a=n(20),s=n(18),l=n(66),c=n(106),u=n(270),h=n(164),d=a.location,p=a.setImmediate,f=a.clearImmediate,m=a.process,v=a.MessageChannel,g=a.Dispatch,y=0,b={},x=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},w=function(e){return function(){x(e)}},A=function(e){x(e.data)},M=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(y),y},f=function(e){delete b[e]},"process"==l(m)?i=function(e){m.nextTick(w(e))}:g&&g.now?i=function(e){g.now(w(e))}:v?(o=(r=new v).port2,r.port1.onmessage=A,i=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(M)?i="onreadystatechange"in h("script")?function(e){u.appendChild(h("script")).onreadystatechange=function(){u.removeChild(this),x(e)}}:function(e){setTimeout(w(e),0)}:(i=M,a.addEventListener("message",A,!1))),e.exports={set:p,clear:f}},function(e,t,n){"use strict";var i=n(195),r=n(303);e.exports=i("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r)},function(e,t,n){"use strict";var i=n(9),r=n(18),o=n(196),a=n(26),s=n(95),l=n(29),c=n(98),u=o.ArrayBuffer,h=o.DataView,d=u.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r(function(){return!new u(2).slice(1,void 0).byteLength})},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(a(this),e);for(var n=a(this).byteLength,i=s(e,n),r=s(void 0===t?n:t,n),o=new(c(this,u))(l(r-i)),p=new h(this),f=new h(o),m=0;i<r;)f.setUint8(m++,p.getUint8(i++));return o}})},function(e,t,n){var i=n(20),r=n(18),o=n(187),a=n(35).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,l=i.Int8Array;e.exports=!a||!r(function(){l(1)})||!r(function(){new l(-1)})||!o(function(e){new l,new l(null),new l(1.5),new l(e)},!0)||r(function(){return 1!==new l(new s(2),1,void 0).length})},function(e,t,n){n(117)("Uint16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(117)("Float32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){"use strict";var i=n(35),r=n(282),o=i.aTypedArray;i.exportProto("copyWithin",function(e,t){return r.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=n(60).every,o=i.aTypedArray;i.exportProto("every",function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=n(222),o=i.aTypedArray;i.exportProto("fill",function(e){return r.apply(o(this),arguments)})},function(e,t,n){"use strict";var i=n(35),r=n(60).filter,o=n(98),a=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("filter",function(e){for(var t=r(a(this),e,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),i=0,l=t.length,c=new(s(n))(l);l>i;)c[i]=t[i++];return c})},function(e,t,n){"use strict";var i=n(35),r=n(60).find,o=i.aTypedArray;i.exportProto("find",function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=n(60).findIndex,o=i.aTypedArray;i.exportProto("findIndex",function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=n(60).forEach,o=i.aTypedArray;i.exportProto("forEach",function(e){r(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=n(123).includes,o=i.aTypedArray;i.exportProto("includes",function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=n(123).indexOf,o=i.aTypedArray;i.exportProto("indexOf",function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(20),r=n(35),o=n(40),a=n(27)("iterator"),s=i.Uint8Array,l=o.values,c=o.keys,u=o.entries,h=r.aTypedArray,d=r.exportProto,p=s&&s.prototype[a],f=!!p&&("values"==p.name||null==p.name),m=function(){return l.call(h(this))};d("entries",function(){return u.call(h(this))}),d("keys",function(){return c.call(h(this))}),d("values",m,!f),d(a,m,!f)},function(e,t,n){"use strict";var i=n(35),r=i.aTypedArray,o=[].join;i.exportProto("join",function(e){return o.apply(r(this),arguments)})},function(e,t,n){"use strict";var i=n(35),r=n(285),o=i.aTypedArray;i.exportProto("lastIndexOf",function(e){return r.apply(o(this),arguments)})},function(e,t,n){"use strict";var i=n(35),r=n(60).map,o=n(98),a=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("map",function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(s(o(e,e.constructor)))(t)})})},function(e,t,n){"use strict";var i=n(35),r=n(188).left,o=i.aTypedArray;i.exportProto("reduce",function(e){return r(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=n(188).right,o=i.aTypedArray;i.exportProto("reduceRight",function(e){return r(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=i.aTypedArray,o=Math.floor;i.exportProto("reverse",function(){for(var e,t=r(this).length,n=o(t/2),i=0;i<n;)e=this[i],this[i++]=this[--t],this[t]=e;return this})},function(e,t,n){"use strict";var i=n(35),r=n(29),o=n(306),a=n(42),s=n(18),l=i.aTypedArray,c=s(function(){new Int8Array(1).set({})});i.exportProto("set",function(e){l(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=a(e),s=r(i.length),c=0;if(s+t>n)throw RangeError("Wrong length");for(;c<s;)this[t+c]=i[c++]},c)},function(e,t,n){"use strict";var i=n(35),r=n(98),o=n(18),a=i.aTypedArray,s=i.aTypedArrayConstructor,l=[].slice,c=o(function(){new Int8Array(1).slice()});i.exportProto("slice",function(e,t){for(var n=l.call(a(this),e,t),i=r(this,this.constructor),o=0,c=n.length,u=new(s(i))(c);c>o;)u[o]=n[o++];return u},c)},function(e,t,n){"use strict";var i=n(35),r=n(60).some,o=i.aTypedArray;i.exportProto("some",function(e){return r(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var i=n(35),r=i.aTypedArray,o=[].sort;i.exportProto("sort",function(e){return o.call(r(this),e)})},function(e,t,n){"use strict";var i=n(35),r=n(29),o=n(95),a=n(98),s=i.aTypedArray;i.exportProto("subarray",function(e,t){var n=s(this),i=n.length,l=o(e,i);return new(a(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===t?i:o(t,i))-l))})},function(e,t,n){"use strict";var i=n(20),r=n(35),o=n(18),a=i.Int8Array,s=r.aTypedArray,l=[].toLocaleString,c=[].slice,u=!!a&&o(function(){l.call(new a(1))}),h=o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])});r.exportProto("toLocaleString",function(){return l.apply(u?c.call(s(this)):s(this),arguments)},h)},function(e,t,n){"use strict";var i=n(20),r=n(35),o=n(18),a=i.Uint8Array,s=a&&a.prototype,l=[].toString,c=[].join;o(function(){l.call({})})&&(l=function(){return c.call(this)}),r.exportProto("toString",l,(s||{}).toString!=l)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=n(317),r=null,o={notify:function(){}};var a=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=o,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,i.getBatch)(),t=[],n=[],{clear:function(){n=r,t=r},notify:function(){var i=t=n;e(function(){for(var e=0;e<i.length;e++)i[e]()})},get:function(){return n},subscribe:function(e){var i=!0;return n===t&&(n=t.slice()),n.push(e),function(){i&&t!==r&&(i=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}();t.default=a},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(574)),o=i(n(575)),a=i(n(327)),s=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c=a(function(e){return e.replace(s,"-$&").toLowerCase()}),u=function(e,t){if(null==t||"boolean"==typeof t)return"";switch(e){case"animation":case"animationName":"string"==typeof t&&(t=t.replace(l,function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1!==o[e]&&45!==e.charCodeAt(1)&&"number"==typeof t&&0!==t?t+"px":t};function h(e,t,n,i){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=h(e,t,n[r],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?i+=o+"{"+t[a]+"}":i+=c(o)+":"+u(o,a)+";";else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]])i+=o+"{"+h(e,t,a,!1)+"}";else for(var s=0;s<a.length;s++)i+=c(o)+":"+u(o,a[s])+";"}return i}(e,t,n);case"function":if(void 0!==e){var o=d,a=n(e);return d=o,h(e,t,a,i)}default:if(null==t)return n;var s=t[n];return void 0===s||i?n:s}}var d,p=/label:\s*([^\s;\n{]+)\s*;/g;t.serializeStyles=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";d=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=h(n,t,a,!1)):o+=a[0];for(var s=1;s<e.length;s++)o+=h(n,t,e[s],46===o.charCodeAt(o.length-1)),i&&(o+=a[s]);p.lastIndex=0;for(var l,c="";null!==(l=p.exec(o));)c+="-"+l[1];return{name:r(o)+c,styles:o,next:d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(265);t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.serializeStyles(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return M});n(24);var i=n(15),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(2),A=n(16),M=function(t){function n(){var e;return a()(this,n),(e=u()(this,d()(n).call(this))).state={isDragged:!1},e.handleMouseMove=e.handleMouseMove.bind(f()(e)),e.handleMouseUp=e.handleMouseUp.bind(f()(e)),e.handleMouseDown=e.handleMouseDown.bind(f()(e)),e}return v()(n,t),l()(n,[{key:"handleMouseDown",value:function(e,t){if(0!==e.button)return!1;var n=this.Thumb,i=this.Container,r=this.props.isHorizontal,o=r?n.offsetLeft:n.offsetTop,a=r?n.offsetWidth:n.offsetHeight,s=r?i.offsetWidth:i.offsetHeight,l=t>=o&&t<=o+a,c=r?e.pageX:e.pageY;if(!l){var u=(t-a/2)/(s-a);this.props.onClick&&this.props.onClick(u),c=Math.round(Math.min(s-a/2,Math.max(a/2,t)))+(c-t)}this.setState({isDragged:!0,dragStartCursorPosition:c}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},{key:"handleMouseMove",value:function(e){if(this.state.isDragged&&1===e.which){var t=this.Thumb,n=this.Container,i=this.props.isHorizontal,r=i?t.offsetWidth:t.offsetHeight,o=i?n.offsetWidth:n.offsetHeight,a=((i?e.pageX:e.pageY)-this.state.dragStartCursorPosition)/(o-r);this.props.onDrag&&this.props.onDrag(a)}}},{key:"handleMouseUp",value:function(e){1===e.which&&(this.setState({isDragged:!1}),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("mousemove",this.handleMouseMove))}},{key:"componentDidMount",value:function(){this.props.onMouseDown(this.handleMouseDown.bind(this))}},{key:"componentWillUnmount",value:function(){this.props.onMouseDown(function(){return!1})}},{key:"render",value:function(){var t=this,n=this.props,i=n.isScrolling,o=n.isHover,a=n.size,s=n.value,l=n.isDark,c=n.initElement,u=n.isHorizontal,h=n.isFlipped,d=this.state.isDragged;return x.a.createElement(E,{isVisible:i||o,isActive:d,isHorizontal:u,isFlipped:h,"data-component":Object(A.a)(e),ref:function(e){t.Container=e,c&&c(e)}},x.a.createElement(C,r()({isWide:o||d},{isDark:l,isHorizontal:u,isFlipped:h}),x.a.createElement(S,r()({ref:function(e){return t.Thumb=e}},{size:a,value:s,isDark:l,isHorizontal:u}))))}}]),n}(x.a.Component),E=y()("div",{target:"e1o1s6hd0"})("position:absolute;z-index:50;opacity:",function(e){return e.isVisible||e.isActive?.6:0},";transition:opacity 0.4s,visibility 0.2s;transition-delay:0.1s;pointer-events:",function(e){return e.isActive?"auto":"none"},";cursor:pointer;",function(e){return!e.isHorizontal&&"\n    top: 0;\n    bottom: 0;\n    right: ".concat(e.isFlipped?"auto":0,";\n    left: ").concat(e.isFlipped?0:"auto",";\n    width: 14px;\n  ")}," ",function(e){return e.isHorizontal&&"\n    left: 0;\n    right: 0;\n    top: ".concat(e.isFlipped?0:"auto",";\n    bottom: ").concat(e.isFlipped?"auto":0,";\n    height: 14px;\n ")},""),C=y()("div",{target:"e1o1s6hd1"})("position:absolute;overflow:hidden;border-radius:2px;transition:width 0.4s,height 0.4s,background-color 0.4s,border-color 0.4s;transition-delay:",function(e){return e.isWide?0:.4},"s;background:",function(e){return e.isWide?e.isDark?w.H.underlay:Object(w.M)(w.H.scrollBar,.3):"transparent"},";",function(e){return!e.isHorizontal&&"\n    top: 0;\n    bottom: 0;\n    right: ".concat(e.isFlipped?"auto":0,";\n    left: ").concat(e.isFlipped?0:"auto",";\n    width: ").concat(e.isWide?14:4,"px;\n  ")}," ",function(e){return e.isHorizontal&&"\n    left: 0;\n    right: 0;\n    top: ".concat(e.isFlipped?0:"auto",";\n    bottom: ").concat(e.isFlipped?"auto":0,";\n    height: ").concat(e.isWide?14:4,"px;\n  ")},""),S=y()("div",{target:"e1o1s6hd2"})("position:absolute;border-radius:2px;background:",function(e){return e.isDark?w.H.underlayCompound:w.H.scrollBar},";",function(e){return!e.isHorizontal&&"\n    left: 0;\n    right: 0;\n    top: ".concat(e.value?e.value*(1-e.size)*100:0,"%;\n    height: ").concat(e.size?100*e.size:0,"%;\n    min-height: 50px;\n  ")}," ",function(e){return e.isHorizontal&&"\n    bottom: 0;\n    top: 0;\n    left: ".concat(e.value?e.value*(1-e.size)*100:0,"%;\n    width: ").concat(e.size?100*e.size:0,"%;\n    min-width: 50px;\n  ")},"")}).call(this,"src/components/Scrollable/ScrollBar.js")},function(e,t,n){"use strict";var i=n(0);t.a=function(e){var t=Object(i.useRef)();return Object(i.useEffect)(function(){t.current=e}),t.current}},function(e,t,n){"use strict";n(56),n(231),n(290),n(68),n(115),n(152);function i(e){var t=function(e){return e.match(/(https?:\/\/|\/\/|)(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),{type:RegExp.$3.indexOf("youtu")>-1?"youtube":RegExp.$3.indexOf("vimeo")>-1&&"vimeo",id:RegExp.$6}}(e);return"youtube"===t.type?"//www.youtube.com/embed/"+t.id:"vimeo"===t.type&&"//player.vimeo.com/video/"+t.id}var r=n(208),o=n.n(r);t.a=function(e,t,n,r,a){var s=e.type,l=e.title,c=e.content,u=e.link,h=e.video,d=e.image,p=e.hasWebp,f=document.createDocumentFragment();if("video"===s){var m=h&&i(h);if(m){var v=document.createElement("div");v.classList.add("".concat(t,"__video"));var g=document.createElement("iframe");g.src=m,v.appendChild(g),f.appendChild(v)}}else if("image"===s){var y=/(http(s?):)([\/|.\w\s-])*\.(?:jpg|gif|png)/.test(d);if(d){var b=document.createElement("img");b.classList.add("".concat(t,"__image"));var x=p&&a?n+d+".webp":n+d;b.setAttribute("src",y?d:x),f.appendChild(b)}}if(l||c||u){var w=document.createElement("div");if(w.classList.add("".concat(t,"__text-content")),f.appendChild(w),"custom"!==s&&l){var A=document.createElement("div");A.classList.add("".concat(t,"__title")),A.innerText=l,w.appendChild(A)}if(c){var M=document.createElement("div");M.classList.add("".concat(t,"__description"),"".concat(r,"-font-karla")),w.appendChild(M),"custom"===s?M.innerHTML=o.a.sanitize(c,{ADD_TAGS:["embed","frame","frameset","iframe","link","meta","noscript","object","param","title"],ADD_ATTR:["autocapitalize","controls","autoplay","autofocus","contenteditable","minlength","sandbox","spellcheck","src","target","translate"],ALLOW_DATA_ATTR:!0,ALLOW_ARIA_ATTR:!0,ALLOW_UNKNOWN_PROTOCOLS:!0}):M.innerText=c}if("custom"!==s&&u&&u.url){var E=document.createElement("a");E.classList.add("".concat(t,"__link"),"".concat(r,"-font-karla"));var C=0===u.url.indexOf("http")?u.url:"http://".concat(u.url);E.setAttribute("target","_blank"),E.setAttribute("href",C),E.innerText=u.label||"Learn more",w.appendChild(E)}}return f}},function(e,t,n){var i=n(104);e.exports=i("document","documentElement")},function(e,t,n){var i=n(64),r=n(112).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(i(e))}},function(e,t,n){t.f=n(27)},function(e,t,n){"use strict";var i=n(31),r=n(18),o=n(171),a=n(168),s=n(149),l=n(42),c=n(111),u=Object.assign;e.exports=!u||r(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=o(u({},t)).join("")})?function(e,t){for(var n=l(e),r=arguments.length,u=1,h=a.f,d=s.f;r>u;)for(var p,f=c(arguments[u++]),m=h?o(f).concat(h(f)):o(f),v=m.length,g=0;v>g;)p=m[g++],i&&!d.call(f,p)||(n[p]=f[p]);return n}:u},function(e,t,n){var i=n(31),r=n(171),o=n(64),a=n(149).f,s=function(e){return function(t){for(var n,s=o(t),l=r(s),c=l.length,u=0,h=[];c>u;)n=l[u++],i&&!a.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){var i=n(26);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(9),r=n(18),o=n(64),a=n(65).f,s=n(31),l=r(function(){a(1)});i({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(25);e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var i=n(9),r=n(274).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){"use strict";var i=n(69),r=n(25),o=[].slice,a={};e.exports=Function.bind||function(e){var t=i(this),n=o.call(arguments,1),s=function(){var i=n.concat(o.call(arguments));return this instanceof s?function(e,t,n){if(!(t in a)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";a[t]=Function("C,a","return new C("+i.join(",")+")")}return a[t](e,n)}(t,i.length,i):t.apply(e,i)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){"use strict";var i=n(106),r=n(42),o=n(275),a=n(219),s=n(29),l=n(105),c=n(176);e.exports=function(e){var t,n,u,h,d=r(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(d);if(v&&(m=i(m,f>2?arguments[2]:void 0,2)),null==y||p==Array&&a(y))for(n=new p(t=s(d.length));t>g;g++)l(n,g,v?m(d[g],g):d[g]);else for(h=y.call(d),n=new p;!(u=h.next()).done;g++)l(n,g,v?o(h,m,[u.value,g],!0):u.value);return n.length=g,n}},function(e,t,n){"use strict";var i=n(42),r=n(95),o=n(29),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=i(this),s=o(n.length),l=r(e,s),c=r(t,s),u=arguments.length>2?arguments[2]:void 0,h=a((void 0===u?s:r(u,s))-c,s-l),d=1;for(c<l&&l<c+h&&(d=-1,c+=h-1,l+=h-1);h-- >0;)c in n?n[l]=n[c]:delete n[l],l+=d,c+=d;return n}},function(e,t,n){"use strict";var i=n(9),r=n(60).findIndex,o=n(131),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(e,t,n){"use strict";var i=n(96),r=n(29),o=n(106),a=function(e,t,n,s,l,c,u,h){for(var d,p=l,f=0,m=!!u&&o(u,h,3);f<s;){if(f in n){if(d=m?m(n[f],f,t):n[f],c>0&&i(d))p=a(e,t,d,r(d.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=d}p++}f++}return p};e.exports=a},function(e,t,n){"use strict";var i=n(64),r=n(67),o=n(29),a=n(87),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=a("lastIndexOf");e.exports=c||u?function(e){if(c)return l.apply(this,arguments)||0;var t=i(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=s(a,r(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l},function(e,t,n){"use strict";var i=n(9),r=n(188).left;i({target:"Array",proto:!0,forced:n(87)("reduce")},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i,r,o,a=n(108),s=n(49),l=n(43),c=n(27),u=n(103),h=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(r=a(a(o)))!==Object.prototype&&(i=r):d=!0),null==i&&(i={}),u||l(i,h)||s(i,h,function(){return this}),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var i=n(190);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(e,t,n){"use strict";var i=n(127),r=n(26),o=n(48),a=n(277),s=n(129);i("search",1,function(e,t,n){return[function(t){var n=o(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var o=r(e),l=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var u=s(o,l);return a(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]})},function(e,t,n){var i=n(31),r=n(20),o=n(138),a=n(232),s=n(38).f,l=n(112).f,c=n(170),u=n(126),h=n(59),d=n(18),p=n(155),f=n(27)("match"),m=r.RegExp,v=m.prototype,g=/a/g,y=/a/g,b=new m(g)!==g;if(i&&o("RegExp",!b||d(function(){return y[f]=!1,m(g)!=g||m(y)==y||"/a/i"!=m(g,"i")}))){for(var x=function(e,t){var n=this instanceof x,i=c(e),r=void 0===t;return!n&&i&&e.constructor===x&&r?e:a(b?new m(i&&!r?e.source:e,t):m((i=e instanceof x)?e.source:e,i&&r?u.call(e):t),n?this:v,x)},w=function(e){e in x||s(x,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})},A=l(m),M=0;A.length>M;)w(A[M++]);v.constructor=x,x.prototype=v,h(r,"RegExp",x)}p("RegExp")},function(e,t,n){var i=n(9),r=n(292);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){var i=n(20),r=n(156).trim,o=n(191),a=i.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");e.exports=l?function(e,t){var n=r(String(e));return a(n,t>>>0||(s.test(n)?16:10))}:a},function(e,t,n){var i=n(20),r=n(156).trim,o=n(191),a=i.parseFloat,s=1/a(o+"-0")!=-1/0;e.exports=s?function(e){var t=r(String(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},function(e,t,n){n(9)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){var i=n(25),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){n(9)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(66);e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},function(e,t,n){var i,r,o,a,s,l,c,u=n(20),h=n(65).f,d=n(66),p=n(234).set,f=n(190),m=u.MutationObserver||u.WebKitMutationObserver,v=u.process,g=u.Promise,y="process"==d(v),b=h(u,"queueMicrotask"),x=b&&b.value;x||(i=function(){var e,t;for(y&&(e=v.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?a():o=void 0,e}}o=void 0,e&&e.enter()},y?a=function(){v.nextTick(i)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(f)?(s=!0,l=document.createTextNode(""),new m(i).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):g&&g.resolve?(c=g.resolve(void 0),a=function(){c.then(i)}):a=function(){p.call(u,i)}),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,a()),o=t}},function(e,t,n){var i=n(26),r=n(25),o=n(301);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(69),r=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var i=n(195),r=n(303);e.exports=i("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r,!0)},function(e,t,n){"use strict";var i=n(38).f,r=n(130),o=n(157),a=n(106),s=n(133),l=n(174),c=n(223),u=n(155),h=n(31),d=n(143).fastKey,p=n(73),f=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,i){s(e,u,t),f(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=i&&l(i,e[c],e,n)}),p=m(t),v=function(e,t,n){var i,r,o=p(e),a=g(e,t);return a?a.value=n:(o.last=a={index:r=d(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),h?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},g=function(e,t){var n,i=p(e),r=d(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return o(u.prototype,{clear:function(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=p(this),n=g(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),h?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=p(this),i=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!g(this,e)}}),o(u.prototype,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&i(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(e,t,n){var i=t+" Iterator",r=m(t),o=m(i);c(e,t,function(e,t){f(this,{type:i,target:e,state:r(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),u(t)}}},function(e,t,n){"use strict";var i=n(157),r=n(143).getWeakData,o=n(26),a=n(25),s=n(133),l=n(174),c=n(60),u=n(43),h=n(73),d=h.set,p=h.getterFor,f=c.find,m=c.findIndex,v=0,g=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return f(e.entries,function(e){return e[0]===t})};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var h=e(function(e,i){s(e,h,t),d(e,{type:t,id:v++,frozen:void 0}),null!=i&&l(i,e[c],e,n)}),f=p(t),m=function(e,t,n){var i=f(e),a=r(o(t),!0);return!0===a?g(i).set(t,n):a[i.id]=n,e};return i(h.prototype,{delete:function(e){var t=f(this);if(!a(e))return!1;var n=r(e);return!0===n?g(t).delete(e):n&&u(n,t.id)&&delete n[t.id]},has:function(e){var t=f(this);if(!a(e))return!1;var n=r(e);return!0===n?g(t).has(e):n&&u(n,t.id)}}),i(h.prototype,n?{get:function(e){var t=f(this);if(a(e)){var n=r(e);return!0===n?g(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),h}}},function(e,t,n){var i=n(67),r=n(29);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){var i=n(67);e.exports=function(e,t){var n=i(e);if(n<0||n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var i=n(42),r=n(29),o=n(176),a=n(219),s=n(106),l=n(35).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,h,d=i(e),p=arguments.length,f=p>1?arguments[1]:void 0,m=void 0!==f,v=o(d);if(null!=v&&!a(v))for(h=v.call(d),d=[];!(u=h.next()).done;)d.push(u.value);for(m&&p>2&&(f=s(f,arguments[2],2)),n=r(d.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=m?f(d[t],t):d[t];return c}},function(e,t,n){n(117)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(117)("Int16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(117)("Int32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(117)("Uint32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){"use strict";n(50);var i,r=n(9),o=n(31),a=n(313),s=n(20),l=n(218),c=n(59),u=n(133),h=n(43),d=n(273),p=n(281),f=n(151).codeAt,m=n(534),v=n(107),g=n(314),y=n(73),b=s.URL,x=g.URLSearchParams,w=g.getState,A=y.set,M=y.getterFor("URL"),E=Math.floor,C=Math.pow,S=/[A-Za-z]/,T=/[\d+\-.A-Za-z]/,_=/\d/,P=/^(0x|0X)/,L=/^[0-7]+$/,k=/^\d+$/,I=/^[\dA-Fa-f]+$/,O=/[\u0000\u0009\u000A\u000D #%\/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #\/:?@[\\]]/,R=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\u0009\u000A\u000D]/g,V=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=F(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Y(e)){if(t=m(t),O.test(t))return"Invalid host";if(null===(n=B(t)))return"Invalid host";e.host=n}else{if(D.test(t))return"Invalid host";for(n="",i=p(t),r=0;r<i.length;r++)n+=W(i[r],U);e.host=n}},B=function(e){var t,n,i,r,o,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=P.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?k:8==o?L:I).test(r))return e;a=parseInt(r,o)}n.push(a)}for(i=0;i<t;i++)if(a=n[i],i==t-1){if(a>=C(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*C(256,3-i);return s},F=function(e){var t,n,i,r,o,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return e.charAt(h)};if(":"==d()){if(":"!=e.charAt(1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&I.test(d());)t=16*t+parseInt(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;for(i=0;d();){if(r=null,i>0){if(!("."==d()&&i<4))return;h++}if(!_.test(d()))return;for(;_.test(d());){if(o=parseInt(d(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;h++}l[c]=256*l[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!=c)return;return l},z=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},U={},j=d({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),H=d({},j,{"#":1,"?":1,"{":1,"}":1}),G=d({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),W=function(e,t){var n=f(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},Y=function(e){return h(Q,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},q=function(e,t){var n;return 2==e.length&&S.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},J=function(e){var t;return e.length>1&&q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Z=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&q(t[0],!0)||t.pop()},$=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},ie={},re={},oe={},ae={},se={},le={},ce={},ue={},he={},de={},pe={},fe={},me={},ve={},ge={},ye={},be={},xe={},we=function(e,t,n,r){var o,a,s,l,c,u=n||ee,d=0,f="",m=!1,v=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(R,"")),t=t.replace(N,""),o=p(t);d<=o.length;){switch(a=o[d],u){case ee:if(!a||!S.test(a)){if(n)return"Invalid scheme";u=ne;continue}f+=a.toLowerCase(),u=te;break;case te:if(a&&(T.test(a)||"+"==a||"-"==a||"."==a))f+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";f="",u=ne,d=0;continue}if(n&&(Y(e)!=h(Q,f)||"file"==f&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Y(e)&&Q[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=pe:Y(e)&&r&&r.scheme==e.scheme?u=ie:Y(e)?u=se:"/"==o[d+1]?(u=re,d++):(e.cannotBeABaseURL=!0,e.path.push(""),u=ye)}break;case ne:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=xe;break}u="file"==r.scheme?pe:oe;continue;case ie:if("/"!=a||"/"!=o[d+1]){u=oe;continue}u=le,d++;break;case re:if("/"==a){u=ce;break}u=ge;continue;case oe:if(e.scheme=r.scheme,a==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==a||"\\"==a&&Y(e))u=ae;else if("?"==a)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=be;else{if("#"!=a){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=ge;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=xe}break;case ae:if(!Y(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=ge;continue}u=ce}else u=le;break;case se:if(u=le,"/"!=a||"/"!=f.charAt(d+1))continue;d++;break;case le:if("/"!=a&&"\\"!=a){u=ce;continue}break;case ce:if("@"==a){m&&(f="%40"+f),m=!0,s=p(f);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||g){var x=W(b,G);g?e.password+=x:e.username+=x}else g=!0}f=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(m&&""==f)return"Invalid authority";d-=p(f).length+1,f="",u=ue}else f+=a;break;case ue:case he:if(n&&"file"==e.scheme){u=me;continue}if(":"!=a||v){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(Y(e)&&""==f)return"Invalid host";if(n&&""==f&&(X(e)||null!==e.port))return;if(l=V(e,f))return l;if(f="",u=ve,n)return;continue}"["==a?v=!0:"]"==a&&(v=!1),f+=a}else{if(""==f)return"Invalid host";if(l=V(e,f))return l;if(f="",u=de,n==he)return}break;case de:if(!_.test(a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return"Invalid port";e.port=Y(e)&&w===Q[e.scheme]?null:w,f=""}if(n)return;u=ve;continue}return"Invalid port"}f+=a;break;case pe:if(e.scheme="file","/"==a||"\\"==a)u=fe;else{if(!r||"file"!=r.scheme){u=ge;continue}if(a==i)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==a)e.host=r.host,e.path=r.path.slice(),e.query="",u=be;else{if("#"!=a){J(o.slice(d).join(""))||(e.host=r.host,e.path=r.path.slice(),Z(e)),u=ge;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=xe}}break;case fe:if("/"==a||"\\"==a){u=me;break}r&&"file"==r.scheme&&!J(o.slice(d).join(""))&&(q(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=ge;continue;case me:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&q(f))u=ge;else if(""==f){if(e.host="",n)return;u=ve}else{if(l=V(e,f))return l;if("localhost"==e.host&&(e.host=""),n)return;f="",u=ve}continue}f+=a;break;case ve:if(Y(e)){if(u=ge,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=i&&(u=ge,"/"!=a))continue}else e.fragment="",u=xe;else e.query="",u=be;break;case ge:if(a==i||"/"==a||"\\"==a&&Y(e)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Z(e),"/"==a||"\\"==a&&Y(e)||e.path.push("")):$(f)?"/"==a||"\\"==a&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&q(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(a==i||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",u=be):"#"==a&&(e.fragment="",u=xe)}else f+=W(a,H);break;case ye:"?"==a?(e.query="",u=be):"#"==a?(e.fragment="",u=xe):a!=i&&(e.path[0]+=W(a,U));break;case be:n||"#"!=a?a!=i&&("'"==a&&Y(e)?e.query+="%27":e.query+="#"==a?"%23":W(a,U)):(e.fragment="",u=xe);break;case xe:a!=i&&(e.fragment+=W(a,j))}d++}},Ae=function(e){var t,n,i=u(this,Ae,"URL"),r=arguments.length>1?arguments[1]:void 0,a=String(e),s=A(i,{type:"URL"});if(void 0!==r)if(r instanceof Ae)t=M(r);else if(n=we(t={},String(r)))throw TypeError(n);if(n=we(s,a,null,t))throw TypeError(n);var l=s.searchParams=new x,c=w(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},o||(i.href=Ee.call(i),i.origin=Ce.call(i),i.protocol=Se.call(i),i.username=Te.call(i),i.password=_e.call(i),i.host=Pe.call(i),i.hostname=Le.call(i),i.port=ke.call(i),i.pathname=Ie.call(i),i.search=Oe.call(i),i.searchParams=De.call(i),i.hash=Re.call(i))},Me=Ae.prototype,Ee=function(){var e=M(this),t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",X(e)&&(c+=n+(i?":"+i:"")+"@"),c+=z(r),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Ce=function(){var e=M(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+z(e.host)+(null!==n?":"+n:""):"null"},Se=function(){return M(this).scheme+":"},Te=function(){return M(this).username},_e=function(){return M(this).password},Pe=function(){var e=M(this),t=e.host,n=e.port;return null===t?"":null===n?z(t):z(t)+":"+n},Le=function(){var e=M(this).host;return null===e?"":z(e)},ke=function(){var e=M(this).port;return null===e?"":String(e)},Ie=function(){var e=M(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Oe=function(){var e=M(this).query;return e?"?"+e:""},De=function(){return M(this).searchParams},Re=function(){var e=M(this).fragment;return e?"#"+e:""},Ne=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(Me,{href:Ne(Ee,function(e){var t=M(this),n=String(e),i=we(t,n);if(i)throw TypeError(i);w(t.searchParams).updateSearchParams(t.query)}),origin:Ne(Ce),protocol:Ne(Se,function(e){var t=M(this);we(t,String(e)+":",ee)}),username:Ne(Te,function(e){var t=M(this),n=p(String(e));if(!K(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=W(n[i],G)}}),password:Ne(_e,function(e){var t=M(this),n=p(String(e));if(!K(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=W(n[i],G)}}),host:Ne(Pe,function(e){var t=M(this);t.cannotBeABaseURL||we(t,String(e),ue)}),hostname:Ne(Le,function(e){var t=M(this);t.cannotBeABaseURL||we(t,String(e),he)}),port:Ne(ke,function(e){var t=M(this);K(t)||(""==(e=String(e))?t.port=null:we(t,e,de))}),pathname:Ne(Ie,function(e){var t=M(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",ve))}),search:Ne(Oe,function(e){var t=M(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,be)),w(t.searchParams).updateSearchParams(t.query)}),searchParams:Ne(De),hash:Ne(Re,function(e){var t=M(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,xe)):t.fragment=null})}),c(Me,"toJSON",function(){return Ee.call(this)},{enumerable:!0}),c(Me,"toString",function(){return Ee.call(this)},{enumerable:!0}),b){var Ve=b.createObjectURL,Be=b.revokeObjectURL;Ve&&c(Ae,"createObjectURL",function(e){return Ve.apply(b,arguments)}),Be&&c(Ae,"revokeObjectURL",function(e){return Be.apply(b,arguments)})}v(Ae,"URL"),r({global:!0,forced:!a,sham:!o},{URL:Ae})},function(e,t,n){var i=n(18),r=n(27),o=n(103),a=r("iterator");e.exports=!i(function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",o&&!e.toJSON||!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash})},function(e,t,n){"use strict";n(40);var i=n(9),r=n(313),o=n(59),a=n(157),s=n(107),l=n(224),c=n(73),u=n(133),h=n(43),d=n(106),p=n(26),f=n(25),m=n(535),v=n(176),g=n(27)("iterator"),y=c.set,b=c.getterFor("URLSearchParams"),x=c.getterFor("URLSearchParamsIterator"),w=/\+/g,A=Array(4),M=function(e){return A[e-1]||(A[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},E=function(e){try{return decodeURIComponent(e)}catch(t){return e}},C=function(e){var t=e.replace(w," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(M(n--),E);return t}},S=/[!'()~]|%20/g,T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},_=function(e){return T[e]},P=function(e){return encodeURIComponent(e).replace(S,_)},L=function(e,t){if(t)for(var n,i,r=t.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),e.push({key:C(i.shift()),value:C(i.join("="))}))},k=function(e){this.entries.length=0,L(this.entries,e)},I=function(e,t){if(e<t)throw TypeError("Not enough arguments")},O=l(function(e,t){y(this,{type:"URLSearchParamsIterator",iterator:m(b(e).entries),kind:t})},"Iterator",function(){var e=x(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n}),D=function(){u(this,D,"URLSearchParams");var e,t,n,i,r,o,a,s=arguments.length>0?arguments[0]:void 0,l=[];if(y(this,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:k}),void 0!==s)if(f(s))if("function"==typeof(e=v(s)))for(t=e.call(s);!(n=t.next()).done;){if((r=(i=m(p(n.value))).next()).done||(o=i.next()).done||!i.next().done)throw TypeError("Expected sequence with length 2");l.push({key:r.value+"",value:o.value+""})}else for(a in s)h(s,a)&&l.push({key:a,value:s[a]+""});else L(l,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},R=D.prototype;a(R,{append:function(e,t){I(arguments.length,2);var n=b(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){I(arguments.length,1);for(var t=b(this),n=t.entries,i=e+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){I(arguments.length,1);for(var t=b(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){I(arguments.length,1);for(var t=b(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){I(arguments.length,1);for(var t=b(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){I(arguments.length,1);for(var n,i=b(this),r=i.entries,o=!1,a=e+"",s=t+"",l=0;l<r.length;l++)(n=r[l]).key===a&&(o?r.splice(l--,1):(o=!0,n.value=s));o||r.push({key:a,value:s}),i.updateURL()},sort:function(){var e,t,n,i=b(this),r=i.entries,o=r.slice();for(r.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){for(var t,n=b(this).entries,i=d(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new O(this,"keys")},values:function(){return new O(this,"values")},entries:function(){return new O(this,"entries")}},{enumerable:!0}),o(R,g,R.entries),o(R,"toString",function(){for(var e,t=b(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(P(e.key)+"="+P(e.value));return n.join("&")},{enumerable:!0}),s(D,"URLSearchParams"),i({global:!0,forced:!r},{URLSearchParams:D}),e.exports={URLSearchParams:D,getState:b}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))r.call(n,c)&&(s[c]=n[c]);if(i){a=i(n);for(var u=0;u<a.length;u++)o.call(n,a[u])&&(s[a[u]]=n[a[u]])}}return s}},function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}},function(e,t,n){"use strict";t.__esModule=!0,t.getBatch=t.setBatch=void 0;var i=function(e){e()};t.setBatch=function(e){return i=e};t.getBatch=function(){return i}},function(e,t,n){"use strict";var i=n(316),r=n(91);t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,r=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,y=n.methodName,b=void 0===y?"connectAdvanced":y,x=n.renderCountProp,w=void 0===x?void 0:x,A=n.shouldHandleStateChanges,M=void 0===A||A,E=n.storeKey,C=void 0===E?"store":E,S=n.withRef,T=void 0!==S&&S,_=n.forwardRef,P=void 0!==_&&_,L=n.context,k=void 0===L?d.ReactReduxContext:L,I=(0,a.default)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);(0,l.default)(void 0===w,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),(0,l.default)(!T,"withRef is removed. To access the wrapped instance, use a ref on the connected component");(0,l.default)("store"===C,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var O=k;return function(t){var n=t.displayName||t.name||"Component",i=r(n),d=(0,o.default)({},I,{getDisplayName:r,methodName:b,renderCountProp:w,shouldHandleStateChanges:M,storeKey:C,displayName:i,wrappedComponentName:n,WrappedComponent:t}),y=I.pure;var x=y?c.useMemo:function(e){return e()};function A(n){var r=(0,c.useMemo)(function(){var e=n.forwardedRef,t=(0,a.default)(n,["forwardedRef"]);return[n.context,e,t]},[n]),s=r[0],y=r[1],b=r[2],w=(0,c.useMemo)(function(){return s&&s.Consumer&&(0,u.isContextConsumer)(c.default.createElement(s.Consumer,null))?s:O},[s,O]),A=(0,c.useContext)(w),E=Boolean(n.store),C=Boolean(A)&&Boolean(A.store);(0,l.default)(E||C,'Could not find "store" in the context of "'+i+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+i+" in connect options.");var S=n.store||A.store,T=(0,c.useMemo)(function(){return function(t){return e(t.dispatch,d)}(S)},[S]),_=(0,c.useMemo)(function(){if(!M)return f;var e=new h.default(S,E?null:A.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[S,E,A]),P=_[0],L=_[1],k=(0,c.useMemo)(function(){return E?A:(0,o.default)({},A,{subscription:P})},[E,A,P]),I=(0,c.useReducer)(m,p,v),D=I[0],R=D[0],N=I[1];if(R&&R.error)throw R.error;var V=(0,c.useRef)(),B=(0,c.useRef)(b),F=(0,c.useRef)(),z=(0,c.useRef)(!1),U=x(function(){return F.current&&b===B.current?F.current:T(S.getState(),b)},[S,R,b]);g(function(){B.current=b,V.current=U,z.current=!1,F.current&&(F.current=null,L())}),g(function(){if(M){var e=!1,t=null,n=function(){if(!e){var n,i,r=S.getState();try{n=T(r,B.current)}catch(e){i=e,t=e}i||(t=null),n===V.current?z.current||L():(V.current=n,F.current=n,z.current=!0,N({type:"STORE_UPDATED",payload:{latestStoreState:r,error:i}}))}};P.onStateChange=n,P.trySubscribe(),n();return function(){if(e=!0,P.tryUnsubscribe(),t)throw t}}},[S,P,T]);var j=(0,c.useMemo)(function(){return c.default.createElement(t,(0,o.default)({},U,{ref:y}))},[y,t,U]),H=(0,c.useMemo)(function(){return M?c.default.createElement(w.Provider,{value:k},j):j},[w,j,k]);return H}var E=y?c.default.memo(A):A;if(E.WrappedComponent=t,E.displayName=i,P){var S=c.default.forwardRef(function(e,t){return c.default.createElement(E,(0,o.default)({},e,{forwardedRef:t}))});return S.displayName=i,S.WrappedComponent=t,(0,s.default)(S,t)}return(0,s.default)(E,t)}};var o=r(n(15)),a=r(n(198)),s=r(n(549)),l=r(n(264)),c=i(n(0)),u=n(319),h=r(n(263)),d=n(197),p=[],f=[null,null];function m(e,t){var n=e[1];return[t.payload,n+1]}var v=function(){return[null,0]},g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect},function(e,t,n){"use strict";e.exports=n(550)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0};var i=Object.prototype.hasOwnProperty;function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.wrapMapToPropsConstant=function(e){return function(t,n){var i=e(t,n);function r(){return i}return r.dependsOnOwnProps=!1,r}},t.getDependsOnOwnProps=r,t.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=r(e);var o=i(t,n);return"function"==typeof o&&(i.mapToProps=o,i.dependsOnOwnProps=r(o),o=i(t,n)),o},i}};i(n(322));function r(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.default=function(e,t,n){(0,r.default)(e)||(0,o.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var r=i(n(556)),o=i(n(323))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.useStore=function(){return(0,i.useReduxContext)().store};var i=n(325)},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.useReduxContext=function(){var e=(0,r.useContext)(a.ReactReduxContext);return(0,o.default)(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e};var r=n(0),o=i(n(264)),a=n(197)},function(e,t,n){"use strict";(function(e){var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(337),l=n(338),c=n(339),u=n(340),h=n(342),d=n(351),p=n(388),f=n(352),m=n(354),v=n(356),g=n(359),y=n(365),b=n(366),x=n(370),w=n(377),A=n(380),M=n(393),E=n(394),C=n(16);t.a=function(t){return a.a.createElement(S,{"data-component":Object(C.a)(e)},a.a.createElement(u.a,null),a.a.createElement(c.a,{stopSpinner:t.stopSpinner}),a.a.createElement(s.a,null,a.a.createElement(E.a,null),a.a.createElement(x.a,null),a.a.createElement(h.a,null),a.a.createElement(v.a,null),a.a.createElement(g.a,null),a.a.createElement(m.a,null),a.a.createElement(f.a,null),a.a.createElement(d.a,null),a.a.createElement(y.a,null),a.a.createElement(b.a,null),a.a.createElement(A.a,null),a.a.createElement(M.a,null)),a.a.createElement(w.a,null),a.a.createElement(l.a,null),a.a.createElement(p.a,null))};var S=r()("div",{target:"e11z1jmy0"})({name:"1w03abj",styles:"position:absolute;left:0;top:0;width:100%;height:100%;z-index:2;"})}).call(this,"src/components/Layout/Layout.tsx")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(i);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);r.insertRule(e,o?0:r.cssRules.length)}catch(e){0}}else i.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}();t.StyleSheet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRegisteredStyles=function(e,t,n){var i="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]):i+=n+" "}),i},t.insertStyles=function(e,t,n){var i=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles),void 0===e.inserted[t.name]){var r=t;do{e.insert("."+i,r,e.sheet,!0),r=r.next}while(void 0!==r)}}},function(e,t,n){"use strict";(function(e){n(24),n(283),n(44),n(154);var i=n(6),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(348),A=n(349),M=n(2),E=n(12),C=n(89),S=n(93),T=n(47),_=n(14),P=n(16),L=n(19),k=M.F.block,I=y()("section",{target:"e13saf6z0"})("position:absolute;width:100%;display:flex;flex-direction:column-reverse;bottom:0;height:auto;transition-duration:",M.O,";transition:transform,border-radius;background:",function(e){return e.isMinimapOpened&&!e.isOpened?M.H.underlayInvisible:M.H.underlay},";border-radius:",function(e){return e.isMobileLayout?"0":k},";overflow:",function(e){return e.isMobileLayout?"visible":"hidden"},";z-index:6;opacity:",function(e){return e.isDisabled?"0.3":"1"},";pointer-events:",function(e){return e.isDisabled?"none":"inherit"},";"),O=y()("div",{target:"e13saf6z1"})("left:0;right:0;color:",M.H.light,";display:flex;flex-direction:column-reverse;"),D=y()("div",{target:"e13saf6z2"})("line-height:39px;height:",function(e){return e.isOpened?39:0},"px;opacity:",function(e){return e.isOpened?1:0},";transition-duration:",M.O,";transition-property:height,opacity,background;cursor:pointer;font-size:",M.K.size,";text-align:center;&:hover{background:",function(e){return e.isMobile?"transparent":M.H.underlayLight},";}",function(e){return e.isActive&&"\n    background: ".concat(M.H.underlayDark,";\n    font-weight: ").concat(M.K.medium,";\n  ")}," ",function(e){return e.isDisabled&&"\n    pointer-events: none;\n    background: transparent;\n    font-weight: ".concat(M.K.regular,";\n    opacity: ").concat(e.isOpened?.4:0,";\n  ")}," ",function(e){return!e.isOpened&&"\n    pointer-events: none;\n  "},""),R=function(t){function n(){var e;return a()(this,n),(e=u()(this,d()(n).call(this))).handleTriggerClick=e.handleTriggerClick.bind(f()(e)),e.handleSelectFloor=e.handleSelectFloor.bind(f()(e)),e}return v()(n,t),l()(n,[{key:"handleTriggerClick",value:function(){var e=this.props,t=e.actions,n=e.isOpened;t.setVisibility(!n)}},{key:"handleSelectFloor",value:function(e){var t=this.props.actions;t.setVisibility(!1),L.a.Floors.setVisible(e),t.setTutorialInteraction(M.C.GENERAL)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.floorsMetaData,n=void 0===t?{}:t,i=e.actions,r=n.map(function(e){return{id:e.id,buttonLabel:e.number,selectorLabel:e.number+" fl.",number:e.number}}).sort(function(e,t){return e.number-t.number});i.setFloors(r)}},{key:"render",value:function(){var t=this,n=this.props,i=n.isOpened,r=n.selectedId,o=n.activeMode,a=n.isMobileLayout,s=n.floors,l=n.ENV,c=n.isDisabled,u=n.isMinimapOpened,h=i&&!c,d=o!==M.a.DOLLHOUSE,p=null===r,f=p?-1:s.findIndex(function(e){return e.id===r}),m=f>=0?s[f].selectorLabel:x.a.createElement(A.a,{ENV:l}),v=!(o===M.a.FLOORPLAN&&1===L.a.FloorPlanController.numFloorsInMesh||o===M.a.OUTDOOR);return x.a.createElement(I,{isMobileLayout:a,isDisabled:c||!v,"data-component":Object(P.a)(e),isMinimapOpened:u,isOpened:h},x.a.createElement(w.a,{isOpened:h&&v,onClick:function(e){return t.handleTriggerClick(e)}},m),x.a.createElement(O,{isOpened:h&&v},x.a.createElement(D,{isMobile:l.browser.mobile,isOpened:h&&v,onClick:function(){return t.handleSelectFloor(null)},isActive:p,isDisabled:d},"All"),s.map(function(e){var n=e.id===r;return x.a.createElement(D,{isMobile:l.browser.mobile,key:e.id,isOpened:h&&v,onClick:function(){return t.handleSelectFloor([e.id])},isActive:n},e.buttonLabel)})))}}]),n}(b.Component);t.a=Object(E.connect)(function(e){var t=e.floors,n=e.mode,i=e.layout,r=e.app,o=e.minimap;return{floorsMetaData:r.datum.tour?r.datum.tour.floors:null,isOpened:t.isOpened,floors:t.floors,selectedId:t.selectedId,isDisabled:t.isDisabled,isAllButtonVisible:t.isAllButtonVisible,activeMode:n.active,components:r.ENV.components,isMobileLayout:i.isMobileLayout,ENV:r.ENV,isMinimapOpened:o.isOpened&&o.isAvailable}},function(e){return{actions:Object(_.bindActionCreators)(r()({},C,S,{setTutorialInteraction:T.setInteraction}),e)}})(R)}).call(this,"src/components/Floors/Floors.js")},function(e,t,n){"use strict";(function(e){n(88);var i=n(15),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(267),A=n(353),M=n.n(A),E=n(210),C=n.n(E),S=n(12),T=n(16),_=y()("div",{target:"e1r0swlt0"})({name:"1grsck6",styles:"position:absolute;width:100%;height:100%;overflow:hidden;"}),P=y()("div",{target:"e1r0swlt1"})("top:0;right:",function(e){return e.scrollBarOffset.left?-e.scrollBarOffset.left:0},"px;left:0;bottom:",function(e){return e.scrollBarOffset.top?-e.scrollBarOffset.top:0},"px;position:absolute;-webkit-overflow-scrolling:touch;cursor:",function(e){return e.isActive?"pointer":"default"},";overflow:auto;",function(e){return e.overflowY&&"overflow-y: hidden;"},";",function(e){return e.overflowX&&"overflow-x: hidden;"},";"),L=function(t){function n(){var e;return a()(this,n),(e=u()(this,d()(n).call(this))).state={isVerticalEnabled:!1,isScrolling:!1,isVerticalHover:!1,scrollableOffsetX:null,scrollBarVerticalRect:null,scrollTopPosition:0,isHorizontalEnabled:!1,isHorizontalScrolling:!1,isHorizontalHover:!1,scrollableOffsetY:null,scrollBarHorizontalRect:null,scrollLeftPosition:0,isDragged:!1,dragStartPosition:0,inertialScrollEndPoint:null},e.handleResize=e.handleResize.bind(f()(e)),e.debouncedHandleResize=C()(e.handleResize,400),e.handleScroll=e.handleScroll.bind(f()(e)),e.handleMouseEnter=e.handleMouseEnter.bind(f()(e)),e.handleMouseLeave=e.handleMouseLeave.bind(f()(e)),e.handleMouseDown=e.handleMouseDown.bind(f()(e)),e.handleMouseMove=e.handleMouseMove.bind(f()(e)),e.handleMouseUp=e.handleMouseUp.bind(f()(e)),e.inertialScroll=e.inertialScroll.bind(f()(e)),e.changeScrollPosition=e.changeScrollPosition.bind(f()(e)),e.handleScrollBarDrag=e.handleScrollBarDrag.bind(f()(e)),e}return v()(n,t),l()(n,[{key:"inertialScroll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n?"scrollLeft":"scrollTop",r=e.startPoint,o=e.endPoint,a=e.startTime,s=e.easing,l=e.duration,c=Math.min(1,(Date.now()-a)/l);this.ScrollingArea[i]=r+(o-r)*s(c),c<1?window.requestAnimationFrame(function(){return t.inertialScroll(e,n)}):this.setState({inertialScrollEndPoint:null})}},{key:"handleScrollBarDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e+this.state.dragStartPosition;t?this.ScrollingArea.scrollLeft=this.state.scrollLeftLimit*n:this.ScrollingArea.scrollTop=this.state.scrollTopLimit*n}},{key:"changeScrollPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"scrollLeftLimit":"scrollTopLimit",i=t?"scrollLeft":"scrollTop",r=Math.round(Math.max(0,Math.min(e*this.state[n],this.state[n])));r!==this.ScrollingArea[i]&&(this.inertialScroll({startPoint:this.ScrollingArea[i],endPoint:r,startTime:Date.now(),easing:M()(.075,.82,.165,1),duration:400},t),this.setState({inertialScrollEndPoint:r})),this.setState({dragStartPosition:Math.min(1,Math.max(0,e))})}},{key:"handleResize",value:function(){var e=this.ScrollingArea;if(e){var t=e.offsetWidth,n=e.clientWidth,i=e.offsetHeight,r=e.clientHeight,o=e.scrollHeight,a=e.scrollWidth,s=e.scrollTop,l=e.scrollLeft,c=t-n,u=o-i,h=s/u,d=i/o,p=i-r,f=a-t,m=l/f,v=t/a;this.setState(function(e){return{isVerticalEnabled:c>0,isHorizontalEnabled:p>0,scrollableOffsetX:c,scrollTopLimit:u,scrollTopPosition:h,scrollTopSize:d,scrollableOffsetY:p,scrollLeftLimit:f,scrollLeftPosition:m,scrollLeftSize:v}})}}},{key:"handleScroll",value:function(){var e=this,t=this.ScrollingArea;clearTimeout(this.timeoutId),this.setState({scrollTopPosition:t.scrollTop/this.state.scrollTopLimit,scrollLeftPosition:t.scrollLeft/this.state.scrollLeftLimit,isScrolling:!0},function(){e.timeoutId=setTimeout(function(){e.setState({isScrolling:!1})},700)})}},{key:"handleMouseEnter",value:function(){var e=this.state,t=e.isDragged,n=e.isVerticalEnabled,i=e.isHorizontalEnabled;t||!n&&!i||(this.scrollBarVerticalRect=this.ScrollBarVertical&&this.ScrollBarVertical.getBoundingClientRect(),this.scrollBarHorizontalRect=this.ScrollBarHorizontal&&this.ScrollBarHorizontal.getBoundingClientRect())}},{key:"handleMouseLeave",value:function(){var e=this.state,t=e.isDragged,n=e.isVerticalEnabled,i=e.isHorizontalEnabled;t||!n&&!i||(this.scrollBarVerticalRect=void 0,this.scrollBarHorizontalRect=void 0,this.setState({isVerticalHover:!1,isHorizontalHover:!1}))}},{key:"handleMouseMove",value:function(e){var t=this.state,n=t.isDragged,i=t.isVerticalEnabled,r=t.isHorizontalEnabled;if(!n&&(i||r)){if(i){this.scrollBarVerticalRect=this.scrollBarVerticalRect||this.ScrollBarVertical.getBoundingClientRect();var o=this.scrollBarVerticalRect,a=e.pageX>=o.left&&e.pageX<=o.right&&e.pageY>=o.top&&e.pageY<=o.bottom;this.setState({isVerticalHover:a})}if(r){this.scrollBarHorizontalRect=this.scrollBarHorizontalRect||this.ScrollBarHorizontal.getBoundingClientRect();var s=this.scrollBarHorizontalRect;this.setState({isHorizontalHover:e.pageX>=s.left&&e.pageX<=s.right&&e.pageY>=s.top&&e.pageY<=s.bottom})}}}},{key:"handleMouseUp",value:function(e){1===e.which&&this.state.isDragged&&(this.setState({isDragged:!1}),document.removeEventListener("mouseup",this.handleMouseUp))}},{key:"handleMouseDown",value:function(e){var t=this;if(1===e.which&&(this.state.isVerticalEnabled||this.state.isHorizontalEnabled)){var n=this.state.scrollBarVerticalRect?this.state.scrollBarVerticalRect:!!this.ScrollBarVertical&&this.ScrollBarVertical.getBoundingClientRect(),i=this.state.scrollBarHorizontalRect?this.state.scrollBarHorizontalRect:!!this.ScrollBarHorizontal&&this.ScrollBarHorizontal.getBoundingClientRect(),r=!!n&&(e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom),o=!!i&&(e.pageX>=i.left&&e.pageX<=i.right&&e.pageY>=i.top&&e.pageY<=i.bottom);r&&this.state.isVerticalEnabled?(e.stopPropagation(),this.setState({isDragged:!0,dragStartPosition:this.state.scrollTopPosition},function(){t.onScrollBarVerticalMouseDown(e,e.pageY-n.top)})):o&&this.state.isHorizontalEnabled&&(e.stopPropagation(),this.setState({isDragged:!0,dragStartPosition:this.state.scrollLeftPosition},function(){t.onScrollBarHorizontalMouseDown(e,e.pageX-i.left)})),document.addEventListener("mouseup",this.handleMouseUp)}}},{key:"componentDidMount",value:function(){var e=this,t=this.ScrollingArea,n=t.scrollHeight-t.offsetHeight;t.scrollTop=this.props.scrollTopPosition*n;var i=t.scrollWidth-t.offsetWidth;t.scrollLeft=this.props.scrollLeftPosition*i,this.props.element.addEventListener("playerResize",function(){e.debouncedHandleResize()}),this.ScrollingArea.addEventListener("scroll",this.handleScroll),this.ScrollingArea.addEventListener("click",this.handleThumbClick),this.ScrollingArea.addEventListener("mouseenter",this.handleMouseEnter),this.ScrollingArea.addEventListener("mouseleave",this.handleMouseEnter),this.ScrollingArea.addEventListener("mousedown",this.handleMouseDown),this.ScrollingArea.addEventListener("mousemove",this.handleMouseMove),setTimeout(function(){e.handleResize()},50)}},{key:"componentWillUnmount",value:function(){this.props.element.removeEventListener("playerResize",this.handleResize),this.ScrollingArea.removeEventListener("scroll",this.handleScroll),this.ScrollingArea.removeEventListener("click",this.handleThumbClick),this.ScrollingArea.removeEventListener("mouseenter",this.handleMouseEnter),this.ScrollingArea.removeEventListener("mousedown",this.handleMouseDown),this.ScrollingArea.removeEventListener("mousemove",this.handleMouseMove),clearTimeout(this.timeoutId)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,i=n.scrollTopPosition,r=n.scrollLeftPosition,o=this.state;o.isHorizontalEnabled,o.isVerticalEnabled;e.scrollTopPosition!==i&&this.changeScrollPosition(i),e.scrollLeftPosition!==r&&this.changeScrollPosition(r,!0)}},{key:"shouldComponentUpdate",value:function(e,t){return t.isVerticalHover!==this.state.isVerticalHover||t.isVerticalEnabled!==this.state.isVerticalEnabled||t.scrollableOffsetX!==this.state.scrollableOffsetX||t.scrollTopSize!==this.state.scrollTopSize||t.scrollTopPosition!==this.state.scrollTopPosition||t.isHorizontalHover!==this.state.isHorizontalHover||t.isHorizontalEnabled!==this.state.isHorizontalEnabled||t.scrollableOffsetY!==this.state.scrollableOffsetY||t.scrollLeftSize!==this.state.scrollLeftSize||t.scrollLeftPosition!==this.state.scrollLeftPosition||t.isScrolling!==this.state.isScrolling||t.isDragged!==this.state.isDragged||e.children!==this.props.children||e.isDark!==this.props.isDark}},{key:"render",value:function(){var t=this,n=this.state,i=n.scrollableOffsetX,o=n.scrollTopPosition,a=n.scrollTopSize,s=n.isVerticalEnabled,l=n.isVerticalHover,c=n.scrollableOffsetY,u=n.scrollLeftPosition,h=n.scrollLeftSize,d=n.isHorizontalEnabled,p=n.isHorizontalHover,f=n.isDragged,m=n.isScrolling,v=this.props,g=v.isDark,y=v.flipHorizontalBar,b=v.flipVerticalBar,A=v.overflowY,M=v.overflowX;return x.a.createElement(_,{"data-component":Object(T.a)(e)},x.a.createElement(P,r()({name:"ScrollingArea"},{overflowY:A,overflowX:M},{isActive:l||p||f,scrollBarOffset:{left:i,top:c},ref:function(e){return t.ScrollingArea=e}}),this.props.children),s&&x.a.createElement(w.a,{isScrolling:m,isHover:l,isDark:g,isFlipped:b,value:o,size:a,initElement:function(e){return t.ScrollBarVertical=e},onMouseDown:function(e){return t.onScrollBarVerticalMouseDown=e},onDrag:this.handleScrollBarDrag,onClick:this.changeScrollPosition}),d&&x.a.createElement(w.a,{isScrolling:m,isHover:p,isDark:g,isHorizontal:!0,isFlipped:y,value:u,size:h,initElement:function(e){return t.ScrollBarHorizontal=e},onMouseDown:function(e){return t.onScrollBarHorizontalMouseDown=e},onDrag:function(e){return t.handleScrollBarDrag(e,!0)},onClick:function(e){return t.changeScrollPosition(e,!0)}}))}}]),n}(x.a.Component);t.a=Object(S.connect)(function(e){return{element:e.app.ENV.element}},null,null,{forwardRef:!0})(L)}).call(this,"src/components/Scrollable/Scrollable.js")},function(e,t,n){"use strict";(function(e){var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(11),d=n.n(h),p=n(0),f=n.n(p),m=n(159),v=n(213),g=n(19),y=n(12),b=n(47),x=n(14),w=n(16),A=n(2),M=function(t){function n(){return r()(this,n),l()(this,u()(n).apply(this,arguments))}return d()(n,t),a()(n,[{key:"render",value:function(){var t=this.props,n=t.isStaged,i=t.isReady,r=t.actions,o=t.inTransition,a=t.isOutlined;return f.a.createElement(m.a,{"data-component":Object(w.a)(e),title:"Virtual Staging",isActive:n,isReady:i,isOutlined:i&&a,onClick:function(){o||(g.a.toggleStagedMesh(),r.setTutorialInteraction(A.C.STAGING,!0))}},f.a.createElement(v.a,null))}}]),n}(f.a.PureComponent);t.a=Object(y.connect)(function(e){var t=e.app,n=e.staging,i=e.tutorial;return{isStaged:n.isStaged,inTransition:t.camera.inTransition,isOutlined:i[A.C.STAGING].isVisible,isReady:t.componentsReadyState.staging}},function(e){return{actions:{setTutorialInteraction:Object(x.bindActionCreators)(b.setInteraction,e)}}})(M)}).call(this,"src/components/VirtualStaging/VirtualStaging.js")},function(e,t,n){"use strict";(function(e){n(24),n(61),n(84),n(56),n(44),n(189),n(88),n(37);var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n.n(c),h=n(10),d=n.n(h),p=n(7),f=n.n(p),m=n(8),v=n.n(m),g=n(11),y=n.n(g),b=n(3),x=n.n(b),w=n(0),A=n.n(w),M=n(368),E=n(392),C=n(2),S=n(209),T=n(19),_=n(12),P=n(78),L=n(47),k=n(14),I=n(16),O=n(1),D=n(118),R=n.n(D),N=function(t){function n(e){var t;return l()(this,n),(t=d()(this,f()(n).call(this,e))).state={scrollPosition:t.props.scrollPosition,isPreviousButtonVisible:t.props.scrollPosition>0,isNextButtonVisible:t.props.scrollPosition<1,isScrollable:!1,isDragged:!1},t.handleScroll=t.handleScroll.bind(v()(t)),t.handleDragStart=t.handleDragStart.bind(v()(t)),t.handleDragMove=t.handleDragMove.bind(v()(t)),t.handleDragFinish=t.handleDragFinish.bind(v()(t)),t.isHighlightReady=t.isHighlightReady.bind(v()(t)),t.handleScrollButtonClick=t.handleScrollButtonClick.bind(v()(t)),t}return y()(n,t),u()(n,[{key:"handleDragStart",value:function(e){var t=this;if(0!==e.button)return!1;var n=this.props.isHorizontal,i=n?"scrollLeft":"scrollTop",r=n?"scrollWidth":"scrollHeight",o=n?"clientWidth":"clientHeight";this.Scrollable[r]-this.Scrollable[o]&&(document.addEventListener("mousemove",this.handleDragMove),document.addEventListener("mouseup",this.handleDragFinish),this.setState({dragStartPosition:n?e.pageX:e.pageY,dragStartScrollPosition:this.Scrollable[i]}),this.dragValue=this.Scrollable[i],this.dragTimestamp=Date.now(),this.dragSpeed=0,this.dragInterval=setInterval(function(){var e=(t.Scrollable[i]-t.dragValue)/(Date.now()-t.dragTimestamp);t.dragSpeed=(2*e+t.dragSpeed)/3,t.dragValue=t.Scrollable[i],t.dragTimestamp=Date.now()},10))}},{key:"handleDragMove",value:function(e){var t=this.props.isHorizontal;if(1===e.which){var n=t?e.pageX:e.pageY,i=this.state.dragStartPosition-n,r=t?"scrollLeft":"scrollTop";this.Scrollable[r]=this.state.dragStartScrollPosition+i,this.setState({isDragged:Math.abs(i)>5||this.state.isDragged})}}},{key:"handleDragFinish",value:function(e){var t=this,n=this.props,i=n.isHorizontal,r=n.actions;if(1===e.which){document.removeEventListener("mousemove",this.handleDragMove),document.removeEventListener("mouseup",this.handleDragFinish),clearInterval(this.dragInterval);var o=Math.abs(this.dragSpeed)>.1?200*this.dragSpeed:0,a=i?"scrollLeft":"scrollTop",s=i?"scrollWidth":"scrollHeight",l=i?"clientWidth":"clientHeight",c=this.Scrollable[s]-this.Scrollable[l],u=(this.Scrollable[a]+o)/c;r.setScrollPosition(u),setTimeout(function(){t.setState({dragStartPosition:null,dragStartScrollPosition:null,isDragged:!1})},1)}}},{key:"handleScrollButtonClick",value:function(e){var t=this.props,n=t.actions,i=t.isHorizontal,r=i?"scrollWidth":"scrollHeight",o=i?"clientWidth":"clientHeight",a=this.Scrollable[r]-this.Scrollable[o];if(a){var s=this.Scrollable[o]/a*.9;n.setScrollPosition(this.state.scrollPosition+s*e)}}},{key:"handleScroll",value:function(e){var t=this.refs.scrollArea;if(!t)return!1;var n=this.props,i=n.isHorizontal,r=n.element,o=i?"scrollLeft":"scrollTop",a=i?"scrollWidth":"scrollHeight",s=i?"clientWidth":"clientHeight",l=this.Scrollable[a]-this.Scrollable[s];if(l){var c=this.Scrollable[o]/l,u=t.state.inertialScrollEndPoint,h=null!==u?u/l:c;this.setState({isPreviousButtonVisible:h>0,isNextButtonVisible:h<1,scrollPosition:c,isScrollable:!0}),r.classList.add("is-highlights-scrollable")}else this.setState({isScrollable:!1}),r.classList.remove("is-highlights-scrollable")}},{key:"_scrollToHighlight",value:function(e){var t=this.props,n=t.actions,i=t.isHorizontal;n.setHighlightTransition(!0),T.a.handleUIVisibility();var r=i?"offsetLeft":"offsetTop",o=i?"scrollWidth":"scrollHeight",a=i?"clientWidth":"clientHeight",s=this.Scrollable[o]-this.Scrollable[a];if(s){var l=(e[r]-(this.Container[a]-e[a])/2)/s;n.setScrollPosition(l)}}},{key:"selectHighlight",value:function(e,t){if(this.state.isDragged||T.a.Transitions.isInTransition())return!1;var n=this.props.activePanoramaId,i=e.currentTarget;this._scrollToHighlight(i);var r,o=t.place,s=o.panoramaId,l=o.is360,c=o.cameraMode,u=T.a.Camera,h=u.currentMode,d=u.is360,p=n===s;r=!l&&!d||p?c===C.a.INSIDE||h.name===C.a.INSIDE?c===C.a.INSIDE&&(h.name===C.a.INSIDE&&(p||T.a.Panoramas.active&&T.a.Panoramas.active.visiblePanoramas&&-1!==T.a.Panoramas.active.visiblePanoramas.indexOf(o.panoramaId))||h.name!==C.a.INSIDE&&Boolean(o.position)&&T.a.Panoramas.isPointVisible(h.getCurrentPosition(),(new O.a.Vector3).copy(o.position)))?C.y.FLY:C.y.FLY_FADE:C.y.FLY:C.y.FADE,this.props.actions.setTutorialInteraction(C.C.HIGHLIGHTS),this.props.actions.setActiveHighlight(t?t.id:void 0),T.a.Transitions.start(a()({},o,{transitionStyle:r}))}},{key:"isHighlightReady",value:function(e){var t=e.place.cameraMode,n=this.props.componentsReadyState,i=n.inside,r=n.dollhouse,o=n.floorplan,a=n.outdoor;return t===C.a.INSIDE&&i||t===C.a.DOLLHOUSE&&r||t===C.a.ATTRACTION&&r||t===C.a.FLOORPLAN&&o||t===C.a.OUTDOOR&&a}},{key:"componentDidMount",value:function(){this.Scrollable=this.refs.scrollArea.ScrollingArea,this.Scrollable.addEventListener("scroll",this.handleScroll),this.props.element.addEventListener("playerResize",this.handleScroll),this.updateActiveHighlight(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.Scrollable&&(this.props.actions.setScrollPosition(this.state.scrollPosition),this.Scrollable.removeEventListener("scroll",this.handleScroll))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.scrollPosition!==e.scrollPosition||this.props.activeHighlight!==e.activeHighlight||this.props.activePanoramaId!==e.activePanoramaId||this.props.actions!==e.actions||this.props.isHorizontal!==e.isHorizontal||this.props.isVisible!==e.isVisible||this.props.list!==e.list||this.props.activeMode!==e.activeMode||this.state.isPreviousButtonVisible!==t.isPreviousButtonVisible||this.state.isNextButtonVisible!==t.isNextButtonVisible||this.state.isDragged!==t.isDragged||this.state.isScrollable!==t.isScrollable||this.state.panoramas!==e.panoramas}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.activePanoramaId,i=t.activeMode,r=n!==e.activePanoramaId,o=i!==e.activeMode;(r||o)&&this.updateActiveHighlight()}},{key:"updateActiveHighlight",value:function(){var e=this.props,t=e.activePanoramaId,n=e.list,i=e.activeMode,r=e.activeHighlight,o=n.find(function(e){return e.id===r});if(i!==C.a.INSIDE||o&&(o.place.cameraMode!==C.a.INSIDE||null===t||o.place.panoramaId===t))o&&o.place.cameraMode!==i&&this.props.actions.setActiveHighlight(void 0);else{var a=n.find(function(e){return e.place.panoramaId===t});a?(this._scrollToHighlight(R.a.findDOMNode(this.refs["highlight_"+a.id])),this.props.actions.setActiveHighlight(a.id)):this.props.actions.setActiveHighlight(void 0)}}},{key:"render",value:function(){var t=this,n=this.props,i=n.isVisible,o=n.isHorizontal,s=n.list,l=n.viewport,c=n.contentPlace,u=n.components,h=n.viewpoints,d=n.panoramas,p=!u.inside,f=!u.dollhouse,m=!u.floorplan,v=this.state,g=v.isDragged,y=v.isScrollable,b=v.isPreviousButtonVisible,x=v.isNextButtonVisible;return this.highlightElements={},A.a.createElement(V,r()({},a()({isVisible:i},l),{ref:function(e){return t.Container=e},"data-component":Object(I.a)(e)}),A.a.createElement(E.a,r()({handleClick:this.handleScrollButtonClick},{isHorizontal:o,isScrollable:y,isPreviousButtonVisible:b,isNextButtonVisible:x})),A.a.createElement(S.a,{isDark:!0,ref:"scrollArea",scrollTopPosition:o?null:this.props.scrollPosition,scrollLeftPosition:o?this.props.scrollPosition:null,flipHorizontalBar:!0,overflowY:o,overflowX:!o},s.filter(function(e){var t=e.place;switch(t.cameraMode){case C.a.INSIDE:if(t.is360)return h&&h.some(function(e){return t.panoramaId===e.id});var n=d&&d.find(function(e){return t.panoramaId===e.id});return!p&&(!n||n.isVisible);case C.a.DOLLHOUSE:return!f;case C.a.FLOORPLAN:return!m;default:return!0}}).map(function(e,n){var i=e.title,o=e.place,a=e.id,s="".concat(c,"highlights/").concat(a,".jpg");return A.a.createElement(M.a,r()({key:a,onMouseDown:t.handleDragStart,ref:"highlight_"+a,onClick:function(n){return t.selectHighlight(n,e)},isActive:t.props.activeHighlight===a,isReady:t.isHighlightReady(e),is360:o.is360},{title:i,isDragged:g,imageUrl:s}))})))}}]),n}(A.a.Component),V=x()("div",{target:"e132toa50"})("white-space:nowrap;position:absolute;left:",function(e){return e.landscape?-e.margin:0},"px;top:0;right:0;bottom:",function(e){return e.landscape?0:-2*e.margin},"px;pointer-events:none;opacity:",function(e){return e.isVisible?1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";transition-property:z-index,opacity,visibility,height,top;transition-duration:",C.N.transition,";transition-timing-function:",function(e){return e.isVisible?C.N.easing.openSlide:C.N.easing.closeSlide},";background:linear-gradient( to ",function(e){return e.landscape?"left":"bottom"},",rgba(0,0,0,0.2),transparent );.is-highlights-scrollable &{pointer-events:auto;}.is-mouse-drags-player &{pointer-events:none;}");t.a=Object(_.connect)(function(e){var t=e.app,n=e.highlights,i=e.mode,r=e.layout;return{list:t.datum.user.highlights,activeHighlight:n.activeHighlight,scrollPosition:n.scrollPosition,element:t.ENV.element,activePanoramaId:t.camera.activePanoramaId,inTransition:t.camera.inTransition,components:t.ENV.components,componentsReadyState:t.componentsReadyState,contentPlace:t.datum.tour.place,panoramas:t.datum.user.panoramas,viewpoints:t.datum.tour.viewpoints,activeMode:i.active,viewport:{landscape:r.viewport.landscape,portrait:r.viewport.portrait,margin:r.viewport.margin}}},function(e){return{actions:a()({},Object(k.bindActionCreators)(P,e),{setTutorialInteraction:Object(k.bindActionCreators)(L.setInteraction,e)})}})(N)}).call(this,"src/components/Highlights/Highlights.js")},function(e,t,n){"use strict";(function(e){var i=n(6),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(161),A=n(373),M=n(54),E=n(2),C=n(12),S=n(14),T=n(180),_=n(16),P=E.F.block,L=y()("div",{target:"e553r640"})("display:block;position:absolute;background:",E.H.underlay,";left:50%;transform:translateX(-50%);top:0;height:34px;border-radius:0 0 ",P," ",P,";z-index:3;opacity:0.8;"),k=y()(M.a,{target:"e553r641"})("box-shadow:none;overflow:hidden;position:relative;display:inline-block;height:34px;line-height:28px;padding-left:10px;padding-right:10px;width:auto;font-size:14px;background:",function(e){return e.isActive?E.H.underlayDark:"transparent"},";opacity:",function(e){return e.isActive?"1":"0.8"},";text-align:center;color:#fff;font-weight:bold;margin:0;&:hover{background:",function(e){return e.isActive?E.H.underlayDark:e.isMobile?"transparent":E.H.underlayLight},";}&:nth-of-type(1){border-radius:0 0 0 ",P,";}&:nth-of-type(2){border-radius:0 0 ",P," 0;}"),I=y()(M.a,{target:"e553r642"})({name:"17nhz1i",styles:"cursor:default;display:inline-block;position:absolute;top:0;left:100%;height:34px;line-height:30px;width:auto;font-size:14px;color:#fff;font-weight:bold;background:transparent;margin-left:10px;opacity:0.8;"}),O=function(t){function n(e){var t;return a()(this,n),(t=u()(this,d()(n).call(this))).state={isMonitorVisible:!1,isTuningVisible:!1},t.handleMonitorButtonClick=t.handleMonitorButtonClick.bind(f()(t)),t.handleTuningButtonClick=t.handleTuningButtonClick.bind(f()(t)),t}return v()(n,t),l()(n,[{key:"handleMonitorButtonClick",value:function(){this.setState(r()({},this.state,{isMonitorVisible:!this.state.isMonitorVisible}))}},{key:"handleTuningButtonClick",value:function(){this.setState(r()({},this.state,{isTuningVisible:!this.state.isTuningVisible}))}},{key:"render",value:function(){var t=this.props.data,n=t.fps,i=t.lines,r=t.props,o=this.props.actions.setValue,a=this.state,s=a.isTuningVisible,l=a.isMonitorVisible;return x.a.createElement("div",{"data-component":Object(_.a)(e)},x.a.createElement(L,null,x.a.createElement(k,{isActive:l,onClick:this.handleMonitorButtonClick},"Monitor"),x.a.createElement(k,{isActive:s,onClick:this.handleTuningButtonClick},"Tuning"),x.a.createElement(I,null,n)),x.a.createElement(w.b,{isTuningVisible:s,isVisible:l,lines:i}),x.a.createElement(A.a,{handleChange:o,isVisible:s,list:r}))}}]),n}(x.a.PureComponent);t.a=Object(C.connect)(function(e){return{data:e.debug}},function(e){return{actions:r()({},Object(S.bindActionCreators)(T,e))}})(O)}).call(this,"src/components/Debug/Debug.js")},function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(109),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(70),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),vendor__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),components_App__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(19),react_redux__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12),react_redux__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_9__),utils_usePrevious__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(268),_getPopupContent__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(269),_getStylesheet__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(379),mapStateToProps=function(e){var t=e.app,n=e.tags,i=t.ENV;return{isLoaded:t.loading.isDone,isMobile:i.browser.mobile,tags:t.datum.user.tags,editableTagId:n.editableTagId,inTransition:t.camera.inTransition,dangerouslyRunUserScripts:i.dangerouslyRunUserScripts,playerElement:i.element,playerPrefix:i.prefix,playerId:i.id,tourPath:"".concat(i.contentPathPrefix).concat(i.tour,"/"),isWebpSupported:i.element.classList.contains("is-webp")}},insertStyles=function(e){var t=document.createElement("style");t.innerHTML=Object(_getStylesheet__WEBPACK_IMPORTED_MODULE_12__.a)(e),t.setAttribute("id","".concat(e,"-styles-tags")),document.head.appendChild(t)},previousTagElement=null,changeIframeSourcesForVideoApi=function(e){for(var t=e.querySelectorAll("iframe"),n=0;n<t.length;n++){var i=t[n],r=i.src.includes("youtube.com/embed"),o=i.src.includes("player.vimeo.com");(r||o)&&(i.src+=i.src.includes("?")?"&":"?",r&&(i.src+="enablejsapi=1"),o&&(i.src+="api=1"))}},activateInsideIframes=function(e){for(var t=e.querySelectorAll("iframe"),n=0;n<t.length;n++){var i=t[n];i.src=i.getAttribute("data-original-src")}},deactivateInsideIframes=function(e){for(var t=e.querySelectorAll("iframe"),n=0;n<t.length;n++){var i=t[n];i.src.length&&(i.setAttribute("data-original-src",i.src),i.src="")}},addMarker=function(e){if(e.position){var t=e.position,n=t.x,i=t.y,r=t.z;e.position=new vendor__WEBPACK_IMPORTED_MODULE_7__.a.Vector3(Number(n),Number(i),Number(r))}if(e.direction){var o=e.direction,a=o.x,s=o.y,l=o.z;e.direction=new vendor__WEBPACK_IMPORTED_MODULE_7__.a.Vector3(Number(a),Number(s),Number(l))}var c=components_App__WEBPACK_IMPORTED_MODULE_8__.a.SceneTags.addTag(e);return Promise.resolve(c)},setPopupPosition=function(e,t){var n=t.x,i=t.y;e.style.MsTransform="translateX(".concat(n,"px) translateY(").concat(i,"px)"),e.style.transform="translateX(".concat(n,"px) translateY(").concat(i,"px)")},handleMarkerUpdate=function(e){return components_App__WEBPACK_IMPORTED_MODULE_8__.a.RenderLoopManager.throttle(function(t){var n=t.target,i=n.isScreenPositionChanged,r=n.screenPosition,o=n.wasHeadRendered,a=n.isSelected||e.isHovered||e.isForcedVisibility;i&&o&&a&&setPopupPosition(e,r)})},forcedClosePreviousPopup=null,handleMarkerVisibility=function(e){return function(t){var n=t.target;if(!e.isForcedVisibility){var i=n.isSelected||e.isHovered;!n.wasHeadRendered&&i&&"function"==typeof forcedClosePreviousPopup&&(forcedClosePreviousPopup(),forcedClosePreviousPopup=null)}}},handleMarkerMouseEnter=function(e,t){return function(n){var i=n.target;t.isEditing||(setPopupPosition(e,i.screenPosition),previousTagElement!==e&&(previousTagElement&&deactivateInsideIframes(previousTagElement),activateInsideIframes(e),previousTagElement=e),setTimeout(function(){i.isSelected&&("function"==typeof forcedClosePreviousPopup&&forcedClosePreviousPopup(),forcedClosePreviousPopup=function(){stopAllVideosInside(e),e.isHovered=!1,e.classList.remove("is-visible")},e.classList.add("is-visible"))},50))}},stopAllVideosInside=function(e){for(var t=e.querySelectorAll("iframe"),n=0;n<t.length;n++)t[n].contentWindow.postMessage(JSON.stringify({event:"command",func:"pauseVideo"}),"*")},handleMarkerMouseLeave=function(e,t){return function(n){var i=n.target;t.isEditing||setTimeout(function(){e.isHovered||i.isSelected||(stopAllVideosInside(e),e.classList.remove("is-visible"),forcedClosePreviousPopup=null)},200)}},handlePopupMouseEnter=function(e,t){return function(e){var n=e.currentTarget;t.isEditing||(n.isHovered=!0)}},handlePopupMouseLeave=function(e,t){return function(n){var i=n.currentTarget;t.isEditing||(i.isHovered=!1,setTimeout(function(){e.isSelected||i.isHovered||(stopAllVideosInside(i),i.classList.remove("is-visible"),forcedClosePreviousPopup=null)},200))}},handleClickMarker=function(e){return function(t){var n=t.target,i=e.isHovered;"function"==typeof forcedClosePreviousPopup&&(forcedClosePreviousPopup(),forcedClosePreviousPopup=null),i||(forcedClosePreviousPopup=function(){stopAllVideosInside(e),e.classList.remove("is-visible"),e.isHovered=!1},previousTagElement!==e&&(previousTagElement&&deactivateInsideIframes(previousTagElement),activateInsideIframes(e),previousTagElement=e),setPopupPosition(e,n.screenPosition),e.classList.add("is-visible"),e.isHovered=!0,components_App__WEBPACK_IMPORTED_MODULE_8__.a.Camera.stopAnimation())}},handleClickOutsideMarker=function(){"function"==typeof forcedClosePreviousPopup&&(forcedClosePreviousPopup(),forcedClosePreviousPopup=null)},addListenersOfMarkerEventsToPopups=function(e,t,n,i){return e.addEventListener("update",handleMarkerUpdate(t)),e.addEventListener("visibilityChanged",handleMarkerVisibility(t)),i?(e.addEventListener("click",handleClickMarker(t)),e.addEventListener("resetFocus",handleClickOutsideMarker)):(e.addEventListener("mouseover",handleMarkerMouseEnter(t,n)),e.addEventListener("mouseout",handleMarkerMouseLeave(t,n)),t.addEventListener("mouseenter",handlePopupMouseEnter(e,n)),t.addEventListener("mouseleave",handlePopupMouseLeave(e,n))),function(){e.removeEventListener("update",handleMarkerUpdate(t)),e.removeEventListener("visibilityChanged",handleMarkerVisibility(t)),e.removeEventListener("click",handleClickMarker(t)),e.removeEventListener("resetFocus",handleClickOutsideMarker),e.removeEventListener("mouseover",handleMarkerMouseEnter(t,n)),e.removeEventListener("mouseout",handleMarkerMouseLeave(t,n)),t.removeEventListener("mouseenter",handlePopupMouseEnter(e,n)),t.removeEventListener("mouseleave",handlePopupMouseLeave(e,n))}},getContentBlockId=function(e,t,n){return"".concat(e,"-").concat(t,"-popup-content-").concat(n)},bindTagListeners=function(e,t,n,i,r){var o=addListenersOfMarkerEventsToPopups(n,i,t,r),a=function(){stopAllVideosInside(i),i.classList.remove("is-visible")},s=function(){i.classList.add("is-visible")},l="start-tag-editing-".concat(e),c="finish-tag-editing-".concat(e),u=function e(){stopAllVideosInside(i),i.classList.remove("is-visible"),i.isForcedVisibility=!1,t.isEditing=!1,t.removeEventListener(c,e),t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",s)},h=function(){i.isForcedVisibility=!0,t.isEditing=!0,i.classList.add("is-visible"),t.addEventListener(c,u),t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",s)};t.addEventListener(l,h);var d="delete-tag-".concat(e);t.addEventListener(d,function n(){o(),i.remove(),components_App__WEBPACK_IMPORTED_MODULE_8__.a.SceneTags.removeTag(e),t.removeEventListener(d,n),t.removeEventListener(l,h),t.removeEventListener(c,u)})},addTag=function addTag(tag,tagsElement,tagsPrefix,tourPath,playerElement,playerPrefix,playerId,isMobile,dangerouslyRunUserScripts,isWebpSupported){addMarker(tag).then(function(marker){var tagElement=document.createElement("div");tagElement.classList.add("".concat(tagsPrefix,"__tag"));var popupElement=document.createElement("div");popupElement.classList.add("".concat(tagsPrefix,"__popup"));var shapeElement=document.createElement("div");shapeElement.classList.add("".concat(tagsPrefix,"__shape"));var contentBlockId=getContentBlockId(playerPrefix,playerId,tag.id);shapeElement.setAttribute("id",contentBlockId);var content=Object(_getPopupContent__WEBPACK_IMPORTED_MODULE_11__.a)(tag,tagsPrefix,tourPath,playerPrefix,isWebpSupported);tag.javascript&&dangerouslyRunUserScripts&&eval(tag.javascript),changeIframeSourcesForVideoApi(content),deactivateInsideIframes(content),shapeElement.appendChild(content),popupElement.appendChild(shapeElement),tagElement.appendChild(popupElement),bindTagListeners(tag.id,playerElement,marker,tagElement,isMobile),tagsElement.appendChild(tagElement)})},changePopupContent=function(e,t,n,i,r,o){var a=getContentBlockId(i,r,e.id),s=document.getElementById(a),l=Object(_getPopupContent__WEBPACK_IMPORTED_MODULE_11__.a)(e,t,n,i,o);s.innerHTML="",s.appendChild(l)},isContentChanged=function(e,t){for(var n=["type","title","content","link","video","image","javascript"],i=!1,r=0;r<n.length;r++){var o=n[r];if(e[o]!==t[o]){i=!0;break}}return i};function Tags(e){var t=e.tags,n=e.tourPath,i=e.isMobile,r=e.dangerouslyRunUserScripts,o=e.editableTagId,a=e.playerPrefix,s=e.playerId,l=e.playerElement,c=e.isWebpSupported,u=e.inTransition,h="".concat(a,"-tags"),d="".concat(a,"-").concat(s,"-tags"),p=Object(utils_usePrevious__WEBPACK_IMPORTED_MODULE_10__.a)(t)||[],f=Object(utils_usePrevious__WEBPACK_IMPORTED_MODULE_10__.a)(o);return Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function(){u&&"function"==typeof forcedClosePreviousPopup&&(forcedClosePreviousPopup(),forcedClosePreviousPopup=null)},[u]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function(){insertStyles(h)},[]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function(){if(o!==f){if(f){var e=new Event("finish-tag-editing-".concat(f));l.dispatchEvent(e)}if(o){var t=new Event("start-tag-editing-".concat(o));l.dispatchEvent(t)}}},[o]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(function(){for(var e=document.getElementById(d),o=[],u=[],f=0;f<t.length;f++){var m=t[f].id;o.push(t[f].id)}for(var v=0;v<p.length;v++){m=p[v].id;u.push(m),o.includes(m)||l.dispatchEvent(new CustomEvent("delete-tag-".concat(m)))}for(var g=0;g<t.length;g++){var y=t[g];m=y.id;if(u.includes(m)){for(var b=void 0,x=0;x<p.length;x++){var w=p[x];w.id===m&&(b=isContentChanged(y,w))}b&&changePopupContent(y,h,n,a,s,c)}else addTag(y,e,h,n,l,a,s,i,r,c)}},[t]),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{id:"".concat(a,"-").concat(s,"-tags")})}__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_9__.connect)(mapStateToProps)(react__WEBPACK_IMPORTED_MODULE_6___default.a.memo(Tags))},function(e,t,n){"use strict";(function(e){n(24),n(39);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(8),d=n.n(h),p=n(11),f=n.n(p),m=n(266),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(16),A=n(2),M=n(19),E=n(12),C=n(82),S=n(382),T=n(118),_=n.n(T),P=n(92),L=n(384),k=n(204),I=n(203),O=n(13),D=function(t){function n(e){var t;return r()(this,n),(t=l()(this,u()(n).call(this,e))).isSizeApplied=void 0,t.handleResize=t.handleResize.bind(d()(t)),t.handleClickToggle=t.handleClickToggle.bind(d()(t)),t.handleClickView=t.handleClickView.bind(d()(t)),t.getAvailableSize=t.getAvailableSize.bind(d()(t)),t.isSizeApplied=!1,t}return f()(n,t),a()(n,[{key:"setVisibility",value:function(e){var t=this.props.dispatch;M.a.Minimap.setVisibility(e),t(C.setVisibility(e))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isLoaded,i=t.size,r=t.viewport,o=t.dispatch,a=t.isOpened,s=t.isAvailable,l=t.isMobileLayout,c=t.isMinimap3dAvailable,u=t.isMinimapFloorplanAvailable,h=t.activeMode,d=M.a.Camera.is360;if(h!==A.a.INSIDE||l?s&&o(C.setAvailable(!1)):d?o(C.setAvailable(!1)):(r.height<340||r.width<340)&&s?o(C.setAvailable(!1)):r.height>340&&r.width>340&&!s&&o(C.setAvailable(!0)),a&&(e.viewport.width>640&&r.width<640||e.viewport.height>340&&r.height<340||!c&&!u)&&this.setVisibility(!1),M.a.Minimap.setVisibility(a&&s),(c!==e.isMinimap3dAvailable||u!==e.isMinimapFloorplanAvailable)&&(c||(M.a.Minimap.setViewMode("floorplan"),M.a.Minimap.setRotationMode("Scene")),u||(M.a.Minimap.setViewMode("3d"),M.a.Minimap.setRotationMode("Camera"))),!this.isSizeApplied&&a&&s&&n){this.isSizeApplied=!0;var p=.25*r.width,f=.33*r.height,m=this.getAvailableSize(p,f);o(C.setSize(m)),M.a.Minimap.setTargetRect({z:m.width,w:m.height},!0)}else if(a&&!e.isOpened){var v=this.getAvailableSize(i.width,i.height);M.a.Minimap.setTargetRect({z:v.width,w:v.height})}else r.width===e.viewport.width&&r.height===e.viewport.height||this.setSize(i.width,i.height)}},{key:"setSize",value:function(e,t){var n=this.props.dispatch,i=this.getAvailableSize(e,t);n(C.setResizing(!0)),setTimeout(function(){n(C.setResizing(!1))},16),n(C.setSize(i)),M.a.Minimap.setTargetRect({z:i.width,w:i.height},!0)}},{key:"getAvailableSize",value:function(e,t){var n=this.props,i=n.minSize,r=n.controlsMinSize,o=n.viewport,a={width:e,height:t},s=Math.max(i.width,r.width)/M.a.ENV.scale,l=Math.max(s,o.width-320);a.width=Object(O.c)(a.width,s,l);var c=Math.max(i.height,r.height+50),u=Math.max(c,o.height-55);return a.height=Object(O.c)(a.height,c,u),a}},{key:"handleResize",value:function(e){var t=this.props,n=t.size,i=(t.dispatch,e.clientX),r=e.clientY,o=_.a.findDOMNode(this).getBoundingClientRect(),a=i-(o.left+o.width),s=o.top-r,l=n.width+a,c=n.height+s;this.setSize(l,c)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultViewMode,n=e.defaultIsOpening,i=e.dispatch;i(C.setViewMode(t)),i(C.setVisibility(n))}},{key:"handleClickToggle",value:function(){var e=this.props.isOpened;this.setVisibility(!e)}},{key:"openMinimap",value:function(){this.setVisibility(!0)}},{key:"renderOpenButton",value:function(){var e=this,t=this.props,n=t.viewport,i=t.isOpened,r=t.isAvailable,o=t.isSingleInCorner;return x.a.createElement(B,{onClick:function(){return e.openMinimap()},small:n.small,isOpened:!i&&r,isAvailable:r,isSingleInCorner:o},x.a.createElement(L.a,{size:32,stroke:0}))}},{key:"renderCloseButton",value:function(){var e=this,t=this.props,n=t.isOpened,i=t.isAvailable;return x.a.createElement(F,{isOpened:n&&i,onClick:function(){return e.handleClickToggle()}},x.a.createElement(P.a,{size:16,stroke:2.4}))}},{key:"handleClickView",value:function(){var e=this.props.viewMode;M.a.Minimap.setViewMode("3d"===e?"floorplan":"3d"),M.a.Minimap.setRotationMode("3d"===e?"Scene":"Camera")}},{key:"renderView",value:function(){var e=this.props,t=e.isMinimap3dAvailable,n=e.isMinimapFloorplanAvailable,i=e.viewMode,r=e.isOpened,o=e.isAvailable;return t&&n?x.a.createElement(z,{isOpened:r&&o,onClick:this.handleClickView},"floorplan"===i?x.a.createElement(I.a,{size:23}):x.a.createElement(k.a,{size:23})):null}},{key:"render",value:function(){var t=this.props,n=t.size,i=t.isOpened,r=t.isAvailable,o=t.isResizing;return x.a.createElement(x.a.Fragment,null,x.a.createElement(R,{size:n,"data-component":Object(w.a)(e),isOpened:i&&r,isResizing:o},x.a.createElement(S.a,{handleResize:this.handleResize}),this.renderCloseButton(),this.renderView()),this.renderOpenButton())}}]),n}(x.a.Component),R=y()("div",{target:"enfd7yk0"})("position:absolute;left:0;bottom:0;width:",function(e){return e.isOpened?e.size.width:0},"px;height:",function(e){return e.isOpened?e.size.height:0},"px;opacity:",function(e){return e.isOpened?1:0},";transition:",function(e){return e.isResizing?"":A.N.transition},";transition-timing-function:linear;transition-property:width,height,opacity;background:transparent;"),N=v()("opacity:0;background-color:",A.N.color.underlayDark,";pointer-events:none;width:130px;height:130px;line-height:150px;"),V={name:"l6xidq",styles:"transition-duration:0.1s;opacity:0;transform:translateY(5px);"},B=y()("span",{target:"enfd7yk1"})("position:absolute;bottom:",function(e){return e.isSingleInCorner?"0":"39px"},";height:",function(e){return e.isSingleInCorner?e.small?"".concat(A.t/2,"px"):"".concat(A.s/2,"px"):"16px"},";padding-top:",function(e){return e.isSingleInCorner&&!e.small?"3px":"0"},";border-radius:",function(e){return e.isSingleInCorner?A.N.br:"".concat(A.N.br," ").concat(A.N.br," 0 0")},";width:",function(e){return(e.small?A.t:A.s)/2},"px;text-align:center;z-index:",function(e){return e.isOpened&&e.isAvailable?10:0},";background-color:",A.N.color.underlayCompound,";cursor:pointer;pointer-events:",function(e){return e.isOpened?"auto":"none"},";transition:",A.N.transition,";transition-property:opacity,width,height,line-height,transform;&:hover{background-color:",A.N.color.underlayCompound,";}& svg{transition:",A.N.transition,";transition-property:opacity,line-height;}",function(e){return!e.isAvailable&&V},";",function(e){return!e.isOpened&&e.isAvailable&&N},";.is-mouse-drags-player &{pointer-events:none !important;}"),F=y()("span",{target:"enfd7yk2"})("position:absolute;display:block;left:0;top:0;width:23px;height:23px;stroke:",A.N.color.light,";transition-property:opacity,visibilty;transition-duration:",A.N.transition,";opacity:0.5;pointer-events:",function(e){return e.isOpened?"auto":"none"},";cursor:pointer;&:hover{opacity:1;}& svg{position:absolute;left:2px;top:2px;}.is-mouse-drags-player &{pointer-events:none;}"),z=y()("span",{target:"enfd7yk3"})("position:absolute;right:15px;top:15px;position:inherit;padding-right:5px;padding-left:5px;padding-bottom:0px;padding-top:3px;border-radius:3px;stroke:",A.N.color.light,";transition-property:opacity,visibilty,background;transition-duration:",A.N.transition,";opacity:1;pointer-events:",function(e){return e.isOpened?"auto":"none"},";cursor:pointer;color:white;font-size:",A.K.small,";font-weight:",A.K.medium,";background:",A.N.color.underlayLight,";&:hover{background:",A.N.color.underlayDark,";}.is-mouse-drags-player &{pointer-events:none;}");t.a=Object(E.connect)(function(e){var t=e.app,n=e.minimap,i=e.layout,r=e.mode;return{isLoaded:t.loading.isDone,isOpened:n.isOpened,viewMode:n.viewMode,size:n.size,minSize:n.minSize,isResizing:n.isResizing,isAvailable:n.isAvailable,controlsMinSize:i.controls,viewport:i.viewport,isMobileLayout:i.isMobileLayout,activeMode:r.active,panoramaId:t.camera.activePanoramaId,defaultViewMode:t.datum.user.minimap.mode,defaultIsOpening:t.datum.user.minimap.isOpening,isMinimap3dAvailable:t.ENV.components.minimap3d,isMinimapFloorplanAvailable:t.ENV.components.minimapFloorplan,isSingleInCorner:!t.ENV.components.modes&&!t.ENV.components.floors}},function(e){return{dispatch:e}})(D)}).call(this,"src/components/Minimap/Minimap.tsx")},function(e,t,n){"use strict";(function(e){n(24),n(61),n(39);var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n.n(c),h=n(10),d=n.n(h),p=n(7),f=n.n(p),m=n(8),v=n.n(m),g=n(11),y=n.n(g),b=n(3),x=n.n(b),w=n(0),A=n.n(w),M=n(2),E=n(12),C=n(14),S=n(55),T=n(78),_=n(16),P=function(t){function n(){var e;return l()(this,n),(e=d()(this,f()(n).call(this))).state={inTransition:!1,viewportOffset:{top:0,right:0,bottom:0,left:0}},e.calculateQueries=e.calculateQueries.bind(v()(e)),e.getHelpOffset=e.getHelpOffset.bind(v()(e)),e.getHighlightsOffset=e.getHighlightsOffset.bind(v()(e)),e.setMobileLayout=e.setMobileLayout.bind(v()(e)),e.handleResize=e.handleResize.bind(v()(e)),e}return y()(n,t),u()(n,[{key:"calculateQueries",value:function(e){return{xsmall:e<M.r,small:e<M.p,large:e>=M.o,xlarge:e>=M.q}}},{key:"getHelpOffset",value:function(e){return{top:e.isHelpOpened?41:0}}},{key:"getHighlightsOffset",value:function(e){var t=e.element;if(!e.isHighlightsOpened||!t)return{top:0,right:0};var n=t.offsetWidth,i=t.offsetHeight,r=this.calculateQueries(n);return n/i>M.n?{top:0,right:r.xsmall?M.m:r.small?M.k:r.large?r.xlarge?M.l:M.j:M.i}:{top:r.xsmall?M.h:r.small?M.g:M.f,right:0}}},{key:"setMobileLayout",value:function(e,t){var n=t.floors,i=t.powered,r=t.share,o=t.fullscreen,a=t.help,s=t.dollhouse,l=t.inside,c=t.floorplan,u=t.outdoor,h=t.modes,d=t.actions,p=i?M.v:0,f=M.z+Math.floor(e.margin/2),m=[r,o,a].filter(function(e){return e}).length*f,v=M.t,g=[s,l,c,u].filter(function(e){return e}).length,y=g>1&&h?g*v:0,b=y+(n?M.t+(y?2:0):0),x=b+(m||p)+(b&&(m||p)?10:0)+(!b||m||p?0:M.t),w=x+p,A=e.width-this.getHighlightsOffset(t).right,E=!!b&&x>A,C=!E&&w>A;E===t.isMobileLayout&&C===t.isShrinkedLayout||d.setMobileLayout({isMobileLayout:E,isShrinkedLayout:C})}},{key:"handleResize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.element){var t=e.element.offsetWidth,n=e.element.offsetHeight,i=e.viewport,r=e.isHighlightsOpened,o=e.actions,a=Math.round((t>n?n:t)/100),s=n/t>M.u,l=t/n>M.n,c=n>=400,u=this.getHighlightsOffset(e),h={top:this.getHelpOffset(e).top+u.top,right:u.right},d=this.calculateQueries(t-h.right),p=d.xsmall,f=d.small,m=d.large,v=d.xlarge;p===i.xsmall&&f===i.small&&m===i.large&&v===i.xlarge&&s===i.portrait&&l===i.landscape&&c===i.hlarge&&a===i.margin&&t===i.width&&n===i.height||o.setMediaQueries({width:t,height:n,hlarge:c,margin:a,xsmall:p,small:f,large:m,xlarge:v,portrait:s,landscape:l}),r&&o.setHighlightsSize({width:u.right||"auto",height:u.top||"auto"}),this.setMobileLayout({width:t,margin:a},e),this.setState({viewportOffset:h})}}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,i=n.isHighlightsOpened,r=n.isHelpOpened;e.isHighlightsOpened===i&&e.isHelpOpened===r||(clearTimeout(this.transitionTimeout),this.setState({inTransition:!0}),this.transitionTimeout=setTimeout(function(){t.setState({inTransition:!1})},500),this.handleResize(e))}},{key:"componentDidMount",value:function(){var e=this;this.props.element.addEventListener("playerResize",function(){return e.handleResize()}),this.handleResize()}},{key:"render",value:function(){var t=this.props,n=t.children,i=t.isReady,o=this.state,s=o.inTransition,l=o.viewportOffset;return A.a.createElement(L,r()({"data-component":Object(_.a)(e),isVisible:i},a()({inTransition:s},l)),n)}}]),n}(A.a.PureComponent),L=x()("div",{target:"e1p6m55z0"})("position:absolute;left:0;top:",function(e){return e.top?e.top:0},"px;bottom:0;right:",function(e){return e.right?e.right:0},"px;font-family:",M.K.family,";pointer-events:none;transition:opacity 0.6s ",function(e){return e.inTransition&&", top ".concat(M.O,", right ").concat(M.O)},";opacity:",function(e){return e.isVisible?1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";backface-visibility:hidden;transform:scale(1);z-index:2;");t.a=Object(E.connect)(function(e){var t=e.app,n=e.help,i=e.layout,r=e.highlights,o=e.tutorial;return a()({isReady:t.loading.isDone,isHighlightsOpened:r.isOpened&&t.ENV.components.highlights&&t.datum.user.highlights.length>0,isHelpOpened:n.isOpened||o[M.C.GENERAL].isVisible&&3===o[M.C.GENERAL].step,element:t.ENV.element},i,t.ENV.components)},function(e){return{actions:a()({},Object(C.bindActionCreators)(S,e),{setHighlightsSize:Object(C.bindActionCreators)(T.setSize,e)})}})(P)}).call(this,"src/components/Layout/LayoutUI.js")},function(e,t,n){"use strict";(function(e){var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(397),l=n(16);var c=r()("div",{target:"ee16c8e0"})({name:"1p9lim0",styles:"position:absolute;left:0;top:0;width:100%;height:100%;z-index:1;pointer-events:auto;"});t.a=a.a.memo(function(){return a.a.createElement(c,{"data-component":Object(l.a)(e)},a.a.createElement(s.a,null))})}).call(this,"src/components/Layout/LayoutCanvas.tsx")},function(e,t,n){"use strict";(function(e){var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(389),l=n(30),c=n(12),u=n(16),h=r()("div",{target:"e1nn3cvs0"})({name:"1q85r27",styles:"position:absolute;left:0;top:0;width:100%;height:100%;z-index:99;pointer-events:none;"});t.a=Object(c.connect)(function(e){var t=e.app;return{isOpened:t.ENV.components.splash&&t.loading.isSplashVisible}})(function(t){return a.a.createElement(h,{"data-component":Object(u.a)(e)},a.a.createElement(l.a,{isOpened:t.isOpened,duration:600},a.a.createElement(s.a,{stopSpinner:t.stopSpinner})))})}).call(this,"src/components/Layout/LayoutSplash.js")},function(e,t,n){"use strict";(function(e){var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(341),l=n(16),c=r()("div",{target:"ed9ixtv0"})({name:"xmcx0p",styles:"position:absolute;left:0;top:0;width:100%;height:100%;z-index:100;pointer-events:none;"});t.a=function(){return a.a.createElement(c,{"data-component":Object(l.a)(e)},a.a.createElement(s.a,null))}}).call(this,"src/components/Layout/LayoutPreloader.js")},function(e,t,n){"use strict";var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(11),d=n.n(h),p=n(3),f=n.n(p),m=n(0),v=n.n(m),g=n(135),y=n(2),b=n(12),x=n(14),w=n(93),A=n(30),M=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this,e))).state={isPreLoading:e.isPreLoading,isBlocking:e.isPreLoading},n}return d()(t,e),a()(t,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.isPreLoading;n&&!e.isPreLoading&&(this.preLoaderInterval=setTimeout(function(){t.setState({isPreLoading:!0})},1200),this.blockingInterval=setTimeout(function(){t.setState({isBlocking:!0})},3e3)),!n&&e.isPreLoading&&(clearInterval(this.preLoaderInterval),clearInterval(this.blockingInterval),this.setState({isPreLoading:!1,isBlocking:!1}))}},{key:"render",value:function(){return v.a.createElement(E,{isVisible:this.state.isPreLoading,isBlocking:this.state.isBlocking},v.a.createElement(A.a,{isOpened:this.state.isPreLoading},v.a.createElement(g.a,null)))}}]),t}(v.a.PureComponent);t.a=Object(b.connect)(function(e){return{isPreLoading:e.app.isPreLoading}},function(e){return{actions:Object(x.bindActionCreators)(w.setPreloadingState,e)}})(M);var E=f()("div",{target:"e1thdgwp0"})("background:",function(e){return e.isBlocking?y.N.color.underlay:"transparent"},";position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:",function(e){return e.isBlocking?"auto":"none"},";opacity:",function(e){return e.isVisible?1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";transition:opacity,visibility,background,pointer-events;transition-duration:0.8s;")},function(e,t,n){"use strict";(function(e){n(39);var i=n(15),r=n.n(i),o=n(22),a=n.n(o),s=n(86),l=n.n(s),c=(n(158),n(119)),u=n.n(c),h=n(4),d=n.n(h),p=n(5),f=n.n(p),m=n(10),v=n.n(m),g=n(7),y=n.n(g),b=n(11),x=n.n(b),w=n(3),A=n.n(w),M=n(0),E=n.n(M),C=n(343),S=n(346),T=n(55),_=n(12),P=n(16),L=n(81),k=n(14),I=n(118),O=n.n(I),D=n(2),R=function(t){function n(){return d()(this,n),v()(this,y()(n).apply(this,arguments))}return x()(n,t),f()(n,[{key:"componentDidUpdate",value:function(){this.startUpdating=-1/0,this.width=1/0,this.height=1/0,this.updateSize()}},{key:"updateSize",value:function(){var e=u()(l.a.mark(function e(){var t,n,i,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.actions,!((n=performance.now())-this.startUpdating<D.P)){e.next=5;break}return startUpdating=n,e.abrupt("return");case 5:i=0;case 6:if(!(i<D.P)){e.next=14;break}return e.next=9,Object(L.a)(50);case 9:r=O.a.findDOMNode(this).getBoundingClientRect(),this.width===r.width&&this.height===r.height||(t.setControlsHeight(r.height),t.setControlsWidth(r.width),this.width=r.width,this.height=r.height),i=(performance.now()-this.startUpdating)/1e3,e.next=6;break;case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props,n=t.isFloorsVisible,i=t.isModesVisible,o=a()(t,["isFloorsVisible","isModesVisible"]);return n||i?E.a.createElement(N,r()({"data-component":Object(P.a)(e)},o),E.a.createElement(C.a,null),E.a.createElement(S.a,null)):E.a.createElement("span",{"data-component":Object(P.a)(e)})}}]),n}(E.a.Component),N=A()("div",{target:"elvcu7p0"})("position:absolute;display:flex;left:",function(e){return e.isMobileLayout?0:e.margin},"px;bottom:",function(e){return e.isMobileLayout?0:e.margin},"px;right:",function(e){return e.isMobileLayout?0:"auto"},";.is-mouse-drags-player &{pointer-events:none;}");t.a=Object(_.connect)(function(e){var t=e.app,n=e.layout;return{isMobileLayout:n.isMobileLayout,margin:n.viewport.margin,small:n.viewport.small,isFloorsVisible:t.ENV.components.floors,isModesVisible:t.ENV.components.modes}},function(e){return{actions:{setControlsWidth:Object(k.bindActionCreators)(T.setControlsWidth,e),setControlsHeight:Object(k.bindActionCreators)(T.setControlsHeight,e)}}})(R)}).call(this,"src/components/Layout/LayoutControls.js")},function(e,t,n){"use strict";(function(e){var i=n(15),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(11),f=n.n(p),m=n(3),v=n.n(m),g=n(0),y=n.n(g),b=n(30),x=n(390),w=n(344),A=n(85),M=n(12),E=n(14),C=n(55),S=n(345),T=n(16),_=n(2),P=function(t){function n(){return a()(this,n),u()(this,d()(n).apply(this,arguments))}return f()(n,t),l()(n,[{key:"render",value:function(){var t=this,n=this.props,i=(n.isVisible,n.isHelpOpened),o=n.helpStep,a=n.isTutorialOpened,s=n.isFaded,l=n.isOutdoorTutorialVisible,c=n.componentsReadyState.outdoor;return y.a.createElement(L,r()({ref:function(e){return t.elementDOM=e||t.elementDOM},"data-component":Object(T.a)(e)},{isHelpOpened:i,helpStep:o,isFaded:s}),y.a.createElement(b.a,{isOpened:i&&0===o||a},y.a.createElement(S.a,null)),y.a.createElement(b.a,{isOpened:c&&l},y.a.createElement(w.a,null)),y.a.createElement(x.a,null))}}]),n}(A.a),L=v()("div",{target:"e1tv10d90"})("flex-grow:1;opacity:",function(e){return e.isFaded&&!e.isHelpOpened?_.J.opacity:1},";",function(e){return e.isHelpOpened&&0!==e.helpStep&&_.L.inactive},";transition-duration:",function(e){return e.isFaded?"0.6s":_.O},";transition-property:filter,opacity;position:relative;");t.a=Object(M.connect)(function(e){var t=e.app,n=e.help,i=e.layout,r=e.tutorial;return{isHelpOpened:n.isOpened,isTutorialOpened:r[_.C.GENERAL].isVisible&&3===r[_.C.GENERAL].step,helpStep:n.step,componentsReadyState:t.componentsReadyState,isOutdoorTutorialVisible:r[_.C.OUTDOOR].isVisible,isFaded:!i.isUIVisible}},function(e){return{actions:Object(E.bindActionCreators)({setUIVisibility:C.setUIVisibility},e)}})(P)}).call(this,"src/components/Layout/LayoutModes.js")},function(e,t,n){"use strict";n(61),n(39);var i=n(6),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(58),d=n(205),p=n(12),f=n(47),m=n(14),v=n(2),g=l()(h.a,{target:"e171idl90"})("bottom:",function(e){return e.isMobileLayout?7:e.margin},"px;margin-bottom:39px;left:",function(e){return e.isMobileLayout?e.margin:0},"px;right:",function(e){return e.isMobileLayout?function(e){return e.margin}:0},"px;transform:",function(e){return e.isVisible?"none":"translate3d(0, 5px, 0)"},";&:before{display:none;}&:after{left:",function(e){return(e.beforeModesLength+.5)/e.visibleModesLength*100},"%;}"),y=l()(h.a.Block,{target:"e171idl91"})("min-width:",function(e){return Math.min(297,e.viewportWidth-(e.isMobileLayout?2*e.margin:0))},"px;");t.a=Object(p.connect)(function(e){var t=e.app,n=e.layout;return{components:t.ENV.components,isMobileLayout:n.isMobileLayout,margin:n.viewport.margin,viewportWidth:n.viewport.width,small:n.viewport.small}},function(e){return{actions:{setTutorialInteraction:Object(m.bindActionCreators)(f.setInteraction,e)}}})(function(e){var t=e.components,n=e.actions,i=a()(e,["components","actions"]),o=[t.dollhouse,t.inside].filter(function(e){return e}).length,s=[t.dollhouse,t.inside,t.floorplan,t.outdoor].filter(function(e){return e}).length;return u.a.createElement(g,r()({beforeModesLength:o,visibleModesLength:s},i),u.a.createElement(y,i,u.a.createElement(d.a,{onClose:function(){n.setTutorialInteraction(v.C.OUTDOOR,!0)},title:"Outdoor",text:"\n          Transport from the interior to the exterior of the property.\n          You may click, drag and zoom in and out to adjust your view.\n        "})))})},function(e,t,n){"use strict";var i=n(15),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(58),d=n(12),p=l()(h.a,{target:"e1jk5ufp0"})("bottom:",function(e){return e.isMobileLayout?7:e.margin},"px;margin-bottom:39px;left:",function(e){return e.isMobileLayout?e.margin:0},"px;right:",function(e){return e.isMobileLayout?function(e){return e.margin}:0},"px;transform:",function(e){return e.isVisible?"none":"translate3d(0, 5px, 0)"},";text-align:center;&:before{display:none;}"),f=l()(h.a.Block,{target:"e1jk5ufp1"})("min-width:",function(e){return e.isMobileLayout&&e.viewportWidth?"".concat(Math.min(210,e.viewportWidth-2*e.margin),"px"):"210px"},";max-width:250px;");t.a=Object(d.connect)(function(e){var t=e.app,n=e.layout;return{components:t.ENV.components,isMobileLayout:n.isMobileLayout,margin:n.viewport.margin,viewportWidth:n.viewport.width}})(function(e){var t=e.components,n=a()(e,["components"]),i=[];t.inside&&i.push("Walking"),t.dollhouse&&i.push("3D"),t.outdoor&&i.push("Outdoor 3D"),t.floorplan&&i.push("Floor Plan");for(var o="",s=0;s<i.length;s++)o+=(s===i.length-1?" and ":", ")+"<strong>".concat(i[s],"</strong>");return o="Switch between ".concat(o.substr(1)," modes"),u.a.createElement(p,n,u.a.createElement(f,r()({},n,{dangerouslySetInnerHTML:{__html:o}})))})},function(e,t,n){"use strict";(function(e){n(61),n(39);var i=n(15),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(11),f=n.n(p),m=n(3),v=n.n(m),g=n(0),y=n.n(g),b=n(85),x=n(12),w=n(14),A=n(55),M=n(347),E=n(350),C=n(30),S=n(2),T=n(16),_=function(t){function n(){return a()(this,n),u()(this,d()(n).apply(this,arguments))}return f()(n,t),l()(n,[{key:"render",value:function(){var t=this,n=this.props,i=n.isVisible,o=n.visibleModesLength,a=n.isFaded,s=n.isMobileLayout,l=n.small,c=n.margin,u=n.isHelpOpened,h=n.helpStep,d=n.isFloorHack;return i&&!d&&y.a.createElement(P,r()({ref:function(e){return t.elementDOM=e||t.elementDOM},"data-component":Object(T.a)(e)},{visibleModesLength:o,isMobileLayout:s,small:l,margin:c,isHelpOpened:u,helpStep:h,isFaded:a}),y.a.createElement(C.a,{isOpened:u&&1===h},y.a.createElement(E.a,null)),y.a.createElement(M.a,null))}}]),n}(b.a),P=v()("div",{target:"ebsr1tq0"})("width:",function(e){return e.isMobileLayout?"".concat(e.visibleModesLength>1?100/(e.visibleModesLength+1):100,"%"):"".concat(e.small?S.t:S.s,"px")},";position:relative;margin-left:",function(e){return e.visibleModesLength>1?e.isMobileLayout?1:Math.ceil(e.margin/4):0},"px;min-width:50px;opacity:",function(e){return e.isFaded&&!e.isHelpOpened?S.J.opacity:1},";",function(e){return e.isHelpOpened&&1!==e.helpStep&&S.L.inactive},";transition:opacity ",function(e){return e.isFaded?"0.6s":S.O},";pointer-events:auto;.is-mouse-drags-player &{pointer-events:none;}");t.a=Object(x.connect)(function(e){var t=e.app,n=e.layout,i=e.help,r=t.ENV.components.modes?[t.ENV.components.dollhouse,t.ENV.components.inside,t.ENV.components.floorplan].filter(function(e){return e}).length:0;return{isMobile:t.ENV.browser.mobile,isDebug:t.ENV.isDebug,isFloorHack:n.isFloorHack,isVisible:t.ENV.components.floors,isMobileLayout:n.isMobileLayout,small:n.viewport.small,margin:n.viewport.margin,isHelpOpened:i.isOpened,helpStep:i.step,visibleModesLength:r,isFaded:!n.isUIVisible}},function(e){return{actions:Object(w.bindActionCreators)({setUIVisibility:A.setUIVisibility},e)}})(_)}).call(this,"src/components/Layout/LayoutFloors.js")},function(e,t,n){"use strict";var i=n(330);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(206),l=n(2),c=n(12),u=r()("div",{target:"eggd8sa0"})("transition-property:background,border-radius;transition-duration:",l.O,";overflow:hidden;width:100%;color:",l.H.light,";line-height:39px;height:39px;cursor:pointer;font-size:",l.K.size,";position:relative;z-index:6;&:hover{background:",function(e){return e.isMobile?"transparent":l.H.underlayLight},";}"),h=r()("div",{target:"eggd8sa1"})("width:100%;position:relative;overflow:hidden;height:39px;text-align:center;opacity:",function(e){return e.isOpened?0:1},";transition-property:opacity,transform;transition-duration:",l.O,";transform:translate3d(0,",function(e){return e.isOpened?5:0},"px,0);font-weight:",l.K.medium,";fill:",l.H.light,";stroke:",l.H.light,";svg{position:absolute;left:50%;top:50%;transform:translate3d(-50%,-50%,0);}"),d=r()("div",{target:"eggd8sa2"})("position:absolute;left:50%;top:50%;margin:-14px;fill:",l.H.light,";stroke:",l.H.light,";opacity:",function(e){return e.isOpened?1:0},";transition-property:opacity,transform;transition-duration:",l.O,";transform:translate3d(0,",function(e){return e.isOpened?0:-5},"px,0);");t.a=Object(c.connect)(function(e){return{ENV:e.app.ENV}})(function(e){var t=e.isOpened,n=e.onClick,i=e.children,r=e.ENV;return a.a.createElement(u,{title:"Floor Selector",onClick:function(e){return n(e)},isMobile:r.browser.mobile},a.a.createElement(h,{isOpened:t},i),a.a.createElement(d,{isOpened:t},a.a.createElement(s.a,{size:27})))})},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("polyline",{fill:"none",points:"6 23.0223886 11.0249378 23.0223886 11.0249378 17.9998709 16.0273641 17.9998709 16.0273641 12.9999994 21.0273639 12.9999994 21.0273639 8 26.0273639 8"}))}},function(e,t,n){"use strict";n(24),n(61),n(39);var i=n(15),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(58),d=n(12),p=l()(h.a,{target:"e12q6ae90"})("bottom:",function(e){return e.isMobileLayout?7:e.margin},"px;margin-bottom:39px;transform:",function(e){return e.isVisible?"none":"translate3d(0, 5px, 0)"},";text-align:right;width:200px;right:",function(e){return e.isMobileLayout?e.margin:e.small?-70:-65},"px;&:before{display:none;}",function(e){return e.isMobileLayout&&"&:after {\n    right: ".concat(Math.round(e.width/(e.visibleModesLength+1)/2),"px;\n    margin-left: 0;\n    margin-right: ").concat(-e.margin-6,"px;\n    left: auto;\n  }")},""),f=l()(h.a.Block,{target:"e12q6ae91"})("text-align:",function(e){return e.isMobileLayout?"right":"center"},";");t.a=Object(d.connect)(function(e){var t=e.app,n=e.layout;return{components:t.ENV.components,isMobileLayout:n.isMobileLayout,margin:n.viewport.margin,small:n.viewport.small,width:n.viewport.width}})(function(e){var t=e.components,n=a()(e,["components"]),i=[t.dollhouse,t.inside,t.floorplan].filter(function(e){return e}).length;return u.a.createElement(p,r()({},n,{visibleModesLength:i}),u.a.createElement(f,null,"Switch between ",u.a.createElement("strong",null,"floors")))})},function(e,t,n){"use strict";(function(e){n(24);var i=n(15),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(387),d=n(30),p=n(12),f=n(16),m=l()("div",{target:"erlxvbw0"})("text-align:center;display:flex;justify-content:center;align-items:center;pointer-events:none;position:absolute;left:1vw;right:1vw;top:1vw;margin-bottom:",function(e){return e.isModesVisible?39:0},"px;z-index:7;",function(e){return e.margin&&"\n    left: ".concat(e.margin,"px;\n    right: ").concat(e.margin,"px;\n    top: ").concat(e.margin,"px;\n    bottom: ").concat((e.isModesVisible&&!e.isMobileLayout?2:1)*e.margin,"px;\n  ")},"");t.a=Object(p.connect)(function(e){var t=e.app,n=e.share,i=e.layout;return{isVisible:t.ENV.components.share,isOpened:n.isOpened,isModesVisible:t.ENV.components.modes,isMobileLayout:i.isMobileLayout,margin:i.viewport.margin}})(function(t){var n=t.isVisible,i=t.isOpened,o=a()(t,["isVisible","isOpened"]);return n?u.a.createElement(m,r()({},o,{"data-component":Object(f.a)(e)}),u.a.createElement(d.a,{isOpened:i},u.a.createElement(h.a,null))):null})}).call(this,"src/components/Layout/LayoutShare.js")},function(e,t,n){"use strict";(function(e){n(24),n(39);var i=n(15),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(386),d=n(30),p=n(12),f=n(16),m=l()("div",{target:"eevxi3e0"})("position:absolute;max-width:400px;height:auto;margin-bottom:",function(e){return e.isModesVisible?39:0},"px;background:transparent;pointer-events:none;z-index:8;display:flex;align-items:flex-start;",function(e){return(e.small||e.landscape)&&"\n    max-width: 100%;\n  "},"  ",function(e){return e.large&&"\n    max-width: 400px;\n  "}," ",function(e){return e.margin&&"\n    left: ".concat(e.margin,"px;\n    right: ").concat(e.margin,"px;\n    top: ").concat(e.margin,"px;\n    bottom: ").concat(((e.isModesVisible?1:0)+(e.isMobileLayout?0:1))*e.margin,"px;\n  ")},"");t.a=Object(p.connect)(function(e){var t=e.app,n=e.info,i=e.layout;return{isVisible:t.ENV.components.info,isOpened:n.isOpened,isFilled:t.datum.user.isInfoFilled,isModesVisible:t.ENV.components.modes,isMobileLayout:i.isMobileLayout,small:i.viewport.small,large:i.viewport.large,landscape:i.viewport.landscape,margin:i.viewport.margin}})(function(t){var n=t.isFilled,i=t.isVisible,o=t.isOpened,s=a()(t,["isFilled","isVisible","isOpened"]);return i&&n?u.a.createElement(m,r()({"data-component":Object(f.a)(e)},s),u.a.createElement(d.a,{isOpened:o},u.a.createElement(h.a,null))):null})}).call(this,"src/components/Layout/LayoutInfo.js")},function(e,t){var n=4,i=.001,r=1e-7,o=10,a=11,s=1/(a-1),l="function"==typeof Float32Array;function c(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function h(e){return 3*e}function d(e,t,n){return((c(t,n)*e+u(t,n))*e+h(t))*e}function p(e,t,n){return 3*c(t,n)*e*e+2*u(t,n)*e+h(t)}function f(e){return e}e.exports=function(e,t,c,u){if(!(0<=e&&e<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&c===u)return f;for(var h=l?new Float32Array(a):new Array(a),m=0;m<a;++m)h[m]=d(m*s,e,c);function v(t){for(var l=0,u=1,f=a-1;u!==f&&h[u]<=t;++u)l+=s;var m=l+(t-h[--u])/(h[u+1]-h[u])*s,v=p(m,e,c);return v>=i?function(e,t,i,r){for(var o=0;o<n;++o){var a=p(t,i,r);if(0===a)return t;t-=(d(t,i,r)-e)/a}return t}(t,m,e,c):0===v?m:function(e,t,n,i,a){var s,l,c=0;do{(s=d(l=t+(n-t)/2,i,a)-e)>0?n=l:t=l}while(Math.abs(s)>r&&++c<o);return l}(t,l,l+s,e,c)}return function(e){return 0===e?0:1===e?1:d(v(e),t,u)}}},function(e,t,n){"use strict";(function(e){n(61),n(39);var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n.n(c),h=n(10),d=n.n(h),p=n(7),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(30),A=n(396),M=n(355),E=n(2),C=n(85),S=n(12),T=n(14),_=n(55),P=n(16),L=function(t){function n(){return l()(this,n),d()(this,f()(n).apply(this,arguments))}return v()(n,t),u()(n,[{key:"render",value:function(){var t=this,n=this.props,i=n.isVisible,o=n.isInfoFilled,s=n.isTristanFilled,l=n.isHelpOpened,c=n.helpStep,u=n.isFaded,h=n.isStagingVisible,d=n.isHighlightsVisible,p=n.isNarratorVisible,f=n.viewport,m=[h,d,p].filter(function(e){return e}).length*(f.small?E.e:E.d);return i&&(s||o)&&x.a.createElement(k,r()({ref:function(e){return t.elementDOM=e||t.elementDOM},"data-component":Object(P.a)(e)},a()({isHelpOpened:l,helpStep:c,featuresTriggersWidth:m,isFaded:u},f)),x.a.createElement(w.a,{isOpened:l&&2===c},x.a.createElement(M.a,null)),x.a.createElement(A.a,{isActive:o}))}}]),n}(C.a),k=y()("div",{target:"e1p2fn4p0"})("position:absolute;transition-duration:",E.O,";transition-property:filter,opacity;pointer-events:none;top:",function(e){return e.margin},"px;left:",function(e){return e.margin},"px;max-width:",function(e){return e.width-e.featuresTriggersWidth-2*e.margin},"px;opacity:",function(e){return e.isFaded&&!e.isHelpOpened?E.J.opacity:1},";",function(e){return e.isHelpOpened&&2!==e.helpStep&&E.L.inactive},";z-index:2;");t.a=Object(S.connect)(function(e){var t=e.app,n=e.layout,i=e.help;return{isMobile:t.ENV.browser.mobile,isVisible:t.ENV.components.info,isInfoFilled:t.datum.user.isInfoFilled,isTristanFilled:t.datum.user.isTristanFilled,isStagingVisible:t.ENV.components.staging,isNarratorVisible:t.ENV.components.narrator&&t.datum.user.isNarratorFilled,isHighlightsVisible:t.ENV.components.highlights&&t.datum.user.highlights.length>0,isHelpOpened:i.isOpened,helpStep:i.step,viewport:a()({},n.viewport),isFaded:!n.isUIVisible}},function(e){return{actions:Object(T.bindActionCreators)({setUIVisibility:_.setUIVisibility},e)}})(L)}).call(this,"src/components/Layout/LayoutTristan.js")},function(e,t,n){"use strict";n(52),n(53);var i=n(22),r=n.n(i),o=n(3),a=n.n(o),s=n(0),l=n.n(s),c=n(58),u=n(71),h=n(12),d=a()(c.a,{target:"e1secifs0"})("top:54px;left:0;transform:",function(e){return e.isVisible?"none":"translate3d(0, -5px, 0)"},";",function(e){return e.viewportWidth&&e.margin&&"\n    width: ".concat(e.viewportWidth-2*e.margin,"px;\n  ")}," &:before{left:20px;}&:after{display:none;}"),p=a()(c.a.Block,{target:"e1secifs1"})({name:"1ld5kka",styles:"text-align:left;max-width:250px;"});t.a=Object(h.connect)(function(e){var t=e.app,n=e.layout;return{xsmall:n.viewport.xsmall,margin:n.viewport.margin,viewportWidth:n.viewport.width,data:t.datum.user,ENV:t.ENV}})(function(e){var t=e.data,n=e.ENV,i=r()(e,["data","ENV"]),o=t.address,a=t.rooms,s=t.squaring,c=t.price,h=t.description,f=t.persons,m=t.company,v=Object(u.a)({address:o,rooms:a,squaring:s,price:c,description:h},{ignore:["squaring.currency","price.currency"]}),g=Object(u.a)({persons:f,company:m})&&!n.isMLS;return(v||g)&&l.a.createElement(d,i,l.a.createElement(p,null,l.a.createElement("strong",null,"Learn more"),"Â about this tour"))})},function(e,t,n){"use strict";(function(e){n(24),n(39);var i=n(15),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(11),f=n.n(p),m=n(3),v=n.n(m),g=n(0),y=n.n(g),b=n(30),x=n(357),w=n(398),A=n(395),M=n(358),E=n(202),C=n(85),S=n(12),T=n(14),_=n(55),P=n(2),L=n(16),k=function(t){function n(){return a()(this,n),u()(this,d()(n).apply(this,arguments))}return f()(n,t),l()(n,[{key:"render",value:function(){var t=this,n=this.props,i=n.components,o=n.isMobileLayout,a=n.isShrinkedLayout,s=n.isControlsVisible,l=n.isHelpOpened,c=n.helpStep,u=n.margin,h=n.small,d=n.isFaded;return y.a.createElement(I,r()({ref:function(e){return t.elementDOM=e||t.elementDOM},"data-component":Object(L.a)(e)},{isMobileLayout:o,isControlsVisible:s,margin:u}),(i.share||i.fullscreen)&&y.a.createElement(b.a,{isOpened:l&&2===c},y.a.createElement(M.a,null)),i.fullscreen&&y.a.createElement(O,{isMobileLayout:o,isHelpOpened:l,helpStep:c,isFaded:d},y.a.createElement(V,{margin:u},y.a.createElement(A.a,null))),i.share&&y.a.createElement(R,{isHelpOpened:l,helpStep:c,small:h,margin:u,isFaded:d},y.a.createElement(V,{margin:u},y.a.createElement(x.a,null))),i.help&&y.a.createElement(D,{isMobileLayout:o,isHelpOpened:l,helpStep:c,isFaded:d},y.a.createElement(V,{margin:u},y.a.createElement(w.a,null))),i.powered&&y.a.createElement(N,{isMobileLayout:o,isShrinkedLayout:a,isHelpOpened:l,isFaded:d,margin:u},y.a.createElement(V,{margin:u},y.a.createElement(E.a,{size:31,isSplash:!1}))))}}]),n}(C.a),I=v()("div",{target:"e1atxbz50"})("position:absolute;pointer-events:auto;text-align:right;right:0;left:",function(e){return e.isMobileLayout?"0":"auto"},";margin-bottom:",function(e){return e.isMobileLayout&&e.isControlsVisible?39:0},"px;",function(e){return e.margin&&"\n    bottom: ".concat(e.margin,"px;\n    padding: 0 ").concat(e.margin,"px;\n  ")},";.is-mouse-drags-player &{pointer-events:none;}"),O=v()("div",{target:"e1atxbz51"})("float:right;position:relative;z-index:2;opacity:",function(e){return e.isFaded&&!e.isHelpOpened?P.J.opacity:1},";",function(e){return e.isHelpOpened&&2!==e.helpStep&&P.L.inactive},";transition-duration:",function(e){return e.isFaded?"0.6s":P.O},";transition-property:opacity;"),D=v()("div",{target:"e1atxbz52"})("float:right;margin-right:0;position:relative;z-index:2;pointer-events:auto;opacity:",function(e){return e.isFaded&&!e.isHelpOpened?P.J.opacity:1},";transition-duration:",function(e){return e.isFaded?"0.6s":P.O},";transition-property:opacity;.is-mouse-drags-player &{pointer-events:none;}"),R=v()("div",{target:"e1atxbz53"})("float:right;position:relative;z-index:2;opacity:",function(e){return e.isFaded&&!e.isHelpOpened?P.J.opacity:1},";",function(e){return e.isHelpOpened&&2!==e.helpStep&&P.L.inactive},";transition-duration:",function(e){return e.isFaded?"0.6s":P.O},";transition-property:opacity;"),N=v()("div",{target:"e1atxbz54"})("float:right;position:relative;z-index:2;margin-left:-100%;opacity:",function(e){return e.isFaded&&!e.isHelpOpened?P.J.opacity:1},";",function(e){return e.isHelpOpened&&P.L.inactive},";transition-duration:",function(e){return e.isFaded?"0.6s":P.O},";transition-property:filter,opacity;",function(e){return(e.isShrinkedLayout||e.isMobileLayout)&&"\n    position: absolute;\n    right: ".concat(e.margin,"px;\n    bottom: 35px;\n  ")},";"),V=v()("div",{target:"e1atxbz55"})(function(e){return e.margin&&"\n    margin-left: ".concat(Math.floor(e.margin/2),"px;\n  ")},";");t.a=Object(S.connect)(function(e){var t=e.app,n=e.layout,i=e.help;return{isMobile:t.ENV.browser.mobile,components:t.ENV.components,isControlsVisible:t.ENV.components.modes||t.ENV.components.floors,isShrinkedLayout:n.isShrinkedLayout,isMobileLayout:n.isMobileLayout,margin:n.viewport.margin,small:n.viewport.small,isHelpOpened:i.isOpened,helpStep:i.step,isFaded:!n.isUIVisible}},function(e){return{actions:Object(T.bindActionCreators)({setUIVisibility:_.setUIVisibility},e)}})(k)}).call(this,"src/components/Layout/LayoutTriggers.js")},function(e,t,n){"use strict";var i=n(6),r=n.n(i),o=n(3),a=n.n(o),s=n(0),l=n.n(s),c=n(2),u=n(211),h=n(54),d=n(12),p=n(14),f=n(79),m=n(100),v=n(80),g=n(89),y=n(101),b=a()(h.a,{target:"ecxhnz20"})("background:transparent;color:",c.H.light,";stroke:",c.H.light,";fill:",c.H.light,";");t.a=Object(d.connect)(function(e){return{isOpened:e.share.isOpened}},function(e){return r()({},Object(p.bindActionCreators)(f,e),{setHelpVisibility:Object(p.bindActionCreators)(m.setVisibility,e),setInfoVisibility:Object(p.bindActionCreators)(v.setVisibility,e),setFloorsVisibility:Object(p.bindActionCreators)(g.setVisibility,e),setNarratorVisibility:Object(p.bindActionCreators)(y.setVisibility,e)})})(function(e){var t=e.isOpened,n=e.setVisibility,i=e.setNarratorVisibility,r=e.setInfoVisibility,o=e.setFloorsVisibility;return l.a.createElement(b,{title:"Sharing",onClick:function(){r(!1),o(!1),i(!1),n(!t)}},l.a.createElement(u.a,null))})},function(e,t,n){"use strict";n(61),n(39);var i=n(6),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(58),d=n(178),p=n(211),f=n(148),m=n(12),v=l()(h.a,{target:"e1eh38m80"})("margin-bottom:41px;transform:",function(e){return e.isVisible?"none":"translate3d(0, 5px, 0)"},";right:",function(e){return e.margin},"px;width:",function(e){return e.viewportWidth&&e.margin?"".concat(e.viewportWidth-2*e.margin,"px"):"auto"},";bottom:",function(e){return e.margin},"px;&:before{display:none;}&:after{left:auto;right:",function(e){return e.visibleTriggersLength*((e.isMobile?35:31)+e.margin)/2-.5*e.margin},"px;}"),g=l()(h.a.Block,{target:"e1eh38m81"})({name:"1s7ulzn",styles:"max-width:220px;float:right;text-align:left;"});t.a=Object(m.connect)(function(e){var t=e.app,n=e.layout;return{isFullscreenVisible:t.ENV.components.fullscreen,isShareVisible:t.ENV.components.share,isMobileLayout:n.isMobileLayout,isMobile:t.ENV.browser.mobile,small:n.viewport.small,margin:n.viewport.margin,viewportWidth:n.viewport.width}})(function(e){var t=e.isFullscreenVisible,n=e.isShareVisible,i=e.isVisible,o=a()(e,["isFullscreenVisible","isShareVisible","isVisible"]),s=[n,t].filter(function(e){return e}).length;return u.a.createElement(c.Fragment,null,u.a.createElement(v,r()({isVisible:i,visibleTriggersLength:s},o),u.a.createElement(g,null,n&&u.a.createElement(f.a,{visibleTriggersLength:s},u.a.createElement(p.a,null),u.a.createElement("div",null,u.a.createElement("p",null,u.a.createElement("strong",null,"Share")," via social networks or email"))),t&&u.a.createElement(f.a,{visibleTriggersLength:s},u.a.createElement(d.a,null),u.a.createElement("div",null,u.a.createElement("p",null,u.a.createElement("strong",null,"Full screen")))))))})},function(e,t,n){"use strict";(function(e){n(61),n(39);var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(22),l=n.n(s),c=n(4),u=n.n(c),h=n(5),d=n.n(h),p=n(10),f=n.n(p),m=n(7),v=n.n(m),g=n(11),y=n.n(g),b=n(3),x=n.n(b),w=n(0),A=n.n(w),M=n(30),E=n(360),C=n(361),S=n(362),T=n(363),_=n(364),P=n(2),L=n(85),k=n(12),I=n(14),O=n(55),D=n(16),R=function(t){function n(){return u()(this,n),f()(this,v()(n).apply(this,arguments))}return y()(n,t),d()(n,[{key:"render",value:function(){var t=this,n=this.props,i=n.isFeaturesVisible,o=n.isStagingVisible,s=n.isNarratorVisible,c=n.isHighlightsVisible,u=n.isStagingTutorialVisible,h=n.componentsReadyStates,d=n.isFaded,p=n.isNarratorOpened,f=n.isHelpOpened,m=n.helpStep,v=l()(n,["isFeaturesVisible","isStagingVisible","isNarratorVisible","isHighlightsVisible","isStagingTutorialVisible","componentsReadyStates","isFaded","isNarratorOpened","isHelpOpened","helpStep"]),g=[o,c,s].filter(function(e){return e}).length,y=!(1===g&&s&&p);return g>0&&i?A.a.createElement(M.a,{isOpened:y},A.a.createElement(N,r()({ref:function(e){return t.elementDOM=e||t.elementDOM},"data-component":Object(D.a)(e)},a()({isHelpOpened:f,helpStep:m,isFaded:d},v)),c&&A.a.createElement(V,v,A.a.createElement(S.a,null)),s&&A.a.createElement(V,null,A.a.createElement(E.a,null)),o&&A.a.createElement(V,v,A.a.createElement(C.a,null))),A.a.createElement(M.a,{isOpened:f&&1===m},A.a.createElement(T.a,null)),A.a.createElement(M.a,{isOpened:h.staging&&u},A.a.createElement(_.a,null))):null}}]),n}(L.a),N=x()("div",{target:"e10ev2y70"})("pointer-events:none;position:absolute;top:",function(e){return e.margin},"px;right:",function(e){return e.margin},"px;opacity:",function(e){return e.isVisible?e.isFaded&&!e.isHelpOpened?P.J.opacity:1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";transition-property:opacity,visibility;transition-duration:",function(e){return e.isFaded?"0.6s":P.O},";",function(e){return e.isHelpOpened&&1!==e.helpStep&&P.L.inactive},";"),V=x()("div",{target:"e10ev2y71"})("float:right;width:",function(e){return e.small?P.e:P.d},"px;background:",Object(P.M)(P.N.color.light,.8),";transition:width ",P.N.transition,";pointer-events:auto;.is-mouse-drags-player &{pointer-events:none;}& + &{margin-right:1px;}&:last-child{border-top-left-radius:",P.N.br,";border-bottom-left-radius:",P.N.br,";}&:first-of-type{border-top-right-radius:",P.N.br,";border-bottom-right-radius:",P.N.br,";}");t.a=Object(k.connect)(function(e){var t=e.app,n=e.layout,i=e.help,r=e.narrator,o=e.tutorial;return{isMobile:t.ENV.browser.mobile,isFeaturesVisible:t.ENV.components.features,isStagingVisible:t.ENV.components.staging,isNarratorVisible:t.ENV.components.narrator&&t.datum.user.isNarratorFilled,isHighlightsVisible:t.ENV.components.highlights&&t.datum.user.highlights.length>0,isHelpOpened:i.isOpened,isNarratorOpened:r.isOpened&&!r.isDisabled,helpStep:i.step,margin:n.viewport.margin,small:n.viewport.small,isStagingTutorialVisible:o[P.C.STAGING].isVisible,componentsReadyStates:t.componentsReadyState,isFaded:!n.isUIVisible}},function(e){return{actions:Object(I.bindActionCreators)({setUIVisibility:O.setUIVisibility},e)}})(R)}).call(this,"src/components/Layout/LayoutFeatures.js")},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(212),a=n(159),s=n(12),l=n(14),c=n(79),u=n(80),h=n(89),d=n(101);t.a=Object(s.connect)(function(e){var t=e.narrator;return{isOpened:t.isOpened,isDisabled:t.isDisabled}},function(e){return{setShareVisibility:Object(l.bindActionCreators)(c.setVisibility,e),setInfoVisibility:Object(l.bindActionCreators)(u.setVisibility,e),setFloorsVisibility:Object(l.bindActionCreators)(h.setVisibility,e),setVisibility:Object(l.bindActionCreators)(d.setVisibility,e)}})(function(e){var t=e.isOpened,n=e.isDisabled,i=e.setShareVisibility,s=e.setInfoVisibility,l=e.setFloorsVisibility,c=e.setVisibility;return r.a.createElement(a.a,{title:"Narration",isActive:t,isDisabled:n,isReady:!0,name:"NarratorTrigger",onClick:function(){s(!1),l(!1),i(!1),c(!t)}},r.a.createElement(o.a,null))})},function(e,t,n){"use strict";var i=n(332);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=n(214),a=n(159),s=n(12),l=n(14),c=n(78),u=n(47),h=n(16),d=n(2);t.a=Object(s.connect)(function(e){return{isOpened:e.highlights.isOpened}},function(e){return{actions:{setVisibility:Object(l.bindActionCreators)(c.setVisibility,e),setTutorialInteraction:Object(l.bindActionCreators)(u.setInteraction,e)}}})(function(t){var n=t.isOpened,i=t.actions;return r.a.createElement(a.a,{isActive:n,title:"Highlights",isReady:!0,"data-component":Object(h.a)(e),onClick:function(){i.setTutorialInteraction(d.C.HIGHLIGHTS),i.setVisibility(!n)}},r.a.createElement(o.a,null))})}).call(this,"src/components/Highlights/HighlightsTrigger.js")},function(e,t,n){"use strict";n(61),n(39);var i=n(6),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(58),d=n(213),p=n(212),f=n(214),m=n(148),v=n(2),g=n(12),y=l()(h.a,{target:"e1ohuomk0"})("transform:",function(e){return e.isVisible?"none":"translate3d(0, -5px, 0)"},";left:",function(e){return e.margin},"px;right:",function(e){return e.margin},"px;top:",function(e){return e.margin},"px;margin-top:46px;&:before{left:auto;right:",function(e){return e.visibleTriggersLength*(e.small?v.e:v.d)/2},"px;}&:after{display:none;}"),b=l()(h.a.Block,{target:"e1ohuomk1"})({name:"mivvk3",styles:"max-width:280px;float:right;text-align:left;"});t.a=Object(g.connect)(function(e){var t=e.app,n=e.layout,i=e.staging,r=e.narrator;return{isStagingVisible:t.ENV.components.staging,isNarratorVisible:t.ENV.components.narrator&&t.datum.user.isNarratorFilled,isHighlightsVisible:t.ENV.components.highlights&&t.datum.user.highlights.length>0,isStaged:i.isStaged,isNarratorOpened:r.isOpened,small:n.viewport.small,margin:n.viewport.margin}})(function(e){var t=e.isStagingVisible,n=e.isStaged,i=e.isNarratorVisible,o=e.isNarratorOpened,s=e.isHighlightsVisible,l=e.isVisible,h=a()(e,["isStagingVisible","isStaged","isNarratorVisible","isNarratorOpened","isHighlightsVisible","isVisible"]),v=[t,i,s].filter(function(e){return e}).length;return v&&u.a.createElement(c.Fragment,null,u.a.createElement(y,r()({isVisible:l,visibleTriggersLength:v},h),u.a.createElement(b,null,t&&u.a.createElement(m.a,{visibleTriggersLength:v},u.a.createElement(d.a,null),u.a.createElement("div",null,u.a.createElement("p",null,"Turn ",u.a.createElement("strong",null,"virtual staging")," ",n?"off":"on"))),i&&u.a.createElement(m.a,{visibleTriggersLength:v},u.a.createElement(p.a,null),u.a.createElement("div",null,u.a.createElement("p",null,"Turn ",u.a.createElement("strong",null,"narration")," ",o?"off":"on"))),s&&u.a.createElement(m.a,{visibleTriggersLength:v},u.a.createElement(f.a,null),u.a.createElement("div",null,u.a.createElement("p",null,"SeeÂ ",u.a.createElement("strong",null,"highlighted views")))))))})},function(e,t,n){"use strict";n(61),n(39);var i=n(6),r=n.n(i),o=n(22),a=n.n(o),s=n(3),l=n.n(s),c=n(0),u=n.n(c),h=n(58),d=n(205),p=n(12),f=n(47),m=n(14),v=n(2),g=l()(h.a,{target:"eq7g0xw0"})("transform:",function(e){return e.isVisible?"none":"translate3d(0, -5px, 0)"},";left:",function(e){return e.margin},"px;right:",function(e){return e.margin},"px;top:",function(e){return e.margin},"px;margin-top:46px;&:before{left:auto;right:",function(e){return(e.beforeTriggersLength+.5)*(e.small?v.e:v.d)},"px;}&:after{display:none;}"),y=l()(h.a.Block,{target:"eq7g0xw1"})({name:"mivvk3",styles:"max-width:280px;float:right;text-align:left;"});t.a=Object(p.connect)(function(e){var t=e.layout,n=e.app;return{small:t.viewport.small,margin:t.viewport.margin,isHighlightsVisible:n.ENV.components.highlights&&n.datum.user.highlights.length>0}},function(e){return{actions:{setTutorialInteraction:Object(m.bindActionCreators)(f.setInteraction,e)}}})(function(e){var t=e.actions,n=e.isHighlightsVisible,i=a()(e,["actions","isHighlightsVisible"]),o=[n].filter(function(e){return e}).length;return u.a.createElement(g,r()({beforeTriggersLength:o},i),u.a.createElement(y,null,u.a.createElement(d.a,{onClose:function(){t.setTutorialInteraction(v.C.STAGING,!0)},title:"Virtual Staging",text:"\n          Select to view with virtually staged furniture\n        "})))})},function(e,t,n){"use strict";(function(e){n(61);var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(22),l=n.n(s),c=n(3),u=n.n(c),h=n(0),d=n.n(h),p=n(391),f=n(2),m=n(12),v=n(16),g=u()("div",{target:"e1mpq7hm0"})("position:absolute;width:",function(e){return e.videoWidth?e.videoWidth:100},"px;height:",function(e){return e.videoHeight?e.videoHeight:100},"px;right:",function(e){return e.margin},"px;top:",function(e){return e.margin},"px;transition-property:width,height;transition-duration:",f.O,";margin-top:",function(e){return e.otherFeatureTriggersLength?39+Math.floor(e.margin/2):0},"px");t.a=Object(m.connect)(function(e){var t=e.app,n=e.layout,i=e.narrator;return{isVisible:t.ENV.components.narrator&&t.datum.user.isNarratorFilled,videoAspectRatio:i.videoAspectRatio,margin:n.viewport.margin,width:n.viewport.width,isStagingVisible:t.ENV.components.staging,isHighlightsVisible:t.ENV.components.highlights&&t.datum.user.highlights.length>0}})(function(t){var n=t.isVisible,i=t.videoAspectRatio,o=t.width,s=t.isStagingVisible,c=t.isHighlightsVisible,u=l()(t,["isVisible","videoAspectRatio","width","isStagingVisible","isHighlightsVisible"]),h=Math.min(300,Math.max(180,.25*o))*Math.sqrt(f.c/i),m=h*i,y=[s,c].filter(function(e){return e}).length;return n?d.a.createElement(g,r()({"data-component":Object(v.a)(e)},a()({videoWidth:h,videoHeight:m,otherFeatureTriggersLength:y},u)),d.a.createElement(p.a,null)):null})}).call(this,"src/components/Layout/LayoutNarrator.js")},function(e,t,n){"use strict";(function(e){var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n.n(c),h=n(10),d=n.n(h),p=n(7),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(367),A=n(30),M=n(12),E=n(16),C=n(14),S=n(55),T=n(78),_=n(85),P=n(2),L=function(t){function n(){return l()(this,n),d()(this,f()(n).apply(this,arguments))}return v()(n,t),u()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isHighlightTransition,i=t.isLoaded,r=(t.isFilled,t.isVisible,t.isOpened),o=t.isFaded,a=t.actions;!i||r||e.isLoaded||(this.openingTimeout=setTimeout(function(){a.setHighlightsVisibility(!0)},2500)),r&&!e.isOpened&&clearTimeout(this.openingTimeout),e.isFaded!==o&&(o&&n||this.setState({isFaded:o}))}},{key:"render",value:function(){var t=this,n=this.props,i=n.isFilled,o=n.isVisible,s=n.isOpened,l=n.size,c=n.landscape,u=this.state.isFaded;return o&&i?x.a.createElement(k,r()({ref:function(e){return t.elementDOM=e||t.elementDOM},"data-component":Object(E.a)(e)},a()({landscape:c,isFaded:u},l)),x.a.createElement(A.a,{isOpened:s},x.a.createElement(w.a,{isHorizontal:!c}))):null}}]),n}(_.a),k=y()("div",{target:"e93tq90"})("position:absolute;left:0;bottom:100%;width:100%;height:",function(e){return e.height},"px;opacity:",function(e){return e.isFaded?P.J.opacity:1},";transition-duration:",function(e){return e.isFaded?"0.6s":P.O},";",function(e){return e.landscape&&"\n    left: 100%;\n    bottom: 0;\n    width: ".concat(e.width,"px;\n    height: 100%;\n  ")},";");t.a=Object(M.connect)(function(e){var t=e.app,n=e.highlights,i=e.layout,r=e.help;return{isMobile:t.ENV.browser.mobile,isVisible:t.ENV.components.highlights,isFilled:t.datum.user.highlights.length>0,size:n.size,isOpened:n.isOpened,landscape:i.viewport.landscape,isFaded:!i.isUIVisible&&!r.isOpened,isHighlightTransition:n.isHighlightTransition,isLoaded:t.loading.isDone}},function(e){return{actions:Object(C.bindActionCreators)({setHighlightsVisibility:T.setVisibility,setUIVisibility:S.setUIVisibility},e)}})(L)}).call(this,"src/components/Layout/LayoutHighlights.js")},function(e,t,n){"use strict";var i=n(333);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";(function(e){n(24),n(39);var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n.n(c),h=n(10),d=n.n(h),p=n(7),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(369),A=n(2),M=n(12),E=n(16),C=n(135),S=n(30),T=function(t){function n(){return l()(this,n),d()(this,f()(n).apply(this,arguments))}return v()(n,t),u()(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.size!==this.props.size||e.previewUrl!==this.props.previewUrl||e.title!==this.props.title||e.isActive!==this.props.isActive||e.isDragged!==this.props.isDragged||e.isReady!==this.props.isReady||e.viewport.landscape!==this.props.viewport.landscape||e.viewport.portrait!==this.props.viewport.portrait||e.viewport.margin!==this.props.viewport.margin}},{key:"render",value:function(){var t=this.props,n=t.imageUrl,i=t.title,o=t.size,s=t.viewport,l=t.is360,c=t.isActive,u=t.isDragged,h=t.isReady,d=t.onMouseDown,p=t.onClick;return x.a.createElement(_,r()({"data-component":Object(E.a)(e),onClick:function(e){return h&&p&&p(e)}},a()({isActive:c,isReady:h,isDragged:u,onMouseDown:d},o,s)),x.a.createElement(P,{imageUrl:n,isActive:c}),l&&x.a.createElement(I,null,x.a.createElement(w.a,{size:20,stroke:1.8})),i&&x.a.createElement(L,a()({isReady:h},s),x.a.createElement(k,{title:i},x.a.createElement("strong",null,i))),x.a.createElement(O,{isHidden:h},x.a.createElement(S.a,{isOpened:!h},x.a.createElement(C.a,{size:30}))))}}]),n}(x.a.Component),_=y()("div",{target:"e1xx9fq10"})("display:",function(e){return e.landscape?"block":"inline-block"},";position:relative;background-color:",A.N.color.underlayCompound,";margin:",function(e){return e.landscape?"0 -".concat(e.margin,"px ").concat(1.5*e.margin,"px ").concat(e.margin,"px"):"".concat(e.margin,"px ").concat(1.5*e.margin,"px 0 0")},";width:",function(e){return e.landscape?e.width-e.margin:Math.floor(1.4*e.height)},"px;height:",function(e){return e.landscape?Math.floor(e.width/1.6):e.height-e.margin},"px;cursor:",function(e){return e.isDragged?"grabbing":e.isReady?"pointer":"default"},";pointer-events:auto;z-index:2;box-shadow:",function(e){return e.isActive?"0 0 0 2px ".concat(A.N.color.light):"0 ".concat(e.margin,"px ").concat(2*e.margin,"px -").concat(e.margin,"px rgba(0,0,0,0.5)")},";transition:box-shadow ",A.N.transition,";border-radius:3px;text-align:center;overflow:hidden;&:first-of-type{margin-left:",function(e){return e.margin},"px;margin-top:",function(e){return e.margin},"px;}&:last-child{margin-bottom:",function(e){return e.landscape?e.margin:0},"px;}.is-mouse-drags-player &{pointer-events:none;}"),P=y()("div",{target:"e1xx9fq11"})("position:absolute;width:100%;height:100%;left:0;top:0;background-image:url(",function(e){return e.imageUrl},");background-size:cover;opacity:",function(e){return e.isActive?.6:1},";transition:opacity ",A.N.transition,";&:hover{opacity:",function(e){return e.isActive?.6:.9},";}"),L=y()("div",{target:"e1xx9fq12"})("position:absolute;bottom:0;left:0;right:0;padding:",function(e){return"".concat(2*e.margin,"px ").concat(e.margin,"px ").concat(Math.floor(e.margin/2),"px")},";text-align:center;font-size:",A.N.font.small,";line-height:",A.N.font.compact,";opacity:",function(e){return e.isReady?1:.5},";color:",A.N.color.light,";background-image:linear-gradient( to top,",Object(A.M)(A.N.color.base,.4),",",Object(A.M)(A.N.color.base,0)," 20px );overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"),k=y()("span",{target:"e1xx9fq13"})("position:relative;& > strong{position:relative;font-weight:",A.N.font.regular,";z-index:1;}&:before{content:'';position:absolute;top:9px;bottom:1px;left:1px;right:1px;background:",A.N.color.base,";border-radius:5px;box-shadow:0 0 4px 1px ",A.N.color.base,",0 0 25px 5px ",A.N.color.base,";opacity:0.45;}"),I=y()("span",{target:"e1xx9fq14"})("width:20px;height:20px;position:absolute;z-index:2;left:2px;top:2px;stroke:",A.N.color.light,";fill:",A.N.color.light,";filter:drop-shadow(0 1px 1px rgba(0,0,0,0.3)) drop-shadow(0 0 1px rgba(0,0,0,0.4));"),O=y()("span",{target:"e1xx9fq15"})("position:absolute;left:0;z-index:4;background:",Object(A.M)(A.N.color.base,.5),";width:100%;height:100%;opacity:",function(e){return e.isHidden?0:1},";visibility:",function(e){return e.isHidden?"hidden":"visible"},";transition:opacity,visibility;transition-duration:",A.N.transition,";");t.a=Object(M.connect)(function(e){var t=e.highlights,n=e.layout;return{size:t.size,viewport:{landscape:n.viewport.landscape,portrait:n.viewport.portrait,margin:n.viewport.margin}}},null,null,{forwardRef:!0})(T)}).call(this,"src/components/Highlights/HighlightsItem.js")},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size,n=e.stroke;return r.a.createElement(o.a,{size:t,stroke:n},r.a.createElement("path",{d:"M15.5,24.0305176 C8.59644063,24.0305176 3,20.9152682 3,17.0724134 C3,16.1027817 3.35630148,15.1794734 4,14.3408443",fill:"none"}),r.a.createElement("path",{d:"M27,14.3408443 C27.6436985,15.1794734 28,16.1027817 28,17.0724134 C28,20.0615792 24.6138676,22.6105064 19.8603255,23.5954765",fill:"none"}),r.a.createElement("polyline",{transform:"translate(15.200000, 24.000000) rotate(2.000000) translate(-15.200000, -24.000000) ",points:"13.7 26.5 16.7 24 13.7 21.5",fill:"none"}),r.a.createElement("path",{d:"M8.07284001,6.03782609 C7.21650974,6.03782609 6.71764591,6.3638552 6.57623358,7.01592321 L5.11498005,7.01592321 C5.19354246,6.26172407 5.49993126,5.69215513 6.03415565,5.30719932 C6.53695508,4.95366848 7.19686943,4.7769057 8.0139185,4.7769057 C8.85453629,4.7769057 9.53801901,4.97330878 10.0643872,5.36612084 C10.614324,5.76678913 10.8892883,6.2813652 10.8892883,6.90986448 C10.8892883,7.30267654 10.7832307,7.64245386 10.5711122,7.92920666 C10.3589937,8.21595946 10.0447487,8.43003882 9.62836796,8.57145116 C10.0918862,8.72857598 10.463088,8.96229564 10.7419846,9.27261717 C11.0208811,9.58293869 11.1603273,9.93842826 11.1603273,10.3390966 C11.1603273,10.7397648 11.0876582,11.0815062 10.9423177,11.3643309 C10.7969772,11.6471556 10.590754,11.8906954 10.3236418,12.0949577 C9.75799246,12.5270509 9.02344494,12.7430943 8.11997722,12.7430943 C7.25579071,12.7430943 6.52909931,12.5231228 5.93988123,12.0831733 C5.27995698,11.6039426 4.94999981,10.9675967 4.94999981,10.1741163 L6.43482194,10.1741163 C6.45839067,10.5747846 6.62140522,10.8890295 6.9238705,11.1168605 C7.22633578,11.3446915 7.62110598,11.4586053 8.10819292,11.4586053 C8.59527987,11.4586053 8.97433781,11.3505836 9.24537813,11.134537 C9.51641844,10.9184904 9.65193657,10.643526 9.65193657,10.3096358 C9.65193657,9.97574555 9.52820263,9.71452946 9.28073103,9.52597967 C9.03325944,9.33742989 8.64241731,9.24315641 8.10819292,9.24315641 L7.09474289,9.24315641 L7.09474289,8.14721626 L7.96678129,8.14721626 C8.41458703,8.14721626 8.76418451,8.05097875 9.01558422,7.85850085 C9.26698394,7.66602294 9.39268191,7.41266297 9.39268191,7.09841333 C9.39268191,6.78416368 9.28466022,6.52883968 9.06861359,6.33243365 C8.85256696,6.13602763 8.52064575,6.03782609 8.07284001,6.03782609 Z M16.7696554,7.02770751 C16.7303742,6.72131411 16.6203884,6.47973832 16.4396949,6.3029729 C16.2590014,6.12620747 16.0095694,6.03782609 15.6913917,6.03782609 C15.3732139,6.03782609 15.0943215,6.10656717 14.8547062,6.24405138 C14.6150908,6.3815356 14.4088676,6.57990271 14.2360303,6.83915867 C13.8903557,7.37338306 13.717521,8.09614639 13.717521,9.00747036 C13.717521,9.34528872 13.7293052,9.60061273 13.7528739,9.77345003 C13.8392925,9.0978133 14.0946165,8.60287754 14.5188536,8.28862789 C14.8880969,8.0215157 15.3476801,7.8879616 15.897617,7.8879616 C16.6046787,7.8879616 17.1899598,8.11578918 17.6534781,8.57145116 C18.1091401,9.01140066 18.3369676,9.59275377 18.3369676,10.315528 C18.3369676,11.0383021 18.0816436,11.6235833 17.570988,12.071389 C17.0603323,12.5191948 16.3925618,12.7430943 15.5676565,12.7430943 C14.6091951,12.7430943 13.8275108,12.3817126 13.2225803,11.6589385 C12.6176497,10.9361643 12.315189,10.0130698 12.315189,8.88962733 C12.315189,7.58549131 12.6176497,6.56812336 13.2225803,5.83749294 C13.8117984,5.13043125 14.6131229,4.7769057 15.626578,4.7769057 C16.3964896,4.7769057 17.0171234,4.98116491 17.4884978,5.38968944 C17.9677285,5.80607022 18.2230525,6.35207078 18.2544775,7.02770751 L16.7696554,7.02770751 Z M15.5676565,9.03103896 C15.1905569,9.03103896 14.874348,9.14298872 14.6190201,9.36689159 C14.3636923,9.59079446 14.2360303,9.88736311 14.2360303,10.2566064 C14.2360303,10.6258498 14.3636923,10.9184904 14.6190201,11.134537 C14.874348,11.3505836 15.1885929,11.4586053 15.5617643,11.4586053 C15.9349358,11.4586053 16.2511448,11.3505836 16.5104007,11.134537 C16.7696567,10.9184904 16.8992827,10.6258498 16.8992827,10.2566064 C16.8992827,9.88736311 16.7657286,9.58490236 16.4986164,9.34921513 C16.2550729,9.13709662 15.9447561,9.03103896 15.5676565,9.03103896 Z M22.6382381,4.7769057 C23.1096126,4.7769057 23.5397353,4.85743097 23.9286192,5.01848391 C24.3175032,5.17953685 24.6494244,5.4250407 24.9243928,5.75500282 C25.5214671,6.45420828 25.8199998,7.45586399 25.8199998,8.76 C25.8199998,10.064136 25.5214671,11.0657917 24.9243928,11.7649972 C24.3744559,12.4170652 23.61634,12.7430943 22.6500224,12.7430943 C21.6758485,12.7430943 20.9098765,12.4170652 20.3520834,11.7649972 C19.7628653,11.0815042 19.4682607,10.0798485 19.4682607,8.76 C19.4682607,7.4401515 19.7628653,6.43849579 20.3520834,5.75500282 C20.9098765,5.10293482 21.6719204,4.7769057 22.6382381,4.7769057 Z M24.3823149,8.76 C24.3823149,7.880101 24.2310845,7.20643844 23.9286192,6.73899209 C23.626154,6.27154575 23.1979952,6.03782609 22.6441302,6.03782609 C22.0902653,6.03782609 21.6621065,6.27154575 21.3596413,6.73899209 C21.057176,7.20643844 20.9059456,7.880101 20.9059456,8.76 C20.9059456,9.639899 21.057176,10.3096335 21.3596413,10.7692236 C21.6621065,11.2288137 22.0902653,11.4586053 22.6441302,11.4586053 C23.1979952,11.4586053 23.626154,11.2288137 23.9286192,10.7692236 C24.2310845,10.3096335 24.3823149,9.639899 24.3823149,8.76 Z",stroke:"none"}))}},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=n(371),a=n(12),s=n(16);t.a=Object(a.connect)(function(e){return{isVisible:e.app.ENV.components.debug}})(function(t){return t.isVisible?r.a.createElement("div",{"data-component":Object(s.a)(e)},r.a.createElement(o.a,null)):null})}).call(this,"src/components/Layout/LayoutDebug.js")},function(e,t,n){"use strict";var i=n(334);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";(function(e){n(44),n(172);var i=n(33),r=n.n(i),o=n(3),a=n.n(o),s=n(0),l=n.n(s),c=n(161),u=n(12),h=n(2),d=n(16),p=a()("div",{target:"e173jqqd0"})("border-top:1px solid ",h.N.rgba(h.N.color.light,.3),";padding-top:8px;margin-top:16px;");t.a=Object(u.connect)(function(e){return{data:e.app.datum.tour}})(function(t){var n=t.data.additionalInfo;return l.a.createElement(p,{"data-component":Object(d.a)(e)},Object.entries(n).map(function(e){var t=r()(e,2),n=t[0],i=t[1];return l.a.createElement(c.a,{key:n},l.a.createElement("span",null,n,": "),l.a.createElement("strong",null,i))}),l.a.createElement(c.a,null,l.a.createElement("span",null,"viewerVersion: "),l.a.createElement("strong",null,"DEV/1039")),l.a.createElement(c.a,null,l.a.createElement("span",null,"viewerBranch: "),l.a.createElement("strong",null,"dev")))})}).call(this,"src/components/Debug/DebugMetaInfo.js")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return M});n(44),n(90);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(8),d=n.n(h),p=n(11),f=n.n(p),m=n(3),v=n.n(m),g=n(0),y=n.n(g),b=n(2),x=n(374),w=n(16),A=v()("div",{target:"e117a13n0"})("display:block;position:absolute;background:",b.N.color.underlay,";z-index:4;top:60px;left:10px;right:10px;max-width:700px;max-height:80%;padding:10px;border-radius:",b.N.br,";color:#fff;opacity:",function(e){return e.isVisible?"1":"0"},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";transition:",b.N.transition,";transition-property:opacity,visibility;pointer-events:auto;overflow:auto;"),M=function(t){function n(){var e;return r()(this,n),(e=l()(this,u()(n).call(this))).handler=e.handler.bind(d()(e)),e}return f()(n,t),a()(n,[{key:"handler",value:function(e,t,n){if(!(t.value===n&&t.value||"range"===t.type&&(n<t.min||n>t.max))){var i=this.props.handleChange;"function"==typeof t.onChange&&t.onChange(n),i(e,n)}}},{key:"renderRows",value:function(e,t){return Object.keys(e).map(function(n){return y.a.createElement(x.a,{id:n,key:n,data:e[n],handler:t})})}},{key:"render",value:function(){var t=this.props,n=t.list,i=t.isVisible;return y.a.createElement(A,{isVisible:i,"data-component":Object(w.a)(e)},this.renderRows(n,this.handler))}}]),n}(y.a.PureComponent)}).call(this,"src/components/Debug/DebugTuning.js")},function(e,t,n){"use strict";(function(e){n(52),n(53);var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(2),l=n(375),c=n(376),u=n(16),h=r()("div",{target:"en2if7u0"})({name:"sa65fk",styles:"display:block;margin:19px 0 4px;overflow:hidden;position:relative;&:first-of-type{margin-top:0;}"}),d=r()("div",{target:"en2if7u1"})({name:"13o7eu2",styles:"display:block;"}),p=r()("span",{target:"en2if7u2"})("font-family:",s.N.font.family,";display:block;color:",s.N.color.dull,";opacity:0.7;font-size:11px;"),f=r()("span",{target:"en2if7u3"})({name:"1szplmu",styles:"display:inline;font-family:monospace;font-size:11px;"}),m=r()("div",{target:"en2if7u4"})({name:"elvyq6",styles:"display:block;position:relative;height:25px;margin-top:10px;"}),v=r()("span",{target:"en2if7u5"})("position:absolute;font-size:10px;top:4px;color:",s.N.color.underlayDark,";opacity:0.8;"),g=r()(v,{target:"en2if7u6"})({name:"x2wysz",styles:"left:50px;"}),y=r()(v,{target:"en2if7u7"})({name:"19zs6va",styles:"right:0;"}),b=r()("div",{target:"en2if7u8"})({name:"2d9z84",styles:"position:absolute;top:0;left:50px;right:0;"});t.a=function(t){var n=t.id,i=t.data,r=t.handler;return a.a.createElement(h,{"data-component":Object(u.a)(e)},a.a.createElement(d,null,a.a.createElement(f,null,n),a.a.createElement(p,null,i.description)),a.a.createElement(m,null,a.a.createElement(c.a,{id:n,data:i,handler:r}),a.a.createElement(g,null,i.min),a.a.createElement(b,null,a.a.createElement(l.a,{id:n,data:i,handler:r})),a.a.createElement(y,null,i.max)))}}).call(this,"src/components/Debug/DebugTuningRow.js")},function(e,t,n){"use strict";(function(e){n(109);var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(2),l=n(16),c=r()("input",{target:"e1om82ff0"})("position:relative;width:100%;display:block;outline:none;-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);height:25px;background:transparent;border:none;cursor:grab;margin:0;&:active{cursor:grabbing;}&:after{display:block;position:absolute;content:'';height:5px;left:0;bottom:1px;width:100%;background:rgba(0,0,0,0.4);box-shadow:inset 0 1px 3px rgba(0,0,0,0.3);border-radius:1px;}::-webkit-slider-thumb{appearance:none;width:4px;height:25px;border:none;border-radius:4px 4px 0 0;background:",s.N.color.highlight,";box-shadow:inset 0 0 3px rgba(255,255,255,0.3),inset 0 -1px 3px rgba(0,0,0,0.3);z-index:2;position:relative;}&:active::-webkit-slider-thumb{background:",s.N.color.highlightDark,";}");t.a=function(t){var n=t.id,i=t.data,r=t.handler,o=i.value,s=i.min,u=i.max,h=i.step,d=void 0===h?.1:h;return a.a.createElement(c,{"data-component":Object(l.a)(e),type:"range",value:o,min:s,max:u,step:d,onChange:function(e){return r(n,i,Number(e.target.value))}})}}).call(this,"src/components/Debug/DebugTuningRange.js")},function(e,t,n){"use strict";(function(e){var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(2),l=n(16),c=r()("input",{target:"e19k2nio0"})("display:block;width:40px;box-shadow:none;background:",s.N.color.underlayLight,";border:1px solid ",s.N.color.borders,";outline:none;border-radius:4px;padding:5px 0;color:#fff;position:absolute;top:0;left:0;");t.a=function(t){var n=t.id,i=t.data,r=t.handler,o=i.value;return a.a.createElement(c,{"data-component":Object(l.a)(e),type:"text",value:o,onChange:function(e){return r(n,i,e.target.value)}})}}).call(this,"src/components/Debug/DebugTuningInput.js")},function(e,t,n){"use strict";(function(e){var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(378),l=n(16),c=n(12);t.a=Object(c.connect)(function(e){var t=e.app;return{isVisible:t.ENV.components.pins,isFilled:t.datum.user.tags.length>0,isEditorMode:t.ENV.editorMode}})(function(t){var n=t.isVisible,i=t.isFilled,r=t.isEditorMode;return n&&(i||r)?a.a.createElement(u,{"data-component":Object(l.a)(e)},a.a.createElement(s.a,null)):null});var u=r()("div",{target:"e1mkews30"})({name:"169zhyd",styles:"position:relative;z-index:3;"})}).call(this,"src/components/Layout/LayoutTags.tsx")},function(e,t,n){"use strict";var i=n(335);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n(24);t.a=function(e){return"\n    .".concat(e,"__tag {\n      position: absolute;\n      opacity: 0;\n      visibility: hidden;\n      transition: 0.3s;\n      transition-property: visibility, opacity;\n      width: 0;\n      height: 0;\n      z-index: 5;\n    }\n    .").concat(e,"__tag.is-visible {\n      visibility: visible;\n      opacity: 1;\n    }\n    .").concat(e,"__popup {\n      position: absolute;\n      transform: translate3d(-50%, 0, 0);\n      margin-top: -60px;\n      min-width: 320px;\n      text-align: center;\n      bottom: 10px;\n      pointer-events: none;\n    }\n    .").concat(e,"__popup:after {\n      content: '';\n      width: 0;\n      height: 0;\n      border: 6px solid transparent;\n      position: absolute;\n      left: 50%;\n      border-top: 6px solid rgba(255, 255, 255, 0.9);\n      top: 100%;\n      margin-left: -6px;\n      margin-right: -6px;\n    }\n    .").concat(e,"__shape {\n      position: relative;\n      display: inline-block;\n      background: rgba(255, 255, 255, 0.9);\n      border-radius: 3px;\n      overflow: hidden;\n      text-align: left;\n      pointer-events: auto;\n    }\n    .").concat(e,"__text-content {\n      padding: 15px 20px;\n    }\n    .").concat(e,"__title {\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .").concat(e,"__description {\n      font-size: 14px;\n      color: #798A8E;\n      white-space: pre-wrap;\n    }\n    * + .").concat(e,"__description {\n      margin-top: 5px;\n    }\n    .").concat(e,"__description a {\n      color: #00ccff;\n    }\n    .").concat(e,"__description ul {\n      margin-left: 20px;\n      padding: 0;\n    }\n    .").concat(e,"__description li {\n      margin: 0;\n      padding: 0;\n    }\n    .").concat(e,"__video {\n      padding-top: 66%;\n      position: relative;\n      overflow: hidden;\n      width: 320px;\n      background: #000;\n    }\n    .").concat(e,"__video iframe {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      border: none;\n    }\n    .").concat(e,"__image {\n      width: 320px;\n      height: auto;\n      border: none;\n      display: block;\n    }\n    .").concat(e,"__link {\n      display: inline-block;\n      color: hsl(192, 100%, 40%);\n      font-size: 13px;\n      text-decoration: none;\n      transition-property: color;\n      transition-duration: 0.3s;\n      font-weight: bold;\n    }\n    .").concat(e,"__link:hover {\n      color: #000000;\n    }\n    * + .").concat(e,"__link {\n      margin-top: 10px;\n    }\n  ")}},function(e,t,n){"use strict";(function(e){var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(11),d=n.n(h),p=n(3),f=n.n(p),m=n(0),v=n.n(m),g=n(381),y=n(19),b=n(12),x=n(16),w=function(t){function n(){return r()(this,n),l()(this,u()(n).apply(this,arguments))}return d()(n,t),a()(n,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.margin,n=e.isComponentAvailable,i=Math.ceil(t*devicePixelRatio);y.a&&(n?y.a.Minimap.setTargetRect({x:i,y:i},!0):y.a.Minimap.setVisibility(!1))}},{key:"render",value:function(){var t=this.props,n=t.isComponentAvailable,i=t.margin;return n?v.a.createElement(A,{"data-component":Object(x.a)(e),margin:i},v.a.createElement(g.a,null)):v.a.createElement("span",{"data-component":Object(x.a)(e)})}}]),n}(v.a.PureComponent),A=f()("div",{target:"e360ip40"})("position:absolute;bottom:",function(e){return e.margin},"px;left:",function(e){return e.margin},"px;");t.a=Object(b.connect)(function(e){var t=e.app,n=e.layout;return{isComponentAvailable:t.ENV.components.minimap&&t.ENV.components.inside,margin:n.viewport.margin}})(w)}).call(this,"src/components/Layout/LayoutMinimap.js")},function(e,t,n){"use strict";var i=n(336);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return A});var i=n(4),r=n.n(i),o=n(10),a=n.n(o),s=n(7),l=n.n(s),c=n(8),u=n.n(c),h=n(5),d=n.n(h),p=n(11),f=n.n(p),m=n(3),v=n.n(m),g=n(0),y=n.n(g),b=n(16),x=n(2),w=n(383),A=function(t){function n(e){var t;return r()(this,n),(t=a()(this,l()(n).call(this,e))).handleMouseDown=t.handleMouseDown.bind(u()(t)),t.doDrag=t.doDrag.bind(u()(t)),t.stopDrag=t.stopDrag.bind(u()(t)),t}return f()(n,t),d()(n,[{key:"shouldComponentUpdate",value:function(){return!1}}]),d()(n,[{key:"handleMouseDown",value:function(){document.documentElement.addEventListener("mousemove",this.doDrag,!1),document.documentElement.addEventListener("mouseup",this.stopDrag,!1)}},{key:"doDrag",value:function(e){1===e.which?this.props.handleResize(e):this.stopDrag(e)}},{key:"stopDrag",value:function(e){document.documentElement.removeEventListener("mousemove",this.doDrag,!1),document.documentElement.removeEventListener("mouseup",this.stopDrag,!1)}},{key:"render",value:function(){return y.a.createElement(M,{"data-component":Object(b.a)(e),onMouseDown:this.handleMouseDown},y.a.createElement(w.a,{size:10}))}}]),n}(y.a.Component),M=v()("div",{target:"e1p80n0a0"})("position:absolute;top:0;right:0;stroke:",x.N.color.light,";transition-property:opacity,visibilty;transition-duration:",x.N.transition,";cursor:nesw-resize;pointer-events:auto;opacity:0.5;width:16px;height:16px;&:hover{opacity:1;}& svg{position:absolute;top:3px;right:3px;}")}).call(this,"src/components/Minimap/MinimapResizer.tsx")},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size;return r.a.createElement(o.a,{size:t},r.a.createElement("g",{id:"Group-4",transform:"translate(29.000000, 2.000000) scale(-3, 3)",stroke:"#FFFFFF",strokeWidth:"1.5"},r.a.createElement("path",{d:"M0,1 L1,0",id:"Path-4"}),r.a.createElement("path",{d:"M0,4.5 L4.5,0",id:"Path-18"}),r.a.createElement("path",{d:"M0,8 L8,0",id:"Path-19"})))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(17);t.a=function(e){var t=e.size,n=e.stroke;return r.a.createElement(o.a,{size:t,stroke:n},r.a.createElement("g",{id:"Group",transform:"translate(2.000000, 2.000000)",stroke:"#FFFFFF",strokeWidth:"1.8",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("polyline",{id:"Rectangle-4",points:"16.9 14 18.5 17 6.5 17 8.34615385 14"}),r.a.createElement("path",{d:"M12.5,14 C14.8333333,12 16,10.1666667 16,8.5 C16,6.56700338 14.4329966,5 12.5,5 C10.5670034,5 9,6.56700338 9,8.5 C9,10.1666667 10.1666667,12 12.5,14 Z",id:"Oval"}),r.a.createElement("circle",{id:"Oval-2",fill:"#FFFFFF",cx:"12.5",cy:"8.5",r:"1"})))}},function(e,t,n){(function(t){var n="Expected a function",i=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,v=function(){return d.Date.now()};function g(e,t,i){var r,o,a,s,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(n);function g(t){var n=r,i=o;return r=o=void 0,u=t,s=e.apply(i,n)}function x(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=a}function w(){var e=v();if(x(e))return A(e);l=setTimeout(w,function(e){var n=t-(e-c);return d?m(n,a-(e-u)):n}(e))}function A(e){return l=void 0,p&&r?g(e):(r=o=void 0,s)}function M(){var e=v(),n=x(e);if(r=arguments,o=this,c=e,n){if(void 0===l)return function(e){return u=e,l=setTimeout(w,t),h?g(e):s}(c);if(d)return l=setTimeout(w,t),g(c)}return void 0===l&&(l=setTimeout(w,t)),s}return t=b(t)||0,y(i)&&(h=!!i.leading,a=(d="maxWait"in i)?f(b(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),M.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=c=o=l=void 0},M.flush=function(){return void 0===l?s:A(v())},M}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==r}(e))return i;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,i){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return y(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),g(e,t,{leading:r,maxWait:t,trailing:o})}}).call(this,n(136))},function(e,t,n){"use strict";n(52),n(53),n(34),n(44),n(36);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(8),d=n.n(h),p=n(11),f=n.n(p),m=n(6),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b);n(109),n(24),n(68),n(152);n(39);var w=n(22),A=n.n(w),M=n(12),E=y()("div",{target:"eazj6xi0"})("padding:10px 25px;",function(e){return e.small&&"\n    padding-left: 17px;\n    padding-right: 17px;\n  "},""),C=Object(M.connect)(function(e){return{small:e.layout.viewport.small}})(function(e){var t=e.children,n=A()(e,["children"]);return x.a.createElement(E,n,t)}),S=(n(61),n(139),n(2)),T=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),a()(t,[{key:"render",value:function(){var e=this.props.address,t=e.street,n=e.town,i=e.state,r=e.country,o=[n,i,e.postcode,r].filter(function(e){return!!e});return e?x.a.createElement(_,null,t&&x.a.createElement(P,null,t),o.length>0&&x.a.createElement(L,null,o.join(", "))):null}}]),t}(x.a.PureComponent),_=y()("div",{target:"eprpte40"})("font-size:",S.K.size,";line-height:",S.K.height,";font-weight:",S.K.regular,";color:",S.H.text,";margin:5px 30px 12px 0;padding-right:10px;"),P=y()("div",{target:"eprpte41"})("font-size:18px;font-weight:",S.K.medium,";line-height:22px;"),L=y()("div",{target:"eprpte42"})("color:",S.H.baseDull,";"),k=T,I=n(17),O=function(e){var t=e.size,n=void 0===t?31:t,i=e.stroke,r=void 0===i?1.8:i;return x.a.createElement(I.a,{viewBox:32,size:n,stroke:r},x.a.createElement("path",{fill:"none",d:"M10,18H25a1,1,0,0,1,1,1v1a5,5,0,0,1-5,5H11a5,5,0,0,1-5-5V18M18.21,6.52a1,1,0,0,0-.84-.28l-4.14.53-.87.87-.52,4.16a1,1,0,0,0,.29.83l.58.58,6.1-6.1Zm-5.38.66A4,4,0,0,0,10,6h0a4,4,0,0,0-4,4v8"}))},D=function(e){var t=e.size,n=void 0===t?31:t,i=e.stroke,r=void 0===i?1.8:i;return x.a.createElement(I.a,{viewBox:32,size:n,stroke:r},x.a.createElement("rect",{stroke:"none",x:"11",y:"8.5",width:"4",height:"3",rx:"0.5",ry:"0.5"}),x.a.createElement("rect",{stroke:"none",x:"17",y:"8.5",width:"4",height:"3",rx:"0.5",ry:"0.5"}),x.a.createElement("path",{fill:"none",d:"M5,21H27v4H5V21m22,0L24,10V6H8v4L5,21m4,4v2m14-2v2"}))},R=function(e){var t=e.size,n=void 0===t?31:t;return x.a.createElement(I.a,{size:n},x.a.createElement("path",{strokeWidth:"1.2",fillRule:"nonzero",d:"M18.4593167,19.2089472 L16.8582454,20.0263667 C16.6308805,20.1424468 16.3541008,20.0939817 16.1794314,19.9072896 C16.1209082,19.8445727 16.1209082,19.8445727 16.0847702,19.8057158 C16.0463937,19.7643077 16.0463937,19.7643077 15.9836155,19.696326 C14.831108,18.4588984 14.2726732,17.7012317 13.6708994,16.5164215 C13.0676013,15.3298625 12.7863245,14.4386377 12.4608791,12.7650118 C12.432204,12.6155443 12.4213674,12.5602843 12.4083735,12.4975979 C12.3560189,12.2450225 12.4790754,11.9886658 12.7088923,11.871517 L13.7823712,11.3243137 L14.3110711,11.0539045 C14.6885688,10.8610578 14.8439929,10.4158153 14.667156,10.0674381 L13.0502822,6.88603441 C12.8740279,6.53940792 12.4248289,6.40442474 12.0479323,6.59696244 L11.2426019,6.99987783 C10.932237,7.24196153 10.6775377,7.4848459 10.4729889,7.7341603 C10.2618642,7.99726371 10.0995614,8.25757633 9.97389015,8.53414507 C8.88839627,10.8763342 9.28913471,13.5042269 11.4077168,17.6717241 C12.6485613,20.1123584 14.1254985,21.9249257 15.7755447,23.1124191 C16.6221809,23.7217202 17.3977143,24.0953546 17.9410778,24.2102506 C18.2498718,24.2712318 18.5547137,24.2918899 18.8770595,24.273532 C19.2183442,24.253415 19.559152,24.1848814 19.8253805,24.089884 L20.7220821,23.6668234 C21.0994205,23.4736071 21.2551438,23.0275278 21.0787462,22.6791278 L19.4621789,19.4987649 C19.2847359,19.1517021 18.8354163,19.0167932 18.4593167,19.2089472 Z"}))},N=function(e){var t=e.size,n=void 0===t?31:t;return x.a.createElement(I.a,{size:n},x.a.createElement("g",{strokeWidth:"1.2"},x.a.createElement("rect",{x:"7",y:"9",width:"17",height:"13",rx:"1"}),x.a.createElement("path",{d:"M23,10 C18.6307692,14.568652 16.3307692,16.9537095 16.1,17.1551724 C15.7538462,17.4573668 15.0615385,17.4573668 14.7153846,17.1551724 C14.5831759,17.0397535 12.3447144,14.654696 8,10"})))},V=function(e){var t=e.size,n=void 0===t?31:t;return x.a.createElement(I.a,{size:n},x.a.createElement("g",{strokeWidth:"1.2"},x.a.createElement("circle",{cx:"15.5",cy:"15.5",r:"8"}),x.a.createElement("path",{d:"M7.5,15.5 L23.5,15.5"}),x.a.createElement("path",{d:"M9,11.5 L22,11.5"}),x.a.createElement("path",{d:"M9,19.5 L22,19.5"}),x.a.createElement("path",{d:"M15.5,23.5 C13.5,22.5 11.5,20 11.5,15.5"}),x.a.createElement("path",{d:"M15.5,23.5 C17.5,22.5 19.5,20 19.5,15.5"}),x.a.createElement("path",{d:"M15.5,7.5 C17.5,8.5 19.5,11 19.5,15.5"}),x.a.createElement("path",{d:"M15.5,7.5 C13.5,8.5 11.5,11 11.5,15.5"})))},B=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),a()(t,[{key:"renderPrice",value:function(e,t){return x.a.createElement(j,{price:!0},x.a.createElement(z,{price:!0},/^[0-9]*$/.test(t)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=null,i=navigator.language||"en-US";try{n=e.toLocaleString(i,{style:"currency",currency:t,minimumFractionDigits:0})}catch(t){n=e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}return n}(Number(t),e):t))}},{key:"renderBedrooms",value:function(e){return x.a.createElement(j,null,x.a.createElement(z,null,x.a.createElement("span",null,e),x.a.createElement(D,{size:23,stroke:2.2})),x.a.createElement("span",null,"bed",1!==Number(e)?"s":null))}},{key:"renderBathrooms",value:function(e){return x.a.createElement(j,null,x.a.createElement(z,null,x.a.createElement("span",null,e),x.a.createElement(O,{size:23,stroke:2.2})),x.a.createElement("span",null,"bath",1!==Number(e)?"s":null))}},{key:"renderSquaring",value:function(e,t){return x.a.createElement(j,null,x.a.createElement(z,null,/^[0-9]*$/.test(t)?function(e){var t=navigator.language||"en-US";return e.toLocaleString(t,{minimumFractionDigits:0})}(Number(t)):t),x.a.createElement("span",null,e&&x.a.createElement("span",null,e,".")))}},{key:"render",value:function(){var e=this.props,t=e.isAnyAddress,n=e.address,i=e.rooms,r=e.squaring,o=e.price,a=o&&o.value,s=r&&r.value,l=i&&i.bedrooms,c=i&&i.bathrooms,u=s||l||c;return x.a.createElement(F,{isAddress:t},t&&x.a.createElement(k,{address:n}),a&&this.renderPrice(o.currency,o.value),u&&x.a.createElement(U,null,l&&this.renderBedrooms(i.bedrooms),c&&this.renderBathrooms(i.bathrooms),s&&this.renderSquaring(r.unit,r.value)))}}]),t}(x.a.PureComponent),F=y()(C,{target:"esb3mps0"})("padding-right:",function(e){return e.isAddress?40:0},"px;padding-top:18px;padding-bottom:15px;* + &{padding-right:0;}"),z=y()("div",{target:"esb3mps1"})("top:0;left:0;display:block;font-size:19px;line-height:20px;height:20px;margin-bottom:-2px;font-weight:",S.K.medium,";color:",S.H.text,";fill:",S.H.text,";stroke:",S.H.text,";text-align:left;white-space:nowrap;position:relative;svg{display:inline-block;margin:-5px 0;vertical-align:middle;position:relative;top:-1px;left:2px;}"),U=y()("div",{target:"esb3mps2"})({name:"1hp6i1l",styles:"display:inline-block;vertical-align:top;"}),j=y()("div",{target:"esb3mps3"})("font-size:",S.K.size,";line-height:",S.K.height,";font-weight:",S.K.regular,";vertical-align:top;color:",S.H.baseDull,";position:relative;display:inline-block;margin-top:5px;margin-bottom:5px;margin-right:",function(e){return e.price?40:25},"px;padding-bottom:",function(e){return e.price?7:0},"px;"),H=B,G=(n(97),n(207)),W=n(208),Q=n.n(W);function Y(e){return e.replace(/<(?:.|\n)*?>/gm,"").length>300}var X=function(e){function t(e){var n;return r()(this,t),(n=l()(this,u()(t).call(this))).state={isCollapsable:Y(e.description),isOpened:!1},n.toggle=n.toggle.bind(d()(n)),n}return f()(t,e),a()(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.description!==this.props.description||t.isCollapsable!==this.state.isCollapsable||t.isOpened!==this.state.isOpened}},{key:"componentDidUpdate",value:function(){this.setState({isCollapsable:Y(this.props.description)})}},{key:"toggle",value:function(){this.setState({isOpened:!this.state.isOpened})}},{key:"render",value:function(){var e=this.props.description,t=this.state,n=t.isCollapsable,i=t.isOpened;return e?x.a.createElement(K,null,x.a.createElement(q,{isOpened:i,isCollapsable:n},x.a.createElement(G.a,null,x.a.createElement("div",{dangerouslySetInnerHTML:{__html:Q.a.sanitize(e)}}))),n&&x.a.createElement(J,{isOpened:i,onClick:this.toggle},i?"Show less":"Show more")):null}}]),t}(x.a.Component),K=y()(C,{target:"elizehv0"})("font-size:",S.K.size,";color:",S.H.text,";line-height:",S.K.expanded,";font-weight:",S.K.regular,";white-space:pre-wrap;"),q=y()("div",{target:"elizehv1"})("overflow:",function(e){return e.isCollapsable?"hidden":"auto"},";max-height:",function(e){return e.isCollapsable&&!e.isOpened?"200px":"8000px"},";transition:max-height 0.3s;position:relative;"),J=y()("div",{target:"elizehv2"})("position:relative;background:#fff;font-weigth:bold;padding-top:20px;cursor:pointer;color:",S.H.baseDull,";transition:color 0.3s;&:hover{color:",S.H.highlightDark,";}&:before{transition:opacity 0.3s;opacity:",function(e){return e.isOpened?"0":"1"},";height:40px;position:absolute;left:0;bottom:100%;width:100%;background:linear-gradient(rgba(255,255,255,0),rgba(255,255,255,1));content:'';}"),Z=(n(56),n(132),n(15)),$=n.n(Z),ee=function(e){var t=e.type,n=e.value,i=e.isFirst,r=e.isCompany;var o=function(){switch(t){case"phone":return{target:"_self",icon:x.a.createElement(R,null),text:(e=n,i=e.match(/^(\d{3})(\d{3})(\d{4})$/),(i?"(".concat(i[1],") ").concat(i[2],"-").concat(i[3]):null)||n),href:"tel:".concat(n)};case"email":return{target:"_self",icon:x.a.createElement(N,null),text:n,href:"mailto:".concat(n)};case"url":return{target:"_blank",icon:x.a.createElement(V,null),text:n.replace("http://","").replace("https://",""),href:0===n.indexOf("http")?n:"http://".concat(n)}}var e,i}();return x.a.createElement(te,$()({isFirst:i,isCompany:r},{target:o.target,href:o.href}),x.a.createElement(ie,null,o.icon),x.a.createElement(ne,null,o.text))},te=y()("a",{target:"e1hk39kg0"})("position:relative;z-index:3;display:block;padding:",function(e){return e.isCompany?"5px 0":"11px 0"},";color:",S.H.baseDull,";stroke:",S.H.baseDull,";fill:none;text-decoration:none;transition:",S.O,";transition-property:color,fill,stroke;",function(e){return!e.isFirst&&!e.isCompany&&"border-top: 1px solid ".concat(S.H.borders)},";&:hover{color:",S.H.highlightDark,";stroke:",S.H.highlightDark,";}&:first-of-type{position:sticky;bottom:0;}"),ne=y()("span",{target:"e1hk39kg1"})("display:block;font-size:",S.K.size,";line-height:",S.K.height,";font-weight:",S.K.regular,";width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;* + &{padding-left:27px;}"),ie=y()("span",{target:"e1hk39kg2"})({name:"1axc5bg",styles:"width:31px;height:31px;float:left;margin-right:-100%;position:relative;left:-5px;top:-5px;"}),re=n(71),oe=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.company,n=e.small,i=e.tourPath,r=t.title,o=t.logo,a=t.contacts,s=Object(re.a)({contacts:a},{ignore:["contacts[].type"]}),l=o&&0===o.indexOf("embedded_files/")?"".concat(i).concat(o):o;return(r||o||a&&a.length)&&x.a.createElement(x.a.Fragment,null,x.a.createElement(he,null),x.a.createElement(le,null,o&&x.a.createElement(ce,{logo:l}),r&&x.a.createElement(ue,null,r)),s&&x.a.createElement(se,{small:n},a.map(function(e,t){return e.value&&x.a.createElement(ee,$()({isCompany:!0,key:t},e))})),x.a.createElement(he,null))||null}}]),t}(x.a.PureComponent),ae=Object(M.connect)(function(e,t){var n=e.layout,i=e.app.ENV,r=i.contentPathPrefix,o=i.tour;return{tourPath:"".concat(r).concat(o,"/"),small:n.viewport.small}},function(e){return{dispatch:e}})(oe),se=y()(C,{target:"ecqiu6h0"})("padding-top:0;padding-bottom:0;",function(e){return e.small&&"\n    padding-top: 0;\n    padding-bottom: 0;\n  "},";"),le=y()(C,{target:"ecqiu6h1"})("font-size:",S.K.large,";line-height:",S.K.height,";font-weight:",S.K.bold,";margin-bottom:-10px;"),ce=y()("div",{target:"ecqiu6h2"})("height:50px;width:170px;margin-top:-20px;background:url(",function(e){return e.logo},");background-position:0 100%;background-size:contain;background-repeat:no-repeat;margin-bottom:12px;margin-left:-1px;"),ue=y()("div",{target:"ecqiu6h3"})("font-size:",S.K.large,";line-height:",S.K.height,";font-weight:",S.K.bold,";padding-bottom:11px;"),he=y()("div",{target:"ecqiu6h4"})({name:"1xzsyzi",styles:"height:10px;"}),de=y()(C,{target:"e11zpq00"})("font-size:",S.K.small,";line-height:",S.K.height,";font-weight:",S.K.regular,";color:",S.H.baseDull,";padding-top:15px;padding-bottom:15px;position:relative;z-index:2;text-align:right;a{color:inherit;text-decoration:none;transition:",S.O,";transition-property:color;&:hover{color:",S.H.highlightDark,";}}");var pe=Object(M.connect)(function(e){var t=e.app;return{ENV:t.ENV,whiteLabelling:t.datum.user.whiteLabelling}})(function(e){var t=e.ENV,n=e.whiteLabelling,i=n&&n.isEnabled,r=i?n.text?x.a.createElement("span",null,void 0!==n.shortLabel?n.shortLabel:"Captured by",x.a.createElement("br",null),x.a.createElement("b",null," ",n.text," ")):x.a.createElement("span",null):x.a.createElement("span",null,"Powered by ",x.a.createElement("strong",null,"GeoCV")),o=i?n.website:"http://geocv.com";return x.a.createElement(de,null,t.isMLS||""===o?r:x.a.createElement("a",{href:o,target:"_blank"},r))});var fe=Object(M.connect)(function(e){var t=e.layout,n=e.app.ENV,i=n.contentPathPrefix,r=n.tour;return{tourPath:"".concat(i).concat(r,"/"),small:t.viewport.small}},function(e){return{dispatch:e}})(x.a.memo(function(e){var t=e.person,n=e.small,i=e.tourPath,r=e.isSingle,o=t.firstName,a=t.lastName,s=t.contacts,l=t.photo,c=Object(re.a)({contacts:s,firstName:o,lastName:a,photo:l},{ignore:["contacts[].type"]}),u=Object(re.a)({contacts:s},{ignore:["contacts[].type"]}),h=l&&0===l.indexOf("embedded_files/")?"".concat(i).concat(l):l;return c?x.a.createElement(x.a.Fragment,null,x.a.createElement(me,{small:n},l&&x.a.createElement(ye,{photo:h}),x.a.createElement(ve,null,o||a?x.a.createElement("span",{title:"".concat(o||""," ").concat(a||"")},x.a.createElement("span",null,o||"")," ",x.a.createElement("span",null,a||"")):x.a.createElement(ge,null,r?"Contact Information":"Agent")),u&&t.contacts.map(function(e,t){return e.value&&x.a.createElement(ee,$()({isFirst:0===t,key:t},e))})),x.a.createElement(be,null)):x.a.createElement("span",null)})),me=y()("div",{target:"e1fst1540"})("-webkit-tap-highlight-color:transparent;padding:0 100px 0 25px;width:100%;position:relative;min-height:59px;",function(e){return e.small&&" padding-left: 17px; padding-right: 17px;"},";"),ve=y()("div",{target:"e1fst1541"})("font-size:",S.K.large,";line-height:",S.K.height,";font-weight:",S.K.bold,";padding-top:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"),ge=y()("span",{target:"e1fst1542"})("color:",S.H.baseDull,";"),ye=y()("div",{target:"e1fst1543"})("border-radius:40px;background:",S.H.baseDull," no-repeat 50% 50% / cover url(",function(e){return e.photo},");width:58px;height:58px;top:-7px;z-index:4;position:absolute;right:25px;"),be=y()("div",{target:"e1fst1544"})({name:"1xzsyzi",styles:"height:10px;"}),xe=(n(142),n(92)),we=n(54),Ae=y()(we.a,{target:"elv7wq60"})("stroke:",S.H.baseDull,";position:absolute;right:5px;top:5px;z-index:10;cursor:pointer;pointer-events:auto;border-radius:50px;background:radial-gradient(50% 50% at center,rgba(255,255,255,1) 30%,rgba(255,255,255,0) 90%);&:hover{stroke:",S.H.highlight,"}"),Me=function(e){var t=Object.assign({},e);return x.a.createElement(Ae,t,x.a.createElement(xe.a,null))},Ee=n(209),Ce=y()("div",{target:"e1ufpqb30"})("border-top:1px solid ",S.H.borders,";margin:15px 0;");function Se(e){e.children;var t=A()(e,["children"]);return x.a.createElement(Ce,t)}var Te,_e=n(80),Pe=S.F.block;var Le={setVisibility:_e.setVisibility},ke=Object(M.connect)(function(e){var t=e.app.ENV.isMLS,n=e.app.datum.user,i=n.address,r=n.rooms,o=n.squaring,a=n.price,s=n.description,l=n.persons,c=n.company,u=function(e,t,n){return Object(re.a)({rooms:e,squaring:t,price:n},{ignore:["squaring.unit","price.currency"]})}(r,o,a),h=function(e){return Object(re.a)({address:e})}(i),d=function(e,t,n){return Object(re.a)({persons:t,company:n},{ignore:["persons[].id","company.id","persons[].contacts[].type"]})&&!e}(t,l,c),p=function(e,t){var n=0;if(!t)return!1;var i={ignore:["contacts[].type"]};return e&&e.length>0&&e.forEach(function(e){Object(re.a)(v()({},e),i)&&n++}),1===n}(l,d);return{isMLS:t,address:i,rooms:r,squaring:o,price:a,description:s,persons:l,company:c,isAnyAddress:h,isAnyFacts:u,isAnyContacts:d,isSinglePerson:p}},Le)(Te=function(e){function t(){var e;return r()(this,t),(e=l()(this,u()(t).call(this))).handleClose=e.handleClose.bind(d()(e)),e}return f()(t,e),a()(t,[{key:"handleClose",value:function(){this.props.setVisibility(!1)}},{key:"renderFacts",value:function(){var e=this.props,t=e.isAnyAddress,n=e.isAnyFacts,i=e.address,r=e.rooms,o=e.squaring,a=e.price;return x.a.createElement(H,{isAnyAddress:t,isAnyFacts:n,rooms:r,squaring:o,price:a,address:i})}},{key:"renderDescription",value:function(){var e=this.props.description;return x.a.createElement(X,{description:e})}},{key:"renderContacts",value:function(){var e=this.props,t=e.persons,n=e.company,i=e.isSinglePerson;return x.a.createElement(Oe,null,t.map(function(e,t){return x.a.createElement(fe,{key:t,person:e,isSingle:i})}),n&&x.a.createElement(ae,{company:n}))}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.isOpened,i=e.isAnyAddress,r=e.isAnyFacts,o=e.isAnyContacts,a=e.description;return x.a.createElement(De,{isVisible:t},x.a.createElement(Me,{isOpened:n,onClick:this.handleClose}),x.a.createElement(Ee.a,null,x.a.createElement(Ie,null,x.a.createElement("div",null,(i||r)&&this.renderFacts(),a&&this.renderDescription(),(i||r||a)&&o&&x.a.createElement(Se,null),o&&this.renderContacts()),x.a.createElement(pe,null))))}}]),t}(x.a.PureComponent))||Te,Ie=y()("div",{target:"eecc0jl0"})({name:"1iyq8ck",styles:"display:flex;flex-direction:column;justify-content:space-between;min-height:100%;"}),Oe=y()(C,{target:"eecc0jl1"})({name:"19sznlq",styles:"padding-left:0;padding-right:0;&:first-child{margin-top:15px;}"}),De=y()("div",{target:"eecc0jl2"})("position:absolute;background:",S.H.light,";left:0;top:0;width:100%;height:100%;pointer-events:auto;transition:0.4s;transition-property:z-index,opacity,visibility,transform,height,top;transition-timing-function:",function(e){return e.isVisible?S.I.openSlide:S.I.closeSlide},";transform:",function(e){return e.isVisible?"none":"translate3d(-120%, 0, 0)"},";overflow:hidden;border-radius:",Pe,";.is-mouse-drags-player &{pointer-events:none;}"),Re=ke;n.d(t,"a",function(){return Re})},function(e,t,n){"use strict";n(24);var i=n(6),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(2),A=(n(39),n(22)),M=n.n(A),E=n(12),C=y()("span",{target:"eggmjd10"})("font-size:",w.K.size,";font-weight:",w.K.regular,";line-height:",w.K.height,";position:absolute;text-align:left;display:block;color:#fff;left:25px;top:15px;",function(e){return e.small&&"\n    top: 13px;\n    left: 17px;\n  "},""),S=Object(E.connect)(function(e){return{small:e.layout.viewport.small}})(function(e){var t=e.children,n=M()(e,["children"]);return x.a.createElement(C,n,t)}),T=(n(142),n(54)),_=n(92),P=y()(T.a,{target:"e1uu9q2s0"})("position:absolute;right:5px;top:5px;stroke:white;&:hover{stroke:",w.H.highlight,"}");function L(e){var t=Object.assign({},e);return x.a.createElement(P,t,x.a.createElement(_.a,null))}var k=n(15),I=n.n(k),O=n(17),D=function(e){var t=e.size,n=void 0===t?40:t;return x.a.createElement(O.a,{size:n,viewbox:40},x.a.createElement("path",{d:"M23.6291061,33 L32,33 C32.5522847,33 33,32.5522847 33,32 L33,8 C33,7.44771525 32.5522847,7 32,7 L8,7 L8,7 C7.44771525,7 7,7.44771525 7,8 L7,8 L7,32 C7,32.5522847 7.44771525,33 8,33 L19.4275052,33 L19.4275052,23.9813627 L15.9142857,23.9813627 L15.9142857,19.8875571 L19.4275052,19.8875571 L19.4275052,16.8685278 C19.4275052,13.3649092 21.5541641,11.4571429 24.6605165,11.4571429 C26.1483899,11.4571429 27.4271731,11.568635 27.8,11.6184355 L27.8,15.2798914 L25.6454624,15.2809078 C23.9561756,15.2809078 23.6291061,16.0885908 23.6291061,17.2738431 L23.6291061,19.8875571 L27.6579803,19.8875571 L27.1333358,23.9813627 L23.6291061,23.9813627 L23.6291061,33 Z"}))},R=function(e){var t=e.size,n=void 0===t?40:t;return x.a.createElement(O.a,{size:n,viewbox:40},x.a.createElement("path",{d:"M35,10.8045623 C33.9706677,11.280965 32.8628991,11.602315 31.7005663,11.7461235 C32.8873394,11.0063677 33.7973124,9.83459444 34.2264377,8.43675184 C33.1163957,9.12265344 31.8875627,9.62036116 30.5785884,9.88904047 C29.5310679,8.72673612 28.0379392,8 26.3856647,8 C23.2135477,8 20.6416377,10.6779161 20.6416377,13.9813697 C20.6416377,14.4494872 20.6922234,14.9057686 20.7905528,15.3442958 C16.0161785,15.0945542 11.7829,12.7137241 8.94953616,9.09483862 C8.4550474,9.97781117 8.17199521,11.0051841 8.17199521,12.1023899 C8.17199521,14.177257 9.18598137,16.0083007 10.7274222,17.0806507 C9.78618842,17.049285 8.90008729,16.7800139 8.12538822,16.3320178 C8.12481985,16.3568736 8.12481985,16.3823212 8.12481985,16.4077688 C8.12481985,19.3052444 10.1050484,21.7221746 12.7332278,22.2725529 C12.2512433,22.408668 11.7436819,22.4820518 11.2196375,22.4820518 C10.8490551,22.4820518 10.4892719,22.4447681 10.1385827,22.3743433 C10.8700851,24.7504391 12.9912713,26.4802841 15.5046384,26.5282202 C13.5386193,28.1326027 11.0621968,29.088959 8.37035909,29.088959 C7.90713111,29.088959 7.44958691,29.0605524 7,29.0049227 C9.54292268,30.7028103 12.562146,31.6923077 15.8058787,31.6923077 C26.372592,31.6923077 32.1501533,22.578516 32.1501533,14.6743729 C32.1501533,14.4151625 32.1450379,14.1565439 32.1342387,13.8997006 C33.2562166,13.0581544 34.2304163,12.0041503 35,10.8045623 L35,10.8045623 L35,10.8045623 Z"}))},N=function(e){var t=e.size,n=void 0===t?40:t;return x.a.createElement(O.a,{size:n,viewbox:40},x.a.createElement("rect",{x:"6",y:"10",width:"28",height:"20",rx:"1"}),x.a.createElement("polyline",{fill:"none",points:"33.5 11 20 22 6.5 11"}),x.a.createElement("path",{fill:"none",d:"M7,29 L15,22.5"}),x.a.createElement("path",{fill:"none",d:"M33,29 L25,22.5"}))},V=y()("a",{target:"e1vcovll0"})("display:inline-block;margin:0 5%;width:40px;height:40px;fill:none;stroke:white;transition:fill ",w.O,",stroke ",w.O,";&:hover{stroke:",w.H.highlight,";}");function B(e){var t=e.children,n=M()(e,["children"]);return x.a.createElement(V,n,t)}function F(e){var t=e.url,n=M()(e,["url"]);return x.a.createElement(B,I()({href:"http://www.facebook.com/sharer/sharer.php?u=".concat(t)},n),x.a.createElement(D,null))}function z(e){var t=e.url,n=M()(e,["url"]);return x.a.createElement(B,I()({href:"http://twitter.com/share?text=Explore The Virtual Open House via 3D Walkthrough&url=".concat(t)},n),x.a.createElement(R,null))}function U(e){var t=e.url,n=M()(e,["url"]);return x.a.createElement(B,I()({target:"_blank",href:"mailto:?subject=Explore The Virtual Open House via 3D Walkthrough&body=Explore The Virtual Open House: ".concat(t)},n),x.a.createElement(N,null))}var j=y()("div",{target:"e18rgo3e0"})("display:flex;justify-content:space-around;padding:35px 0 30px;width:70%;margin:-10px auto 0;",function(e){return e.hlarge&&"\n    padding: 55px 0 50px;\n  "},""),H=Object(E.connect)(function(e){return{hlarge:e.layout.viewport.hlarge}})(function(e){var t=e.children,n=M()(e,["children"]);return x.a.createElement(j,n,t)}),G=y()("div",{target:"ehl82k80"})("background:rgba(0,0,0,0.2);border-top:1px solid rgba(255,255,255,0.14);padding:18px 25px 20px;text-align:left;position:relative;font-size:",w.K.small,";line-height:",w.K.compact,";font-weight:",w.K.regular,";h4{font-size:inherit;font-weight:inherit;color:rgba(255,255,255,0.7);margin:0;}",function(e){return e.small&&"\n    padding: 10px 17px 13px;\n  "},";"),W=y()("div",{target:"ehl82k81"})("position:relative;padding-right:5em;input{font-size:inherit;font-weight:inherit;appearance:none;border:none;background:transparent;font-family:inherit;font-style:inherit;color:white;padding:0;width:100%;}button{appearance:none;border:none;position:absolute;right:0;top:0;margin:-1px 0;padding:0;font-size:12px;height:20px;line-height:20px;border-radius:",w.F.block,";color:rgba(255,255,255,0.8);width:4em;cursor:pointer;font-family:",w.K.family,";background:rgba(255,255,255,0.15);&:hover{color:",w.H.light,";}&:active,&.is-active{color:",w.H.highlight,";background:transparent;cursor:default;}}"),Q=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this))).state={isCopied:!1},e.handleFocus=e.handleFocus.bind(f()(e)),e.handleCopyClick=e.handleCopyClick.bind(f()(e)),e}return v()(t,e),l()(t,[{key:"handleCopyClick",value:function(){var e=this,t=this.refs.copyField,n=document.createRange(),i=window.getSelection();this.props.ENV.browser.ios?(n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),t.setSelectionRange(0,99999),t.contenteditable=!1,t.readonly=!0):t.select(),document.execCommand("copy"),this.setState({isCopied:!0}),this.timeoutIndex=setTimeout(function(){e.setState({isCopied:!1})},1500)}},{key:"handleFocus",value:function(e){e.target.setSelectionRange(0,9999)}},{key:"componentWillUnmount",value:function(){this.timeoutIndex&&clearTimeout(this.timeoutIndex)}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.small;return x.a.createElement(G,{small:n},x.a.createElement("h4",null,"Direct Link:"),x.a.createElement(W,null,x.a.createElement("input",{ref:"copyField",type:"text",readOnly:!0,onClick:this.handleFocus,value:t}),x.a.createElement("button",{onClick:this.handleCopyClick,className:this.state.isCopied?"is-active":""},this.state.isCopied?"Done!":"Copy")))}}]),t}(b.Component),Y=Object(E.connect)(function(e){var t=e.app,n=e.layout;return{ENV:t.ENV,small:n.viewport.small}})(Q),X=n(14),K=n(79),q=y()("div",{target:"e1cwn9cd0"})("display:inline-block;position:relative;background:",w.H.underlayCompound,";pointer-events:auto;padding-top:40px;transition:",function(e){return e.isVisible?.3:.25},"s;transition-property:z-index,opacity,visibility,transform,height,top;transition-timing-function:",function(e){return e.isVisible?w.I.showPopup:w.I.closeSlide},";transform:",function(e){return e.isVisible?"none":"scale3d(0.6, 0.6, 0.6)"},";opacity:",function(e){return e.isVisible?1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";color:white;border-radius:",w.F.block,";width:80%;max-width:400px;.is-mouse-drags-player &{pointer-events:none;}",function(e){return e.xsmall&&"\n    width: 100%;\n  "},";"),J=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this))).handleLinkClick=e.handleLinkClick.bind(f()(e)),e}return v()(t,e),l()(t,[{key:"handleLinkClick",value:function(e){e.preventDefault();var t=e.currentTarget.href,n=Math.round(screen.width/2-300),i=screen.height>500?Math.round(screen.height/3-250):0,r="left=".concat(n,", top=").concat(i);window.open(t,"facebook","".concat(r,", ").concat("width=600, height=600",", ").concat("personalbar=0, toolbar=0, scrollbars=1, resizable=1")).focus()}},{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.setVisibility,i=e.ENV,r=e.xsmall,o="https://geocv.com/".concat(i.tour);return x.a.createElement(q,{isVisible:t,xsmall:r},x.a.createElement(L,{onClick:function(){return n(!1)}}),x.a.createElement(S,null,"Share this space"),x.a.createElement(H,null,x.a.createElement(F,{url:o,onClick:this.handleLinkClick}),x.a.createElement(z,{url:o,onClick:this.handleLinkClick}),x.a.createElement(U,{url:o})),x.a.createElement(Y,{url:o}))}}]),t}(b.Component),Z=Object(E.connect)(function(e){var t=e.app,n=e.layout;return{ENV:t.ENV,xsmall:n.viewport.xsmall}},function(e){return r()({},Object(X.bindActionCreators)(K,e))})(J);n.d(t,"a",function(){return Z})},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=(n(132),n(6)),l=n.n(s),c=n(4),u=n.n(c),h=n(5),d=n.n(h),p=n(10),f=n.n(p),m=n(7),v=n.n(m),g=n(8),y=n.n(g),b=n(11),x=n.n(b),w=n(12),A=n(14),M=n(100),E=n(80),C=n(79),S=n(47),T=(n(142),n(2)),_=n(54),P=n(92),L=r()(_.a,{target:"e19p0iqh0"})("position:absolute;right:0;top:0;stroke:",T.N.color.highlightDark,";opacity:0.8;z-index:5;&:hover{opacity:1;}");function k(e){var t=Object.assign({},e);return a.a.createElement(L,t,a.a.createElement(P.a,null))}n(44),n(39);var I,O=n(15),D=n.n(O),R=n(22),N=n.n(R),V=Object(w.connect)(function(e){var t=e.layout;return{xsmall:t.viewport.xsmall,small:t.viewport.small,portrait:t.viewport.portrait,large:t.viewport.large}})(function(e){var t=e.Icon,n=e.text,i=e.isVisible,r=N()(e,["Icon","text","isVisible"]);return a.a.createElement(B,D()({},r,{isVisible:i}),a.a.createElement(t,null),a.a.createElement(F,r,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})))}),B=r()("div",{target:"e4wfkf80"})("display:inline-block;vertical-align:top;width:29%;margin:10px 2% 15px;position:relative;padding-left:52px;text-align:left;max-width:200px;max-height:80px;overflow:hidden;transition:opacity,visibility,margin,max-height;transition-duration:",T.N.transition,";svg{width:44px;height:44px;stroke-width:1.8;stroke:",T.N.color.text,";position:absolute;left:0;top:0;}",function(e){return(e.large||e.portrait&&!e.xsmall)&&"\n    padding-left: 68px;\n\n    svg {\n      width: 60px;\n      height: 60px;\n      stroke-width: 1.6;\n    }\n  "},";",function(e){return e.xsmall&&"\n    padding: 0;\n    text-align:center;\n    max-height: 100px;\n    margin-bottom: 10px;\n    \n    svg {\n      display: block;\n      margin: 0 auto -5px;\n      position: relative;\n    }\n  "},";",function(e){return!e.isVisible&&"\n    max-height: 0;\n    margin-top: 0;\n    margin-bottom: 0;\n    opacity: 0;\n    visibility: hidden;\n  "},""),F=r()("span",{target:"e4wfkf81"})("font-weight:",T.N.font.regular,";font-size:",T.N.font.size,";line-height:",T.N.font.compact,";color:",T.N.color.text,";min-height:44px;display:flex;align-items:center;padding:5px 0;em{font-style:normal;color:",T.N.color.highlightDark,";font-weight:",T.N.font.bold,";}",function(e){return(e.large||e.portrait)&&"\n    min-height: 60px;\n  "}," ",function(e){return e.xsmall&&"\n    min-height: unset;\n    display: block;\n  "},""),z=n(28),U=n.n(z),j=n(46),H=(I={},U()(I,T.a.INSIDE,{touch:[{Icon:j.g,text:"<em>Drag</em> to&nbsp;look around"},{Icon:j.g,text:"<em>Tap</em> to&nbsp;move forward"}],mouse:[{Icon:j.c,text:"<em>Left mouse drag</em> to&nbsp;rotate"},{Icon:j.b,text:"<em>Left click</em> to&nbsp;move"},{Icon:j.a,text:"<em>Use arrows</em> to&nbsp;navigate"}]}),U()(I,T.a.DOLLHOUSE,{touch:[{Icon:j.g,text:"<em>Drag</em> to&nbsp;rotate"},{Icon:j.i,text:"<em>Tap</em> to&nbsp;jump inside"},{Icon:j.f,text:"<em>2 fingers drag</em> to&nbsp;pan"}],mouse:[{Icon:j.c,text:"<em>Left mouse drag</em> to&nbsp;rotate"},{Icon:j.b,text:"<em>Click</em> to&nbsp;jump inside"},{Icon:j.d,text:"<em>Right mouse drag</em> to&nbsp;pan"}]}),U()(I,T.a.FLOORPLAN,{touch:[{Icon:j.g,text:"<em>Drag</em> to&nbsp;move"},{Icon:j.i,text:"<em>Tap</em> to&nbsp;jump inside"},{Icon:j.h,text:"<em>Pinch</em> to&nbsp;zoom"}],mouse:[{Icon:j.c,text:"<em>Left mouse drag</em> to&nbsp;move"},{Icon:j.b,text:"<em>Click</em> to&nbsp;jump inside"},{Icon:j.e,text:"<em>Scroll</em> to&nbsp;zoom"}]}),U()(I,T.a.OUTDOOR,{touch:[{Icon:j.g,text:"<em>Drag</em> to&nbsp;rotate"},{Icon:j.f,text:"<em>2 fingers Drag</em> to&nbsp;pan"}],mouse:[{Icon:j.c,text:"<em>Left mouse drag</em> to&nbsp;rotate"},{Icon:j.d,text:"<em>Right mouse drag</em> to&nbsp;pan"}]}),I),G=function(e){function t(){return u()(this,t),f()(this,v()(t).apply(this,arguments))}return x()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.activeMode,i=e.isMobile?"touch":"mouse";return a.a.createElement(W,null,H[n][i].map(function(e,n){return a.a.createElement(V,{isVisible:t,Icon:e.Icon,text:e.text,key:n})}))}}]),t}(o.Component),W=r()("div",{target:"ewszdks0"})({name:"1jfljyy",styles:"display:block;text-align:center;width:96%;max-width:700px;margin:0 auto;position:relative;line-height:0.01;"}),Q=Object(w.connect)(function(e){var t=e.mode,n=e.app;return{activeMode:t.active,isMobile:n.ENV.browser.mobile}})(G),Y=r()("div",{target:"eqlyf400"})("position:absolute;top:",function(e){return-e.margin},"px;right:",function(e){return-e.margin},"px;left:",function(e){return-e.margin},"px;background:",T.N.help.background,";transform:translate3d(0,",function(e){return e.isVisible?0:-40},"px,0);z-index:10;transition:transform ",T.N.transition,";text-align:center;padding:0 10px;line-height:41px;"),X=r()("div",{target:"eqlyf401"})("font-size:",T.N.font.size,";line-height:29px;font-weight:",function(e){return e.isActive?T.N.font.bold:T.N.font.regular},";color:",function(e){return e.isActive?T.N.color.text:T.N.color.baseDull},";cursor:",function(e){return e.isActive?"default":"pointer"},";display:inline-block;padding:0 2%;transition-property:color;transition-duration:",T.N.transition,";pointer-events:auto;.is-mouse-drags-player &{pointer-events:none;}&:hover{opacity:1;}"),K=function(e){function t(){var e;return u()(this,t),(e=f()(this,v()(t).call(this))).handleStepChange=e.handleStepChange.bind(y()(e)),e}return x()(t,e),d()(t,[{key:"handleStepChange",value:function(e){var t=this.props.actions;t.setVisibility(!0),2!==e&&(t.setShareVisibility(!1),t.setInfoVisibility(!1)),t.setStep(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFloorsVisible,i=t.isStagingVisible,r=t.isNarratorVisible,o=t.isHighlightsVisible,s=t.isInfoVisible,l=t.isShareVisible,c=t.isFullscreenVisible,u=t.step,h=t.margin,d=t.isVisible,p=t.actions,f=c||l||s,m=n||i||r||o;return a.a.createElement(Y,{margin:h,isVisible:d},a.a.createElement(k,{onClick:function(){p.setVisibility(!1),p.setTutorialInteraction(T.C.GENERAL)}}),a.a.createElement(X,{isActive:0===u,onClick:function(){return e.handleStepChange(0)}},"Navigation"),m&&a.a.createElement(X,{isActive:1===u,onClick:function(){return e.handleStepChange(1)}},"Features"),f&&a.a.createElement(X,{isActive:2===u,onClick:function(){return e.handleStepChange(2)}},"More Help"),a.a.createElement(Q,{isVisible:d&&0===u}))}}]),t}(a.a.PureComponent),q=Object(w.connect)(function(e){var t=e.app,n=e.help,i=e.layout;return{isStagingVisible:t.ENV.components.staging,isFloorsVisible:t.ENV.components.floors,isNarratorVisible:t.ENV.components.narrator&&t.datum.user.isNarratorFilled,isInfoVisible:t.ENV.components.info&&t.datum.user.isInfoFilled,isShareVisible:t.ENV.components.share,isFullscreenVisible:t.ENV.components.fullscreen,isHighlightsVisible:t.ENV.components.highlights&&t.datum.user.highlights.length>0,step:n.step,margin:i.viewport.margin}},function(e){return{actions:l()({},Object(A.bindActionCreators)(M,e),{setShareVisibility:Object(A.bindActionCreators)(C.setVisibility,e),setInfoVisibility:Object(A.bindActionCreators)(E.setVisibility,e),setTutorialInteraction:Object(A.bindActionCreators)(S.setInteraction,e)})}})(K),J=n(30);var Z=r()("div",{target:"e9u1sio0"})("position:absolute;bottom:",function(e){return e.margin},"px;top:",function(e){return e.margin},"px;right:",function(e){return e.margin},"px;left:",function(e){return e.margin},"px;z-index:6;pointer-events:none;");t.a=Object(w.connect)(function(e){var t=e.app,n=e.help,i=e.layout,r=e.tutorial;return{isVisible:t.ENV.components.help,isOpened:n.isOpened,isTutorialOpened:r[T.C.GENERAL].isVisible&&3===r[T.C.GENERAL].step,margin:i.viewport.margin}},function(e){return{dispatch:e}})(a.a.memo(function(e){return e.isVisible?a.a.createElement(Z,{margin:e.margin,"data-component":"LayoutHelp"},a.a.createElement(J.a,{isOpened:e.isOpened||e.isTutorialOpened},a.a.createElement(q,null))):null}))},function(e,t,n){"use strict";n(52),n(53),n(24),n(56),n(125),n(37),n(68),n(97),n(39);var i=n(15),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(2),A=y()("div",{target:"e1dyq87m0"})("position:absolute;left:15%;width:70%;height:5px;background:",w.H.underlay,";border-radius:1px;"),M=y()("div",{target:"e1dyq87m1"})("position:absolute;left:0;top:0;bottom:0;min-width:20px;background:",w.H.light,";width:",function(e){return 100*e.value},"%;transition:width 1s;border-radius:1px;"),E=function(e){var t=e.value;return x.a.createElement(A,null,x.a.createElement(M,{value:t}))},C=n(202),S=(n(132),y()("div",{target:"euodujr0"})("display:inline-block;line-height:",w.K.height,";position:relative;vertical-align:middle;color:",w.H.text,";padding-left:",function(e){return e.isPictured?e.xsmall?55:61:0},"px;text-align:left;z-index:3;")),T=y()("div",{target:"euodujr1"})("background:transparent url(",function(e){return e.image},");background-size:cover;border-radius:100px;width:",function(e){return e.xsmall?46:50},"px;height:",function(e){return e.xsmall?46:50},"px;position:absolute;left:0;top:50%;margin-top:",function(e){return e.xsmall?-23:-25},"px;"),_=y()("div",{target:"euodujr2"})("font-size:",function(e){return e.xsmall?15:17},"px;font-weight:",w.K.bold,";line-height:",w.K.compact,";"),P=y()("div",{target:"euodujr3"})("font-size:",w.K.size,";font-weight:",w.K.regular,";color:",w.H.baseDull,";"),L=function(e){var t=e.image,n=e.title,i=e.subtitle,o=e.xsmall;return x.a.createElement(S,r()({isPictured:!!t},{xsmall:o}),t&&x.a.createElement(T,{image:t,xsmall:o}),x.a.createElement(_,{xsmall:o},n),i&&x.a.createElement(P,null,i))},k=y()("div",{target:"emz1s0c0"})("display:inline-block;height:",function(e){return e.xsmall?40:50},"px;width:",function(e){return e.xsmall?180:220},"px;vertical-align:middle;background-image:url(",function(e){return e.logo},");background-size:contain;background-repeat:no-repeat;background-position:",function(e){return e.isCentered?50:100},"% 50%;fill:",w.H.baseDull,";max-width:100%;z-index:1;position:relative;"),I=function(e){var t=e.logo,n=e.xsmall,i=e.isCentered;return x.a.createElement(k,{xsmall:n,logo:t,isCentered:i})},O=y()("div",{target:"edxkl5k0"})("font-weight:normal;line-height:",w.K.height,";color:",w.H.text,";display:inline-block;vertical-align:middle;max-width:100%;position:relative;z-index:3;"),D=y()("div",{target:"edxkl5k1"})("font-size:",function(e){return e.small?17:20},"px;font-weight:",w.K.bold,";width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"),R=y()("div",{target:"edxkl5k2"})("font-size:",w.K.size,";font-weight:",w.K.regular,";color:",w.H.baseDull,";width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"),N=function(e){var t=e.title,n=e.subtitle,i=e.small;return x.a.createElement(O,null,t&&x.a.createElement(D,{small:i},t),n&&x.a.createElement(R,null,n))},V=n(12),B=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this))).state={companyInfo:null,basicInfo:null},e.setCollection=e.setCollection.bind(f()(e)),e}return v()(t,e),l()(t,[{key:"setCollection",value:function(e){if(e.isInfoFilled){var t=e.tristan,n=e.persons,i=e.company,r=null,o=null,a=null;if(e.address){var s=e.address.street||"",l=e.address.area?"# ".concat(e.address.area):"",c=e.address.town||"",u=e.address.state||"";a={title:s+(s&&l?" ":"")+l,subtitle:c+(c&&u?", ":"")+u}}i.logo&&(0===i.logo.indexOf("embedded_files/")&&(i.logo="".concat(this.props.tourPath).concat(i.logo)),r={logo:i.logo});var h=n.length>0?n[0]:null;if(h){var d=h.firstName||"",p=h.lastName||"";o={title:d+(d&&p?" ":"")+p,image:h.photo?h.photo:null,subtitle:i.title||null}}else t&&(t.name||t.description||t.image)&&(o={image:t.image,title:t.name||t.description,subtitle:t.name?t.description:null});this.setState({companyInfo:r,basicInfo:o,addressInfo:a})}}},{key:"componentDidMount",value:function(){var e=this.props.stopSpinner;this.updateSplashImage(),this.setCollection(this.props.data),e()}},{key:"updateSplashImage",value:function(){var e=this.props,t=e.prefix,n=e.id;if(!this.previewUrl||""===this.previewUrl){var i=document.getElementById("".concat(t,"-").concat(n,"-splash"));i.style.opacity="0",this.previewUrl=i.style.backgroundImage.slice(4,-1).replace(/"/g,"")}}},{key:"render",value:function(){var e=this.props,t=e.loadingProgress,n=e.isMLS,i=e.isVisible,o=e.transitionDuration,a=e.small,s=e.xsmall,l=e.portrait,c=e.hlarge;this.updateSplashImage();var u=this.previewUrl,h=this.state,d=h.companyInfo,p=h.basicInfo,f=h.addressInfo,m=(d||p)&&!n,v=a&&l||s,g=0;return v&&(g+=m?70:0,g+=f?50+(f.title?20:0)+(f.subtitle?20:0):0),x.a.createElement(F,{isVisible:i,transitionDuration:o},x.a.createElement(z,{previewUrl:u,isPortrait:v,transitionDuration:o,portraitImageOffset:g},x.a.createElement(U,{isPortrait:v,hlarge:c,portraitImageOffset:g,transitionDuration:o},x.a.createElement(E,{value:t})),x.a.createElement(j,{isPortrait:v,hlarge:c,portraitImageOffset:g,transitionDuration:o},x.a.createElement(C.a,{size:40,isSplashScreen:!0}))),x.a.createElement(H,r()({isVisible:m||f},{hlarge:c,isPortrait:v,transitionDuration:o}),f&&x.a.createElement(G,{isPortrait:v,isCentered:!m||v},x.a.createElement(N,r()({className:"SplashAddress"},f,{small:a&&!l}))),m&&x.a.createElement(W,{isCentered:!f||v,isPortrait:v},d?x.a.createElement(I,r()({className:"SplashCompany",isCentered:!f||v,xsmall:a||s},d)):x.a.createElement(L,r()({className:"SplashPerson",isCentered:!f||v,xsmall:a||s},p)))))}}]),t}(x.a.PureComponent),F=(t.a=Object(V.connect)(function(e,t){var n=e.layout,i=e.app,r=n.viewport,o=r.small,a=r.xsmall,s=r.portrait,l=r.hlarge,c=i.ENV,u=c.tour,h=c.contentPathPrefix,d=c.isMLS,p=c.prefix,f=c.id;return{tourPath:"".concat(h).concat(u,"/"),isMLS:d,prefix:p,id:f,small:o,xsmall:a,portrait:s,hlarge:l,loadingProgress:i.loading.progressValue,data:i.datum.user}},function(e){return{dispatch:e}})(B),y()("div",{target:"ebqw9o10"})("position:absolute;top:0;left:0;width:100%;bottom:0;transition-property:opacity,visibility;transition-timing-function:",function(e){return e.isVisible?w.I.openSlide:w.I.closeSlide},";transition-duration:",function(e){return e.transitionDuration},";opacity:",function(e){return e.isVisible?1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";overflow:hidden;")),z=y()("div",{target:"ebqw9o11"})("background-image:url(",function(e){return e.previewUrl},");background-position:50%;background-size:cover;position:absolute;left:0;top:0;width:100%;height:100%;transition-property:transform;transition-timing-function:",w.I.openSlide,";transition-duration:",function(e){return e.transitionDuration},";",function(e){return e.portraitImageOffset&&"\n    transform: translate3d(0, -".concat(e.portraitImageOffset,"px,0);\n  ")},";"),U=y()("div",{target:"ebqw9o12"})("position:absolute;bottom:9%;margin-bottom:",function(e){return 85+(e.hlarge?15:0)},"px;left:0;right:0;",function(e){return e.isPortrait&&"\n    bottom: 4%;\n    margin-bottom: 60px;\n  "},";"),j=y()("div",{target:"ebqw9o13"})("text-align:center;position:absolute;bottom:8%;margin-bottom:",function(e){return 45+(e.hlarge?15:0)},"px;left:0;right:0;z-index:2;pointer-events:auto;",function(e){return e.isPortrait&&"\n    bottom: 2%;\n    margin-bottom: 20px;\n  "},";"),H=y()("div",{target:"ebqw9o14"})("-webkit-backdrop-filter:blur(5px);position:absolute;background:",function(e){return e.isPortrait?w.H.light:Object(w.M)(w.H.light,.95)},";left:0;bottom:0;right:0;height:",function(e){return e.isPortrait?"auto":e.hlarge?"85px":"70px"},";line-height:",function(e){return e.isPortrait?w.K.height:e.hlarge?"83px":"68px"},";transform:",function(e){return e.isVisible?"none":"translate3d(0, 150%, 0)"},";transition-property:transform;transition-timing-function:",function(e){return e.isVisible?w.I.openSlide:w.I.closeSlide},";transition-duration:",function(e){return e.transitionDuration},";",function(e){return e.isPortrait&&"\n    padding: 2% 5% 8%;\n\n    &:before {\n      content: '';\n      position: absolute;\n      left: 0;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      background: ".concat(Object(w.M)(w.H.baseDull,.05),";\n      z-index: 2;\n    }\n  ")},";"),G=y()("div",{target:"ebqw9o15"})("display:block;float:",function(e){return e.isCentered?"none":"left"},";padding-left:",function(e){return e.isCentered?"none":"3%"},";text-align:",function(e){return e.isCentered?"center":"left"},";max-width:100%;margin-top:",function(e){return e.isPortrait?7:0},"%;"),W=y()("div",{target:"ebqw9o16"})("display:block;float:",function(e){return e.isCentered?"none":"right"},";padding-right:",function(e){return e.isCentered?"none":"3%"},";text-align:",function(e){return e.isCentered?"center":"left"},";max-width:100%;margin-top:",function(e){return e.isPortrait?7:0},"%;")},function(e,t,n){"use strict";var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(8),d=n.n(h),p=n(11),f=n.n(p),m=n(3),v=n.n(m),g=n(0),y=n.n(g),b=(n(39),n(15)),x=n.n(b),w=n(54),A=n(135),M=n(12),E=n(2),C=n(30),S=n(85),T=n(55),_=n(14),P=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return f()(t,e),a()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.isActive,r=t.isReady,o=t.inTransition,a=t.isOutlined,s=t.onClick,l=t.title,c=t.isMobileLayout,u=t.visibleModesLength,h=t.small,d=(t.activeCameraMode,t.isMinimapAvailable),p=r&&!o&&!i;return y.a.createElement(L,x()({getRef:function(t){return e.elementDOM=t||e.elementDOM},onClick:function(e){return p&&s(e)}},{isActive:i,isReady:r,title:l,isMobileLayout:c,visibleModesLength:u,small:h,isMinimapAvailable:d}),y.a.createElement(C.a,{isOpened:!r},y.a.createElement(A.a,{size:26})),y.a.createElement(I,{isVisible:a}),y.a.createElement(k,{isActive:i,isReady:r},n))}}]),t}(S.a),L=v()(w.a,{target:"eg1my4o0"})("position:relative;z-index:2;display:inline-block;height:39px;line-height:39px;width:",function(e){return e.isMobileLayout?"".concat(100/(e.visibleModesLength+1),"%"):"".concat(e.small?E.t:E.s,"px")},";background:",function(e){return e.isActive&&e.isReady?E.N.color.underlayDark:"transparent"},";cursor:",function(e){return e.isActive||!e.isReady?"default":"pointer"},";stroke:#fff;fill:#fff;opacity:",function(e){return e.isActive?"1":"0.8"},";transition:width ",E.N.transition,";text-align:center;flex-grow:1;&:first-of-type{border-top-left-radius:",function(e){return e.isMinimapAvailable?0:E.N.br},";border-bottom-left-radius:",E.N.br,";}&:last-child{border-top-right-radius:",E.N.br,";border-bottom-right-radius:",E.N.br,";}&:hover{background:",function(e){return e.isActive&&e.isReady?E.N.color.underlayDark:e.isMobile?"transparent":E.N.color.underlayLight},";}"),k=v()("span",{target:"eg1my4o1"})("display:block;margin:0 auto;padding:0;height:100%;text-align:center;transform:translate3d(0,",function(e){return e.isActive&&e.isReady?.5:0},"px,0);opacity:",function(e){return e.isReady?1:.2},";transition-property:transform,opacity;transition-duration:",E.N.transition,";position:relative;"),I=v()("span",{target:"eg1my4o2"})("position:absolute;left:1px;right:1px;top:1px;bottom:1px;border-radius:",E.N.br,";box-shadow:0 0 0 2px ",Object(E.M)(E.N.color.light,.9),";opacity:",function(e){return e.isVisible?1:0},";"),O=Object(M.connect)(function(e){var t=e.mode,n=e.app,i=e.layout,r=e.minimap;return{isMobile:n.ENV.browser.mobile,small:i.viewport.small,isMobileLayout:i.isMobileLayout,inTransition:n.camera.inTransition,activeCameraMode:t.active,isMinimapAvailable:r.isAvailable}},function(e){return{actions:Object(_.bindActionCreators)({setUIVisibility:T.setUIVisibility},e)}})(P),D=n(17),R=function(e){var t=e.size,n=e.stroke;return y.a.createElement(D.a,{size:t,stroke:n},y.a.createElement("path",{fill:"none",d:"M17.9980035,26.3103942 C17.0977206,26.3133904 16.34656,25.6234657 16.2731719,24.726174 L15.9544531,21.1077774 L15.0826632,19.8516501 L14.613959,21.6046039 L14.613959,21.6795965 L14.5295922,21.84833 C14.4806408,21.9432746 14.4242186,22.0341771 14.3608587,22.1201785 L14.3608587,22.1201785 L14.276492,22.2232934 L10.6768435,25.7948196 C10.2512966,26.2839313 9.58846678,26.4948337 8.95852347,26.3415628 C8.32858017,26.188292 7.83673512,25.6964469 7.68346427,25.0665036 C7.53019342,24.4365603 7.74109574,23.7737305 8.23020748,23.3481836 L11.4267703,20.1516208 L13.0766091,14.0490918 L12.9172497,14.0490918 L12.176697,16.7113318 C12.0128971,17.3414754 11.4403681,17.778609 10.7893325,17.7706033 C10.6437654,17.7706387 10.4988125,17.7517318 10.3581247,17.7143588 C9.56177438,17.5370017 9.05881337,16.7490294 9.23323452,15.9520309 L10.1143985,12.7742163 C10.25991,12.0729561 10.7781634,11.5079159 11.4642666,11.302485 L15.2888931,10.2807098 C15.5888932,10.1693542 15.9063014,10.1122207 16.2263015,10.1119763 C16.4575147,10.1132685 16.6875667,10.1447825 16.9106097,10.2057172 C17.8329158,10.5169124 18.5372492,11.2705492 18.7854266,12.2117712 L19.722835,14.8927594 L21.6726446,15.6801825 C22.3412466,15.9632061 22.7206996,16.6753981 22.5826662,17.3881938 C22.4446327,18.1009895 21.8267474,18.6200462 21.1008254,18.6330191 L21.1008254,18.6330191 C20.9047443,18.6327909 20.7105629,18.5945913 20.5290063,18.5205301 L17.8105218,17.4237622 L17.8105218,17.4237622 L17.8105218,17.5924957 L19.1978863,19.5798016 C19.4134935,19.8894242 19.5191081,20.2623757 19.497857,20.6390732 L19.835324,24.4636996 C19.9165305,25.4157827 19.2122876,26.254167 18.2604779,26.3385165 L17.9980035,26.3103942 Z M19.4603607,6.859169 C19.4603607,5.69430713 18.5160535,4.75 17.3511917,4.75 C16.1863298,4.75 15.2420227,5.69430713 15.2420227,6.859169 C15.2420227,8.02403088 16.1863298,8.968338 17.3511917,8.968338 C18.5160535,8.968338 19.4603607,8.02403088 19.4603607,6.859169 L19.4603607,6.859169 Z"}))},N=n(203),V=n(204),B=function(e){var t=e.size,n=e.stroke;return y.a.createElement(D.a,{size:t,stroke:n},y.a.createElement("g",{fill:"none"},y.a.createElement("path",{d:"M12.1842105,20.7428815 C11.5688951,20.9239131 10.8612278,21 10.25,21 C7.35050506,21 5,18.553556 5,15.5357143 C5,13.6381625 5.92929915,11.9665194 7.34005068,10.9869111 C7.33558859,10.8847131 7.33333333,10.7819164 7.33333333,10.6785714 C7.33333333,6.99009828 10.2061729,4 13.75,4 C15.8525023,4 17.7188249,5.05247878 18.8891564,6.67885691 C19.284928,6.5172859 19.7158434,6.42857143 20.1666667,6.42857143 C22.0996633,6.42857143 23.6666667,8.05953413 23.6666667,10.0714286 C23.6666667,10.3656515 23.6331537,10.6517275 23.5698842,10.9257471 C25.0310151,11.895979 26,13.5980686 26,15.5357143 C26,18.553556 23.6494949,21 20.75,21 C20.297419,21 19.5066412,20.9260657 18.8157895,20.7309035"}),y.a.createElement("path",{d:"M15.5,12 L15.5,25.5"}),y.a.createElement("path",{d:"M15.5,20 C15.5,19 16.5,17.6666667 18.5,16"}),y.a.createElement("path",{d:"M15.5,18 C15.5,17 14.5,15.6666667 12.5,14"}),y.a.createElement("path",{d:"M14,27 C14.8284271,27 15.5,26.3284271 15.5,25.5"}),y.a.createElement("path",{d:"M17,27 C16.1715729,27 15.5,26.3284271 15.5,25.5"}),y.a.createElement("path",{d:"M14,27 L17,27"})))},F=n(19),z=n(47),U=function(e){function t(){var e;return r()(this,t),(e=l()(this,u()(t).call(this))).handleTutorialInteraction=e.handleTutorialInteraction.bind(d()(e)),e}return f()(t,e),a()(t,[{key:"handleTutorialInteraction",value:function(e){var t=this.props.actions;switch(e){case E.a.OUTDOOR:t.setTutorialInteraction(E.C.OUTDOOR)}t.setTutorialInteraction(E.C.GENERAL)}},{key:"handleClick",value:function(e){if((e!==this.props.activeMode||F.a.Camera.is360)&&!this.props.inTransition){this.handleTutorialInteraction(e),F.a.handleUIVisibility();var t=F.a.Camera.is360?E.y.FADE:E.y.FLY;F.a.Transitions.start({cameraMode:e,transitionStyle:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeMode,i=t.isMobileLayout,r=t.components,o=t.isOutdoorOutlined,a=t.readyState,s=t.isMinimapOpened,l=E.a.INSIDE,c=E.a.DOLLHOUSE,u=E.a.OUTDOOR,h=E.a.FLOORPLAN,d=a.outdoor;return y.a.createElement(j,{isMobileLayout:i,isMinimapOpened:s},r.inside&&(r.modes||n!==l||F.a.Camera.is360)&&y.a.createElement(O,{variant:"left",title:"Walking Mode",onClick:function(){return e.handleClick(l)},isActive:n===l&&!F.a.Camera.is360,isReady:a.inside},y.a.createElement(R,null)),r.dollhouse&&(r.modes||n!==c)&&y.a.createElement(O,{title:"3D Mode",onClick:function(){return e.handleClick(c)},isActive:n===c,isReady:a.dollhouse},y.a.createElement(N.a,null)),r.outdoor&&(r.modes||n!==u)&&y.a.createElement(O,{title:"Outdoor 3D Mode",onClick:function(){return e.handleClick(u)},isActive:n===u,isOutlined:d&&o,isReady:d},y.a.createElement(B,null)),r.floorplan&&(r.modes||n!==h)&&y.a.createElement(O,{variant:"right",title:"Floor Plan Mode",onClick:function(){return e.handleClick(h)},isActive:n===h,isReady:a.floorplan},y.a.createElement(V.a,null)))}}]),t}(y.a.PureComponent),j=v()("div",{target:"e1bmksg0"})("width:auto;background:",function(e){return e.isMinimapOpened?E.N.color.underlayInvisible:E.N.color.underlay},";height:39px;display:flex;flex-direction:row;border-radius:",function(e){return e.isMobileLayout?0:E.N.br},";justify-content:",function(e){return e.isMobileLayout?"space-between":"auto"},";pointer-events:auto;transition-duration:0.3s;transition-property:background;.is-mouse-drags-player &{pointer-events:none;}"),H=Object(M.connect)(function(e){var t=e.mode,n=e.app,i=(e.layout,e.tutorial),r=e.minimap;return{activeMode:t.active,components:n.ENV.components,readyState:n.componentsReadyState,inTransition:n.camera.inTransition,isOutdoorOutlined:i[E.C.OUTDOOR].isVisible,ENV:n.ENV,isMinimapOpened:r.isOpened&&r.isAvailable}},function(e){return{actions:Object(_.bindActionCreators)({setTutorialInteraction:z.setInteraction},e)}})(U);n.d(t,"a",function(){return H})},function(e,t,n){"use strict";n(24),n(61),n(34),n(44),n(36);var i=n(15),r=n.n(i),o=n(6),a=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n.n(c),h=n(10),d=n.n(h),p=n(7),f=n.n(p),m=n(8),v=n.n(m),g=n(11),y=n.n(g),b=n(3),x=n.n(b),w=n(0),A=n.n(w),M=(n(39),n(146)),E=n.n(M),C=n(17),S=n(207),T=n(2),_=n(99);function P(){var e=E()(["\n  0% {\n    transform: none;\n  }\n  50% {\n    transform: rotate(180deg)\n  }\n  100% {\n    transform: rotate(360deg)\n  }\n"]);return P=function(){return e},e}function L(e){var t=e.size,n=void 0===t?54:t,i=e.stroke,r=void 0===i?1.8:i;return A.a.createElement(C.a,{size:n,viewbox:54,stroke:r},A.a.createElement("path",{d:"M21,18 L23,18 L23,36 L21,36 L21,18 Z M31,18 L33,18 L33,36 L31,36 L31,18 Z"}))}function k(e){var t=e.size,n=void 0===t?54:t,i=e.stroke,r=void 0===i?1.8:i;return A.a.createElement(C.a,{size:n,viewbox:54,stroke:r},A.a.createElement("polygon",{points:"22 37 22 17 37 27"}))}function I(e){var t=e.size,n=void 0===t?54:t,i=e.stroke,r=void 0===i?2.2:i;return A.a.createElement(C.a,{size:n,viewbox:54,stroke:r},A.a.createElement("path",{fill:"none",d:"M32.141273,4.4647764 C41.0161932,6.50414209 48.1987048,13.7418194 49.7105859,23.2874609 C51.6974119,35.8317864 43.1388675,47.6116121 30.5945421,49.5984381 C18.0502166,51.585264 6.27039092,43.0267197 4.28356496,30.4823942 C2.37109665,18.4075446 10.2294407,7.0410421 22.0082734,4.43516671"}))}function O(e){var t=e.size,n=void 0===t?54:t,i=e.stroke,r=void 0===i?2.2:i;return A.a.createElement(C.a,{size:n,viewbox:54,stroke:r},A.a.createElement("path",{fill:"none",d:"M28.0523644,37 C33.5462919,37 38,32.5228475 38,26.9999999 C38,21.4771525 33.5462919,17 28.0523644,17 C24.0319441,17 20.5685836,19.3976126 19,22.8480792"}),A.a.createElement("polygon",{fillRule:"nonzero",points:"15.9499998 21.6437492 22.4499998 24.2564034 16.8110368 28.9562492"}))}var D=x()("div",{target:"ep1kw0m0"})("position:absolute;bottom:0;left:0;right:0;top:0;opacity:",function(e){return e.isVisible?1:0},";pointer-events:",function(e){return e.isDisabled||!e.isOpened?"none":"auto"},";transition-property:visibility,opacity;transition-duration:",function(e){return e.isVisible?T.N.transition:"1s"},";border-radius:",function(e){return e.isRound?"100%":T.N.br},";overflow:hidden;"),R=x()("div",{target:"ep1kw0m1"})("bottom:0;position:absolute;top:0;left:0;right:0;transition-property:visibility,opacity;transition-duration:",T.N.transition,";background:linear-gradient( to top,rgba(0,0,0,0.2),rgba(0,0,0,0) 40px );border-radius:",function(e){return e.isRound?"100%":T.N.br},";"),N=x()("span",{target:"ep1kw0m2"})("display:block;position:absolute;left:50%;top:50%;width:54px;height:54px;margin:-27px;background:",function(e){return e.isActive?T.N.color.underlay:"transparent"},";border-radius:27px;z-index:2;transition-property:background;transition-duration:",T.N.transition,";"),V=x()("span",{target:"ep1kw0m3"})("position:absolute;left:0;top:0;width:100%;height:100%;border-radius:27px;fill:",T.N.color.light,";stroke:",T.N.color.light,";cursor:pointer;z-index:2;transition-property:opacity,visibility,transform;transition-duration:",T.N.transition,";",function(e){return e.isHidden&&"\n    opacity: 0;\n    visibility: hidden;\n    transform: scale3d(0.5,0.5,0.5);\n  "},""),B=Object(_.keyframes)(P()),F=x()("div",{target:"ep1kw0m4"})("position:absolute;left:0;top:0;width:100%;height:100%;border-radius:27px;z-index:1;fill:",T.N.color.light,";stroke:",T.N.color.light,";animation:",B," 1.5s infinite linear;transition-property:opacity,visibility;transition-duration:",T.N.transition,";",function(e){return e.isHidden&&"\n    opacity: 0;\n    visibility: hidden;\n  "},""),z=x()("div",{target:"ep1kw0m5"})("position:absolute;left:10px;width:30px;text-align:center;bottom:5px;font-size:",T.N.font.small,";z-index:2;color:",T.N.color.light,";transition-property:opacity,visibility;transition-duration:",T.N.transition,";",function(e){return e.isHidden&&"\n    opacity: 0;\n    visibility: hidden;\n  "}," ",function(e){return e.isRound&&"\n    left: 50%;\n    margin-left: -15px;\n    bottom: 12px;\n  "},""),U=x()("div",{target:"ep1kw0m6"})("position:absolute;left:50px;right:10px;bottom:13px;height:1px;background:rgba(255,255,255,0.3);cursor:pointer;&:before{position:absolute;content:'';left:-4px;top:-5px;right:-4px;bottom:-5px;}",function(e){return e.isRound&&"\n    display: none;\n  "},""),j=x()("div",{target:"ep1kw0m7"})("position:absolute;left:0;top:-1px;bottom:-1px;border-radius:3px;background:",T.N.color.light,";width:",function(e){return 100*(e.value||0)},"%;"),H=x()("div",{target:"ep1kw0m8"})("position:absolute;left:0;top:0;right:0;padding:5px 10px 12px;background:linear-gradient(to bottom,rgba(0,0,0,0.2),rgba(0,0,0,0));font-size:",T.N.font.small,";color:",T.N.color.light,";transition-property:opacity,visibility;transition-duration:",T.N.transition,";z-index:2;pointer-events:none;",function(e){return e.isHidden&&"\n    opacity: 0;\n    visibility: hidden\n  "}," ",function(e){return e.isRound&&"\n    top: auto;\n    bottom: 0;\n    text-align: center;\n    padding-bottom: 35px;\n    background: linear-gradient(to top, rgba(0,0,0,0.2), rgba(0,0,0,0));\n  "},""),G=function(e){function t(e){var n;return l()(this,t),(n=d()(this,f()(t).call(this))).state={currentTime:n.convertTime(e.isInitialised?e.duration*e.progress:0),isVisible:!0},n.setVisibility=n.setVisibility.bind(v()(n)),n.handleMouseMove=n.handleMouseMove.bind(v()(n)),n.handleProgressPress=n.handleProgressPress.bind(v()(n)),n}return y()(t,e),u()(t,[{key:"setVisibility",value:function(e){clearTimeout(this.visibilityTimer),this.visibilityTimer=void 0,this.setState({isVisible:e})}},{key:"convertTime",value:function(e){var t=Math.max(Math.round(e),0);return Math.floor(t/60)+":"+("0"+t%60).substr(-2)}},{key:"handleMouseMove",value:function(){!this.state.isVisible&&this.setVisibility(!0)}},{key:"handleProgressPress",value:function(e){var t=this,n=this.props.onSeeking,i=function(e){if(!t.progressBar)return 0;var n=t.progressBar,i=e.pageX-n.getBoundingClientRect().left;return Math.min(1,Math.max(0,i/t.progressBar.clientWidth))},r=function(e){n({progress:i(e),hasEnded:!1})};0===e.button&&(n({progress:i(e),hasEnded:!1}),document.addEventListener("mousemove",r),document.addEventListener("mouseup",function(e){n({progress:i(e),hasEnded:!0}),document.removeEventListener("mousemove",r)},{once:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({currentTime:this.convertTime(e.isInitialised?e.duration*e.progress:0)}),!e.isPlaying||e.inTransition||e.isBuffering||e.isSeeking?this.setVisibility(!0):this.state.isVisible&&(this.visibilityTimer||(this.visibilityTimer=setTimeout(function(){t.setVisibility(!1)},1500)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onPlayback,i=t.isPlaying,o=t.inTransition,a=t.isInitialised,s=t.isBuffering,l=t.isDisabled,c=t.isOpened,u=t.progress,h=t.isRound,d=this.state,p=d.isVisible,f=d.title;return A.a.createElement(D,r()({isVisible:p,onMouseMove:this.handleMouseMove,onTouchStart:this.handleMouseMove},{isRound:h,isDisabled:l,isOpened:c}),A.a.createElement(H,{isHidden:!f||o||!a,isRound:h},f),A.a.createElement(N,{isActive:!o&&a},A.a.createElement(V,{onClick:n,isHidden:!a||!i||o},A.a.createElement(L,null)),A.a.createElement(V,{onClick:n,isHidden:!a||i||1===u||o},A.a.createElement(k,null)),A.a.createElement(V,{onClick:n,isHidden:!a||i||u<1||o},A.a.createElement(O,null)),A.a.createElement(F,{isHidden:!s&&a&&!o},A.a.createElement(I,null))),A.a.createElement(R,{isRound:h,isHidden:!a||o},A.a.createElement(U,{onMouseDown:this.handleProgressPress,ref:function(t){return e.progressBar=t},isRound:h},A.a.createElement(j,{value:u})),A.a.createElement(z,{isRound:h,isHidden:1===u},A.a.createElement(S.a,null,this.state.currentTime))))}}]),t}(A.a.Component),W=n(12),Q=x()("div",{target:"e81flyr0"})("position:absolute;left:-1px;right:-1px;top:-1px;bottom:-1px;overflow:hidden;opacity:",function(e){return e.isVisible?1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";border-radius:",function(e){return e.isRound?"100%":T.N.br},";transition-property:opacity,visibility;transition-duration:0.6s;"),Y=x()("video",{target:"e81flyr1"})("opacity:",function(e){return!e.inTransition&&e.isVisible&&e.isInitialised?e.isBuffering?.5:1:0},";visibility:",function(e){return!e.inTransition&&e.isVisible&&e.isInitialised?"visible":"hidden"},";border-radius:",function(e){return e.isRound?"100%":T.N.br},";transition-property:opacity,visibility;transition-duration:0.6s;position:absolute;width:100%;border:",function(e){return e.isRound?"2px solid ".concat(T.N.color.light):"none"},";"),X=x()("div",{target:"e81flyr2"})("position:absolute;right:0;left:0;top:0;text-align:center;background:",T.N.color.underlay,";font-size:",T.N.font.small,";color:yellow;pointer-events:none;padding:10px 15px;"),K=function(e){function t(e){var n;return l()(this,t),(n=d()(this,f()(t).call(this))).state={isInitialised:!1,isMuted:!1,isBuffering:!1,isPlaying:!1,isSeeking:!1,isRequestedToPlay:!1,progress:0,duration:null,offsetStart:0,offsetEnd:0,src:null,title:null,inTransition:e.inTransition},n.handlePlayback=n.handlePlayback.bind(v()(n)),n.checkVideoState=n.checkVideoState.bind(v()(n)),n.parseData=n.parseData.bind(v()(n)),n.softPausing=n.softPausing.bind(v()(n)),n.softPlaying=n.softPlaying.bind(v()(n)),n.addVideoEventListeners=n.addVideoEventListeners.bind(v()(n)),n.handleSeeking=n.handleSeeking.bind(v()(n)),n.handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),u()(t,[{key:"softPausing",value:function(){var e=this,t=this.props.ENV;if(this.videoContainer){var n=this.videoContainer;t.browser.ios?n.pause():(n.volume=Math.max(0,n.volume-.1),0===n.volume?n.pause():setTimeout(function(){e.softPausing()},30))}}},{key:"softPlaying",value:function(){var e=this;if(this.videoContainer){var t=this.videoContainer;t.paused&&t.play(),t.volume=Math.min(1,t.volume+.1),t.volume<1&&setTimeout(function(){e.softPlaying()},30)}}},{key:"handleSeeking",value:function(e){var t=this,n=e.progress,i=e.hasEnded;if(this.videoContainer){var r=this.videoContainer,o=this.state,a=o.isInitialised,s=o.duration,l=o.offsetStart;a&&s&&this.setState({isSeeking:!i,progress:n},function(){r.currentTime=l+n*s,i?t.state.isRequestedToPlay&&t.setState({isPlaying:!0},function(){r.play()}):r.pause()})}}},{key:"handleClick",value:function(){if(this.videoContainer&&this.state.isInitialised){var e=this.videoContainer,t=this.state,n=t.progress,i=t.offsetStart,r=t.duration;if(t.isPlaying)this.setState({isRequestedToPlay:!1},function(){e.pause()});else{e.muted=this.state.isMuted;var o=.2/r;this.setState({isRequestedToPlay:!0,progress:n+o<1?n:0},function(){e.currentTime=i+(n+o<1?n*r:0)})}}}},{key:"handlePlayback",value:function(){if(this.videoContainer){var e=this.videoContainer;if(e.currentTime>=(this.state.offsetEnd||e.duration)){var t=this.props.updateProgress;t&&t(this.state.id,1),this.setState({progress:1}),e.pause()}else this.setState({progress:this.state.duration?(e.currentTime-this.state.offsetStart)/this.state.duration:0})}}},{key:"parseData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;if(this.videoContainer){var n=this.videoContainer;this.setState({duration:(t.offsetEnd||n.duration)-t.offsetStart,progress:this.props.progress,title:this.props.title},function(){n.currentTime=t.offsetStart+e.state.progress*e.state.duration})}}},{key:"checkVideoState",value:function(e){var t=this.state,n=t.isPlaying,i=t.isRequestedToPlay,r=t.isSeeking,o=t.id,a=t.progress,s=this.props.isOpened,l=this.videoContainer;this.setState({isBuffering:!!n&&l.readyState<3,isInitialised:!(l.readyState<3)||this.state.isInitialised}),this.DebugEventType&&(this.DebugEventType.innerHTML="eventType: ".concat(e.type)),this.handlePlayback(),l.readyState>=3&&(i&&!r&&s?l.paused&&null!==o&&!isNaN(o)&&a<1&&this.softPlaying():l.pause())}},{key:"addVideoEventListeners",value:function(){var e=this;if(this.videoContainer){var t=this.videoContainer;t.addEventListener("loadedmetadata",function(){var t=e.videoContainer.videoHeight/e.videoContainer.videoWidth;e.props.updateAspectRatio&&e.props.updateAspectRatio(t),e.parseData()}),t.addEventListener("timeupdate",this.handlePlayback),t.addEventListener("seeked",this.checkVideoState),t.addEventListener("stalled",this.checkVideoState),t.addEventListener("progress",this.checkVideoState),t.addEventListener("playing",function(){t.currentTime<e.props.offsetStart&&(t.currentTime=e.props.offsetStart),e.state.isPlaying&&e.state.isRequestedToPlay||e.setState({isPlaying:!0,isRequestedToPlay:!0})}),t.addEventListener("pause",function(){!(e.props.inTransition||!e.props.isOpened||e.state.isSeeking||1===e.state.progress||e.props.isDisabled)&&e.setState({isRequestedToPlay:!1}),e.props.inTransition||e.setState({isPlaying:!1,isBuffering:!1})})}}},{key:"componentDidMount",value:function(){this.videoContainer&&this.addVideoEventListeners()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.isOpened,i=t.isDisabled,r=t.inTransition,o=t.id;if(e.id===this.props.id&&e.inTransition===this.props.inTransition||this.setState({id:e.id,src:e.src||this.state.src,offsetStart:e.offsetStart||0,offsetEnd:e.offsetEnd,inTransition:e.id!==o&&e.inTransition}),this.videoContainer){var a=this.videoContainer,s=!n||i,l=!e.isOpened||e.isDisabled;a.paused||!l||s||this.softPausing(),a.paused||r||!e.inTransition||e.id===o||this.softPausing()}}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.videoContainer){var i=this.videoContainer,r=this.state,o=r.src,a=r.id,s=r.isRequestedToPlay,l=this.props,c=l.isOpened,u=l.inTransition,h=l.updateProgress;if(o)if(a!==t.id){if(!isNaN(t.id)&&h){var d=.2/t.duration,p=t.progress+d,f=p>=1?0:2/t.duration;h(t.id,Math.max(0,p-f))}o!==t.src?this.setState({isInitialised:!1,isPlaying:!1,inTransition:u},function(){return setTimeout(function(){n.setState({title:n.props.title}),i.load()},700)}):this.setState({inTransition:u,isInitialised:!1},function(){setTimeout(function(){n.parseData(n.state)},700)})}else c&&!e.isOpened&&this.setState({isPlaying:s},function(){!u&&s&&n.softPlaying()})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.isBuffering,i=t.inTransition,o=t.isInitialised,s=this.props,l=s.isOpened,c=s.isDisabled,u=s.ENV,h=s.isRound,d=l&&!c;return A.a.createElement(Q,{isRound:h,isVisible:d},A.a.createElement(Y,r()({isBuffering:n,inTransition:i,isVisible:d,isInitialised:o,isRound:h},{ref:function(t){return e.videoContainer=t},playsInline:!0,muted:!0}),A.a.createElement("source",{type:"video/mp4",src:this.state.src})),A.a.createElement(G,r()({onSeeking:this.handleSeeking,onPlayback:this.handleClick},a()({inTransition:i,isDisabled:c,isOpened:l,isRound:h},this.state))),(u.isDebug||u.isMobileDebug)&&A.a.createElement(X,null,A.a.createElement("span",{ref:function(t){return e.DebugEventType=t}}),A.a.createElement("br",null),"readyState: ",this.videoContainer&&this.videoContainer.readyState,A.a.createElement("br",null),"inTransition: ",String(i),A.a.createElement("br",null),"isInitialised: ",String(o),A.a.createElement("br",null)))}}]),t}(w.Component),q=Object(W.connect)(function(e){var t=e.app,n=e.layout;return{ENV:t.ENV,viewportWidth:n.viewport.width}})(K),J=n(54),Z=n(92),$=n(134),ee=n(14),te=n(101),ne=n(30),ie=x()("div",{target:"e10msbht0"})("border-radius:",T.N.br,";z-index:6;opacity:",function(e){return e.isOpened&&!e.isDisabled?1:0},";visibility:",function(e){return e.isOpened&&!e.isDisabled?"visible":"hidden"},";transform:",function(e){return e.isOpened&&!e.isDisabled?"none":"translate3d(0, -7px, 0)"},";transition-property:opacity,visibility,transform;transition-duration:",T.N.transition,";background:",T.N.color.underlayCompound,";position:absolute;right:0;top:0;width:100%;height:100%;",function(e){return e.isRound&&"\n    border-radius: 100%;\n    box-shadow: 0 4px 15px -2px ".concat(T.N.color.underlay,";\n    transform-origin: 100% 0;\n    transform: ").concat(e.isOpened&&!e.isDisabled?"none":"scale3d(0.2, 0.2, 0.2)",";\n  ")},""),re=x()(J.a,{target:"e10msbht1"})("position:absolute;margin:-15px;right:7%;top:7%;overflow:hidden;stroke:",T.N.color.light,";transition-property:opacity,visibilty;transition-duration:",T.N.transition,";opacity:",function(e){return e.isVisible?.8:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";pointer-events:",function(e){return e.isVisible?"auto":"none"},";&:hover{opacity:1;}"),oe=function(e){function t(e){var n;return l()(this,t),(n=d()(this,f()(t).call(this))).state={chapter:null,inTransition:e.inTransition},n.getActiveChapter=n.getActiveChapter.bind(v()(n)),n.updateProgress=n.updateProgress.bind(v()(n)),n}return y()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.getActiveChapter(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.inTransition&&this.getActiveChapter(e)}},{key:"updateProgress",value:function(e,t){this.props.actions.updateChapterProgress(e,t)}},{key:"getActiveChapter",value:function(e){var t=e.actions,n=e.narratorData,i=e.activeMode,r=e.panoramaId;if(n){var o=n.chapters||[],a=null,s=function(e,t){return{startTime:t.startTime,endTime:t.endTime,label:t.label,id:e,videoFile:t.videoFile||n.videoFile,videoAspectRatio:t.initialRatio||n.initialRatio}};o.forEach(function(e,t){e.space&&(Object($.a)(e.space.mode)===i&&(i!==T.a.INSIDE?a=s(t,e):e.space.ids&&e.space.ids.map(function(n){String(n)===String(r)&&(a=s(t,e))})))}),this.setState({chapter:a}),a?(setTimeout(function(){return t.setDisabled(!1)},500),a.videoAspectRatio&&t.setVideoAspectRatio(a.videoAspectRatio)):t.setDisabled(!0)}}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,i=n.narratorData,r=n.isOpened,o=n.isDisabled,a=n.activeMode,s=n.panoramaId,l=n.inTransition,c=n.chaptersProgress,u=n.appearance,h=n.isStagingVisible,d=n.isHighlightsVisible,p=this.state.chapter;return i!==e.narratorData||r!==e.isOpened||o!==e.isDisabled||a!==e.activeMode||s!==e.panoramaId||l!==e.inTransition||c!==e.chaptersProgress||u!==e.appearance||p!==t.chapter||h!==e.isStagingVisible||d!==e.isHighlightsVisible}},{key:"render",value:function(){var e=this.state.chapter,t=this.props,n=t.isDisabled,i=t.isOpened,o=t.inTransition,s=t.appearance,l=t.isStagingVisible,c=t.isHighlightsVisible,u=t.actions,h={id:e&&e.id,src:e&&e.videoFile,title:e&&e.label,offsetStart:e&&e.startTime,offsetEnd:e&&e.endTime,progress:e&&this.props.chaptersProgress[e.id]||0,inTransition:o},d="round"===s,p=[l,c].filter(function(e){return e}).length;return A.a.createElement(A.a.Fragment,null,A.a.createElement(ne.a,{isOpened:0===p&&i&&!n},A.a.createElement(re,{onClick:function(){return u.setVisibility(!1)}},A.a.createElement(Z.a,{size:23,stroke:2.4}))),A.a.createElement(ie,{isOpened:i,isDisabled:n,isRound:d},A.a.createElement(q,r()({updateAspectRatio:this.props.actions.setVideoAspectRatio,updateProgress:this.updateProgress},a()({isOpened:i,isDisabled:n,isRound:d},h)))))}}]),t}(w.Component),ae=Object(W.connect)(function(e){var t=e.app,n=e.narrator,i=e.mode;return{narratorData:t.datum.user.narrator,appearance:t.datum.user.narrator&&t.datum.user.narrator.appearance,chaptersProgress:n.chaptersProgress,isOpened:n.isOpened,isDisabled:n.isDisabled,activeMode:i.active,panoramaId:t.camera.activePanoramaId,inTransition:t.camera.inTransition,isStagingVisible:t.ENV.components.staging,isHighlightsVisible:t.ENV.components.highlights&&t.datum.user.highlights.length>0}},function(e){return{actions:Object(ee.bindActionCreators)(te,e)}})(oe);n.d(t,"a",function(){return ae})},function(e,t,n){"use strict";var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(11),d=n.n(h),p=n(3),f=n.n(p),m=n(0),v=n.n(m),g=n(2),y=n(17),b=function(e){var t=e.size;return v.a.createElement(y.a,{size:t},v.a.createElement("polygon",{fill:"none",points:"9 18.0020243 15.5664517 11.5900002 22 18.0020243 15.5664517 11.5900002"}))},x=n(206),w=function(e){var t=e.size;return v.a.createElement(y.a,{size:t},v.a.createElement("polygon",{fill:"none",points:"18.0020243 9 11.5900002 15.5664517 18.0020243 22 11.5900002 15.5664517"}))},A=function(e){var t=e.size;return v.a.createElement(y.a,{size:t},v.a.createElement("polygon",{fill:"none",points:"12.9979757 9 19.4099998 15.5664517 12.9979757 22 19.4099998 15.5664517"}))};n.d(t,"a",function(){return S});var M=f()("div",{target:"e1fyde4h0"})("position:absolute;",function(e){return"previous"===e.type?"left":"right"},":0;",function(e){return"previous"===e.type?"top":"bottom"},":0;opacity:",function(e){return e.isVisible?.8:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";transition-property:width,height,opacity,visibility,background;transition-duration:",g.N.transition,";z-index:5;fill:none;stroke:",g.N.color.light,";cursor:pointer;pointer-events:none;&:hover{opacity:",function(e){return e.isVisible?1:0},";}svg{pointer-events:auto;position:absolute;margin:-16px;transition-property:top,left;transition-duration:",g.N.transition,";.is-mouse-drags-player &{pointer-events:none;}}"),E=f()(M,{target:"e1fyde4h1"})("width:",function(e){return e.isVisible?40:20},"px;height:100%;top:-5px;background-image:radial-gradient( 100% 50% at ",function(e){return"previous"===e.type?"-20% 50%":"120% 50%"},",rgba(0,0,0,0.5),transparent );&:hover{width:",function(e){return e.isVisible?50:20},"px;}svg{left:",function(e){return"previous"===e.type?40:60},"%;top:50%;}"),C=f()(M,{target:"e1fyde4h2"})("width:100%;height:",function(e){return e.isVisible?40:20},"px;background-image:radial-gradient( 50% 100% at ",function(e){return"previous"===e.type?"50% -20%":"50% 120%"},",rgba(0,0,0,0.5),transparent );&:hover{height:",function(e){return e.isVisible?50:20},"px;}svg{left:50%;top:",function(e){return"previous"===e.type?40:60},"%;}"),S=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.isHorizontal,n=e.isScrollable,i=e.isPreviousButtonVisible,r=e.isNextButtonVisible,o=e.handleClick;return t?v.a.createElement(v.a.Fragment,null,v.a.createElement(E,{type:"previous",isVisible:i&&n,onClick:function(){return o(-1)}},v.a.createElement(w,null)),v.a.createElement(E,{type:"next",isVisible:r&&n,onClick:function(){return o(1)}},v.a.createElement(A,null))):v.a.createElement(v.a.Fragment,null,v.a.createElement(C,{type:"previous",isVisible:i&&n,onClick:function(){return o(-1)}},v.a.createElement(b,null)),v.a.createElement(C,{type:"next",isVisible:r&&n,onClick:function(){return o(1)}},v.a.createElement(x.a,null)))}}]),t}(v.a.PureComponent)},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(12),l=n(146),c=n.n(l),u=n(46),h=n(99),d=n(2);function p(){var e=c()(["\n  0%, 20%, 68%, 100% {\n    transform: translate3d(0, 0, 0) rotate(-1deg);\n  }\n  30% {\n    transform: translate3d(-6px, 2px, 0) rotate(-5deg);\n  }\n  42% {\n    transform: translate3d(7px, 1px, 0) rotate(0deg);\n  }\n  55% {\n    transform: translate3d(-5px, -1px, 0) rotate(-3deg);\n  }\n"]);return p=function(){return e},e}var f=Object(s.connect)(function(e){return{isMobile:e.app.ENV.browser.mobile}})(function(e){var t=e.isVisible,n=e.isMobile;return a.a.createElement(v,{isVisible:t},a.a.createElement(g,null,n?a.a.createElement(u.i,{highlight:d.N.color.light,base:d.N.color.light,size:84}):a.a.createElement(u.c,{highlight:d.N.color.light,base:d.N.color.light,size:84})),a.a.createElement(y,null,"Drag to rotate"))}),m=Object(h.keyframes)(p()),v=r()("div",{target:"e1j6ba400"})("display:inline-block;margin:0 auto;background:rgba(0,0,0,0.6);text-align:center;padding:17px 25px 30px;border-radius:20px;opacity:",function(e){return e.isVisible?1:0},";visibility:",function(e){return e.isVisible?"visible":"hidden"},";transition:visibility,opacity;transition-duration:",d.N.transition,";background-image:radial-gradient(60% 60% at 50% 40%,rgba(0,0,0,0.3),rgba(0,0,0,0));"),g=r()("div",{target:"e1j6ba401"})("display:block;animation:",m,";animation-timing-function:ease-in-out;animation-duration:3.5s;animation-iteration-count:infinite;#Arrows{display:none;}"),y=r()("span",{target:"e1j6ba402"})("font-size:",d.N.font.size,";position:absolute;left:0;right:0;text-align:center;bottom:8%;color:",d.N.color.light,";opacity:0.8;"),b=(n(84),n(34),n(90),n(36),n(28)),x=n.n(b),w=n(6),A=n.n(w),M=n(4),E=n.n(M),C=n(5),S=n.n(C),T=n(10),_=n.n(T),P=n(7),L=n.n(P),k=n(8),I=n.n(k),O=n(11),D=n.n(O),R=n(19),N=n(47),V=n(100),B=n(78),F=n(14),z=function(e){function t(){var e;return E()(this,t),(e=_()(this,L()(t).call(this))).showTutorial=e.showTutorial.bind(I()(e)),e.hideTutorial=e.hideTutorial.bind(I()(e)),e.getTutorialKey=e.getTutorialKey.bind(I()(e)),e.updateLocalStorage=e.updateLocalStorage.bind(I()(e)),e.handleModelClick=e.handleModelClick.bind(I()(e)),e.showHelp=e.showHelp.bind(I()(e)),e}return D()(t,e),S()(t,[{key:"getTutorialKey",value:function(){var e=this.props,t=e.data,n=e.visibility,i="totalInteractionCount";return d.D.find(function(e){return t[e][i]<1&&n[e]})||d.D.find(function(e){return t[e][i]<2&&n[e]})}},{key:"updateLocalStorage",value:function(e){var t=this.props.data,n=!1,i=JSON.parse(localStorage.getItem("geocv_tutorial"));Object.keys(t).forEach(function(r){var o=t[r].totalInteractionCount;e.data[r]&&o===e.data[r].totalInteractionCount||(i=A()({},i,x()({},r,{totalInteractionCount:o})),n=!0)}),n&&localStorage.setItem("geocv_tutorial",JSON.stringify(i))}},{key:"componentDidMount",value:function(){var e=this.props.actions,t=JSON.parse(localStorage.getItem("geocv_tutorial"));t&&Object.keys(t).forEach(function(n){e.setUserData(n,t[n])})}},{key:"componentWillUnmount",value:function(){R.a.MouseInteraction.removeListener("click",this.handleModelClick)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,i=n.isLoaded,r=n.data;this.updateLocalStorage(e),!e.isLoaded&&i&&(R.a.MouseInteraction.addListener("click",this.handleModelClick),d.D.forEach(function(e){setTimeout(function(){return t.showTutorial(e)},1e3*d.A[e])}));var o=d.C.GENERAL;1===e.data[o].step&&2===r[o].step&&setTimeout(function(){return t.showHelp()},1e3*d.A[d.C.HIGHLIGHTS])}},{key:"showHelp",value:function(){var e=this.props,t=e.actions;e.data[d.C.GENERAL].isUserInteracted||t.setNextStep(d.C.GENERAL)}},{key:"handleModelClick",value:function(e){var t=this.props.actions;null!==e&&t.setInteraction(d.C.GENERAL)}},{key:"showTutorial",value:function(e){var t=this,n=this.props.actions;e===this.getTutorialKey()&&(n.setVisibility(e,!0),d.B[e]&&setTimeout(function(){t.hideTutorial(e)},1e3*d.B[e]))}},{key:"hideTutorial",value:function(e){this.props.actions.setVisibility(e,!1)}},{key:"render",value:function(){return null}}]),t}(a.a.PureComponent),U=Object(s.connect)(function(e){var t,n=e.app;return{data:e.tutorial,isLoaded:n.loading.isDone,visibility:(t={},x()(t,d.C.OUTDOOR,n.ENV.components.outdoor),x()(t,d.C.STAGING,n.ENV.components.staging),x()(t,d.C.GENERAL,n.ENV.components.help),t)}},function(e){return{actions:A()({},Object(F.bindActionCreators)(N,e),{setHelpVisibility:Object(F.bindActionCreators)(V.setVisibility,e),setHighlightsVisibility:Object(F.bindActionCreators)(B.setVisibility,e)})}})(z),j=n(30),H=(t.a=Object(s.connect)(function(e){var t=e.tutorial,n=e.layout;return{isOpened:t[d.C.GENERAL].isVisible&&1===t[d.C.GENERAL].step,isPortraitLayout:n.viewport.portrait}})(function(e){var t=e.isOpened,n=e.isPortraitLayout;return a.a.createElement(H,{isPortraitLayout:n},a.a.createElement(j.a,{isOpened:t},a.a.createElement(f,null)),a.a.createElement(U,null))}),r()("div",{target:"ebbnx1b0"})({name:"1pu3nrw",styles:"position:absolute;left:50%;margin-bottom:40px;bottom:40%;transform:translate3d(-50%,50%,0);pointer-events:none;"}))},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(0),a=n.n(o),s=n(41),l=n.n(s),c=n(33),u=n.n(c),h=n(12),d=n(19),p={l:0,t:0,r:0,b:0},f="0";var m=Object(h.connect)(function(e){return{isFloorplanReady:e.app.componentsReadyState.floorplan,selectedFloorId:e.floors.selectedId}},function(e){return{dispatch:e}})(a.a.memo(function(e){var t=Object(o.useRef)(null),n=Object(o.useState)(!1),i=u()(n,2),r=i[0],s=i[1],c=Object(o.useState)(null),h=u()(c,2),m=h[0],w=h[1],A=Object(o.useState)(!1),M=u()(A,2),E=M[0],C=M[1],S=Object(o.useState)({x:null,y:null}),T=u()(S,2),_=T[0],P=T[1],L=Object(o.useState)([0,0,0,0]),k=u()(L,2),I=k[0],O=k[1],D=function(){if(!m){var e=d.a.FloorPlanController.getScreenPosition(f);if(e){var n=u()(e,4),i=n[0],r=n[1],o=n[2],a=n[3];p.l!==i&&(t.current.style.left=i+"px",p.l=i),p.t!==r&&(t.current.style.top=r+"px",p.t=r),p.r!==o&&(t.current.style.width=o-i+"px",p.r=o),p.b!==a&&(t.current.style.height=a-r+"px",p.b=a)}}};Object(o.useEffect)(function(){e.isFloorplanReady&&!r&&(d.a.RenderLoopManager.on("render",D),s(!0))},[e.isFloorplanReady,r]),Object(o.useEffect)(function(){f=e.selectedFloorId||"0",p.l=null,p.t=null,p.r=null,p.b=null},[e.selectedFloorId]);var R=function(e){32===e.which&&C(!1)},N=function(e){32===e.which&&(C(!0),document.addEventListener("keyup",R))};Object(o.useEffect)(function(){return document.addEventListener("keydown",N),function(){document.removeEventListener("keydown",N),document.removeEventListener("keyup",R),d.a.RenderLoopManager.off("render",D),s(!1)}},[]);var V=function(t){if(0===t.button&&!m){var n=t.currentTarget.getAttribute("data-type");w(n),P({x:t.screenX,y:t.screenY}),O(d.a.FloorPlanController.getScreenPosition(e.selectedFloorId||"0"))}};return a.a.createElement(v,{disabled:E,onMouseMove:function(e){if(0===e.button&&m){var n=u()(I,4),i=n[0],r=n[1],o=n[2],a=n[3],s=e.screenX-_.x,c=e.screenY-_.y,h=l()(I);switch(m){case"â":t.current.style.height=a-r-c+"px",h=[i,r+c,o,a];break;case"â":h=[i,r,o,a+c];break;case"â":t.current.style.width=o-i-s+"px",h=[i+s,r,o,a];break;case"â":h=[i,r,o+s,a];break;case"â":t.current.style.height=a-r-c+"px",t.current.style.width=o-i-s+"px",h=[i+s,r+c,o,a];break;case"â":t.current.style.height=a-r-c+"px",h=[i,r+c,o+s,a];break;case"â":t.current.style.width=o-i-s+"px",h=[i+s,r,o,a+c];break;case"â":h=[i,r,o+s,a+c];break;default:h=[i+s,r+c,o+s,a+c]}d.a.FloorPlanController.setScreenPosition(f,h)}},onMouseUp:function(e){0===e.button&&setTimeout(function(){w(null)},50)},isVisible:e.isVisible},a.a.createElement(g,{ref:t},a.a.createElement(y,{onMouseDown:V,"data-type":"move"}),a.a.createElement(b,{className:"tl",onMouseDown:V,"data-type":"â"}),a.a.createElement(b,{className:"tr",onMouseDown:V,"data-type":"â"}),a.a.createElement(b,{className:"bl",onMouseDown:V,"data-type":"â"}),a.a.createElement(b,{className:"br",onMouseDown:V,"data-type":"â"}),a.a.createElement(x,{className:"t",onMouseDown:V,"data-type":"â"}),a.a.createElement(x,{className:"l",onMouseDown:V,"data-type":"â"}),a.a.createElement(x,{className:"b",onMouseDown:V,"data-type":"â"}),a.a.createElement(x,{className:"r",onMouseDown:V,"data-type":"â"})))})),v=r()("div",{target:"elsqc5m0"})("position:absolute;left:0;top:0;width:100%;height:100%;z-index:5;pointer-events:",function(e){return e.disabled?"none":"auto"},";opacity:",function(e){return e.isVisible?e.disabled?"0.1":"1":"0"},";transition:opacity 0.3s;"),g=r()("div",{target:"elsqc5m1"})({name:"12efcmn",styles:"position:absolute;"}),y=r()("div",{target:"elsqc5m2"})({name:"l82a4a",styles:"position:absolute;left:0;top:0;width:100%;height:100%;z-index:1;cursor:move;"}),b=r()("div",{target:"elsqc5m3"})({name:"1unnz3r",styles:"position:absolute;width:20px;height:20px;z-index:2;color:#222;&:after{position:absolute;content:'';width:10px;height:10px;left:5px;top:5px;outline:1px solid #222;background:#fff;}&.tl{cursor:nwse-resize;left:-10px;top:-10px;}&.tr{cursor:nesw-resize;top:-10px;right:-10px;}&.bl{cursor:nesw-resize;left:-10px;bottom:-10px;}&.br{cursor:nwse-resize;right:-10px;bottom:-10px;}"}),x=r()("div",{target:"elsqc5m4"})({name:"1gmpewv",styles:"position:absolute;z-index:1;color:rgba(0,0,0,0.5);&:before{content:'';position:absolute;border:0.5px solid;}&:after{content:'';position:absolute;width:6px;height:6px;border:0.5px solid;background:#fff;left:50%;top:50%;margin-left:-3px;margin-top:-3px;}&.t{cursor:ns-resize;top:-11px;left:0px;right:0px;height:20px;&:before{left:0;right:0;top:50%;}}&.b{cursor:ns-resize;bottom:-10px;left:0;height:20px;width:100%;&:before{left:0;right:0;top:50%;margin-top:-1px;}}&.l{cursor:ew-resize;left:-10px;top:0;width:20px;height:100%;&:before{top:0;bottom:0;left:50%;}}&.r{cursor:ew-resize;right:-10px;top:0;width:20px;height:100%;&:before{top:0;bottom:0;left:50%;}}"}),w=n(30);var A=r()("div",{target:"e1d0fxiy0"})({name:"l3d3lw",styles:"position:absolute;bottom:0;top:0;right:0;left:0;z-index:1;pointer-events:none;"});t.a=Object(h.connect)(function(e){var t=e.app,n=e.layout;return{isActive:t.isFloorplanEditorActive,margin:n.viewport.margin}},function(e){return{dispatch:e}})(a.a.memo(function(e){return a.a.createElement(A,{"data-component":"LayoutFloorplanEditor"},a.a.createElement(w.a,{isOpened:e.isActive},a.a.createElement(m,null)))}))},function(e,t,n){"use strict";n(34),n(88);var i=n(6),r=n.n(i),o=n(4),a=n.n(o),s=n(5),l=n.n(s),c=n(10),u=n.n(c),h=n(7),d=n.n(h),p=n(8),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=n(178),A=n(17),M=function(e){var t=e.size;return x.a.createElement(A.a,{size:t},x.a.createElement("g",{fill:"none"},x.a.createElement("polyline",{points:"13 24 13 18 7 18"}),x.a.createElement("polyline",{points:"18 7 18 13 24 13"}),x.a.createElement("path",{d:"M19,12 L24.5,6.5"}),x.a.createElement("path",{d:"M6.5,24.5 L12,19"})))},E=n(54),C=n(2),S=n(12),T=n(14),_=n(179),P=y()(E.a,{target:"epufmjg0"})("background:transparent;stroke:",C.H.light,";fill:",C.H.light,";"),L=y()("a",{target:"epufmjg1"})("background:transparent;stroke:",C.H.light,";fill:",C.H.light,";text-decoration:none;width:39px;height:39px;margin:0;padding:2px;display:block;pointer-events:auto;.is-mouse-drags-player &{pointer-events:none;}"),k=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this))).state={lastChangeDate:null},e.toggle=e.toggle.bind(f()(e)),e}return v()(t,e),l()(t,[{key:"request",value:function(){["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].forEach(function(e){if(document.documentElement[e])return document.documentElement[e](),!0})}},{key:"cancel",value:function(){["exitFullscreen","webkitExitFullscreen","webkitCancelFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","cancelFullScreen"].forEach(function(e){if(document[e])return document[e](),!0})}},{key:"toggle",value:function(){return this.props.isActive?this.cancel():this.request()}},{key:"shouldComponentUpdate",value:function(e){return e.isActive!==this.props.isActive}},{key:"componentDidMount",value:function(){var e=this;["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"].forEach(function(t){document.addEventListener(t,function(){var t=new Date;t-e.state.lastChangeDate>100&&(e.props.setActive(!e.props.isActive),e.setState({lastChangeDate:t}))})})}},{key:"renderLink",value:function(){return x.a.createElement(L,{target:"_blank",title:"Full Screen",href:this.props.iosLink},x.a.createElement(w.a,null))}},{key:"renderButton",value:function(){var e=this.props.isActive;return x.a.createElement(P,{title:"Full Screen",onClick:this.toggle},e?x.a.createElement(M,null):x.a.createElement(w.a,null))}},{key:"render",value:function(){return this.props.isIos?this.renderLink():this.renderButton()}}]),t}(b.Component),I=Object(S.connect)(function(e){return{isActive:e.fullscreen.isActive,ENV:e.app.ENV,isIos:e.app.ENV.browser.ios,iosLink:e.app.datum&&e.app.datum.user&&e.app.datum.user.iosFullScreenLink?e.app.datum.user.iosFullScreenLink:"//geocv.com/"+e.app.ENV.tour}},function(e){return r()({},Object(T.bindActionCreators)(_,e))})(k);n.d(t,"a",function(){return I})},function(e,t,n){"use strict";n(52),n(53),n(24),n(56),n(37),n(132),n(39);var i=n(4),r=n.n(i),o=n(5),a=n.n(o),s=n(10),l=n.n(s),c=n(7),u=n.n(c),h=n(11),d=n.n(h),p=n(3),f=n.n(p),m=n(0),v=n.n(m),g=n(2),y=n(17),b=function(e){var t=e.size,n=void 0===t?42:t;return v.a.createElement(y.a,{size:n,viewbox:40},v.a.createElement("path",{stroke:"none",fill:"rgba(255,255,255,0.7)",d:"M20,40 C8.954305,40 0,31.045695 0,20 C0,8.954305 8.954305,0 20,0 C31.045695,0 40,8.954305 40,20 C40,31.045695 31.045695,40 20,40 Z M22.486563,16.8127044 L16.1747833,17.5258142 L16.1596108,18.4968572 C17.5049167,18.6485834 18.1775596,19.1391575 18.1775596,19.9685943 L18.1775596,26.447272 C18.1775596,26.8822205 18.0005483,27.2185419 17.6465204,27.4562463 C17.2924926,27.6939508 16.7918035,27.8128012 16.1444382,27.8128012 L16.1444382,28.5714286 L24.4438216,28.556256 L24.4438216,27.7824561 C23.1187458,27.6206148 22.4562179,27.1300407 22.4562179,26.310719 L22.486563,16.8127044 Z M20.3472338,10.9561012 C19.6998686,10.9561012 19.1713635,11.1710435 18.7617026,11.6009344 C18.3520418,12.0308254 18.1472145,12.5846179 18.1472145,13.2623284 C18.1472145,13.8692333 18.359628,14.3699224 18.7844615,14.7644106 C19.2092949,15.1588988 19.7453862,15.3561399 20.3927515,15.3561399 C20.9895413,15.3561399 21.4978166,15.1437264 21.9175925,14.7188929 C22.3373684,14.2940595 22.5472532,13.778198 22.5472532,13.1712931 C22.5472532,12.544158 22.3373684,12.0181816 21.9175925,11.5933482 C21.4978166,11.1685147 20.9743689,10.9561012 20.3472338,10.9561012 Z"}))},x=n(12),w=n(80),A=n(79),M=n(89),E=function(e){function t(){return r()(this,t),l()(this,u()(t).apply(this,arguments))}return d()(t,e),a()(t,[{key:"getCollection",value:function(e){var t=e.tristan,n=e.persons,i=e.company,r=e.isInfoFilled,o=this.props,a=o.isMLS,s=o.tourPath,l={avatarUrl:null,avatarText:null,title:null,description:null,name:null},c=n.length>0?n[0]:null,u=t&&(t.name||t.description||t.image),h=c&&(c.firstName||c.lastName||c.photo),d=i.title||i.logo;if(!a)if(u)l.name=t.name||null,l.description=t.description||null,l.avatarUrl=t.image||null;else if(h){var p=c.firstName,f=c.lastName,m=c.photo;l.avatarUrl=m||null,(p||f)&&(l.name="",l.avatarText="",p&&(l.name+=p,l.avatarText+=p.substr(0,1)),p&&f&&(l.name+=" "),f&&(l.name+=f,l.avatarText+=f.substr(0,1)))}else d&&(l.avatarUrl=i.logo||null,l.avatarText=i.title?i.title.substr(0,1):null,l.name=i.title?i.title:null);l.avatarUrl&&0===l.avatarUrl.indexOf("embedded_files/")&&(l.avatarUrl="".concat(s).concat(l.avatarUrl));return l.description=l.description||(r?"More information by":null),l.name||"More information by"!==l.description||(l.name=r?"More information":null,l.description=null),l}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.isOpened,i=e.isActive,r=e.dispatch,o=this.getCollection(t);return v.a.createElement(S,{className:"InfoTrigger",title:"Info Block",isOpened:!!i&&n,isActive:i,onMouseUp:function(){i&&(r(A.setVisibility(!1)),r(M.setVisibility(!1)),r(w.setVisibility(!n)))}},o.avatarUrl||o.avatarText?v.a.createElement(_,{avatarUrl:o.avatarUrl},v.a.createElement("span",null,o.avatarText)):v.a.createElement(_,{isIcon:!0},v.a.createElement(b,null)),v.a.createElement(T,null,o.description&&v.a.createElement(L,null,o.description),o.name&&v.a.createElement(P,null,o.name)))}}]),t}(v.a.PureComponent),C=Object(x.connect)(function(e,t){var n=e.info,i=e.app,r=i.ENV,o=r.tour,a=r.contentPathPrefix,s=r.isMLS;return{isOpened:n.isOpened,data:i.datum.user,isInfoFilled:i.datum.user.isInfoFilled,tourPath:"".concat(a).concat(o,"/"),isMLS:s}},function(e){return{dispatch:e}})(E),S=f()("div",{target:"elhsct0"})("-webkit-tap-highlight-color:transparent;text-align:left;cursor:",function(e){return e.isOpened||!e.isActive?"default":"pointer"},";height:39px;line-height:38px;transition-duration:0.4s;transition-property:color,transform,background,stroke,fill;transform:",function(e){return e.isOpened?"scale3d(0.96,0.96,0.96)":"none"},";transform-origin:20px 50%;position:relative;opacity:1;max-width:100%;pointer-events:auto;.is-mouse-drags-player &{pointer-events:none;}"),T=f()("div",{target:"elhsct1"})("display:inline-block;vertical-align:middle;white-space:nowrap;padding:0 0 0 46px;font-size:",g.K.small,";font-weight:",g.K.regular,";line-height:",g.K.compact,";color:",g.H.light,";max-width:100%;overflow:hidden;"),_=f()("div",{target:"elhsct2"})("width:41px;height:41px;min-width:41px;border-radius:100px;overflow:hidden;background-color:",function(e){return e.isIcon?"transparent":"rgba(255,255,255, 0.6)"},";background-image:",function(e){return e.avatarUrl?"url("+e.avatarUrl+")":"none"},";background-size:cover;background-position:50%;position:absolute;left:-1px;top:-1px;span{display:",function(e){return e.avatarUrl?"none":"block"},";line-height:43px;text-align:center;font-size:15px;font-weight:500;color:",g.H.baseDull,";}"),P=f()("span",{target:"elhsct3"})("display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;font-size:",g.K.large,";font-weight:",g.K.bold,";"),L=f()("span",{target:"elhsct4"})({name:"dozi8r",styles:"display:block;overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap;"});n.d(t,"a",function(){return C})},function(e,t,n){"use strict";n(24),n(84),n(34),n(172),n(36);var i=n(6),r=n.n(i),o=n(33),a=n.n(o),s=n(4),l=n.n(s),c=n(5),u=n.n(c),h=n(10),d=n.n(h),p=n(7),f=n.n(p),m=n(11),v=n.n(m),g=n(3),y=n.n(g),b=n(0),x=n.n(b),w=(n(134),n(19)),A=n(12),M=n(14),E=n(177),C=n(93),S=(n(1),n(2)),T=(n(13),n(77)),_=n.n(T),P=function e(t,n){if(t===n)return!0;if(!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;for(var i in t)if(t.hasOwnProperty(i)){if(!n.hasOwnProperty(i))return!1;if(t[i]!==n[i]){if("object"!==_()(t[i]))return!1;if(!e(t[i],n[i]))return!1}}for(var r in n)if(n.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0},L=function(e){function t(){return l()(this,t),d()(this,f()(t).call(this))}return v()(t,e),u()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.setSplashVisibility,i=t.setLoadingProgress,o=t.ENV,s=t.isLoaded,l=(t.isVisible,t.config);if(P(e.config,l)||Object.entries(l).forEach(function(e){var t=a()(e,2),n=t[0],i=t[1];w.a.Config.set(n,i)}),e.isLoaded!==s){var c=o.startPositionId,u=o.positions.find(function(e){return e.id===c});w.a.Transitions.start(r()({},u,{cameraMode:u.cameraMode===S.a.DOLLHOUSE?S.a.ATTRACTION:u.cameraMode,transitionStyle:S.y.INSTANT})).then(function(){i(1),n(!1)})}}},{key:"render",value:function(){var e=this.props.ENV,t=e.prefix,n=e.id;return x.a.createElement(k,{id:"".concat(t,"-").concat(n,"-canvas")})}}]),t}(x.a.PureComponent),k=y()("div",{target:"ee3jgxt0"})({name:"yl9fg8",styles:"position:absolute;left:0;top:0;width:100%;height:100%;"}),I=Object(A.connect)(function(e){var t=e.app;return{isLoaded:t.loading.isDone,ENV:t.ENV,isVisible:t.ENV.components.canvas,config:t.datum.user.config}},function(e){return r()({},Object(M.bindActionCreators)(E,e),{setSplashVisibility:Object(M.bindActionCreators)(C.setSplashVisibility,e),setLoadingProgress:Object(M.bindActionCreators)(C.setLoadingProgress,e)})})(L);n.d(t,"a",function(){return I})},function(e,t,n){"use strict";var i=n(6),r=n.n(i),o=n(3),a=n.n(o),s=n(0),l=n.n(s),c=n(12),u=n(14),h=n(100),d=n(79),p=n(80),f=n(89),m=n(101),v=n(78),g=n(47),y=n(17),b=function(e){var t=e.size;return l.a.createElement(y.a,{size:t},l.a.createElement("g",{fill:"none"},l.a.createElement("path",{d:"M12.5,12.7536152 C12.5,10.8801788 13.9740551,10 15.5576553,10 C17.1412556,10 18.5,10.8776161 18.5,12.7536152 C18.5,14.6296144 16.8365479,14.8277961 15.9222412,15.7697999 C15.6969686,16.0018967 15.57544,16.4119634 15.5576553,17"}),l.a.createElement("circle",{cx:"15.5",cy:"15.5",r:"11.5"})),l.a.createElement("circle",{stroke:"none",cx:"15.5000002",cy:"20.4999993",r:"1.20000005"}))},x=n(54),w=n(2),A=a()(x.a,{target:"ervl9sc0"})({name:"1p0pax2",styles:"stroke:#fff;fill:#fff;opacity:1;"});t.a=Object(c.connect)(function(e){return{isOpened:e.help.isOpened}},function(e){return{actions:r()({},Object(u.bindActionCreators)(h,e),{setShareVisibility:Object(u.bindActionCreators)(d.setVisibility,e),setInfoVisibility:Object(u.bindActionCreators)(p.setVisibility,e),setFloorsVisibility:Object(u.bindActionCreators)(f.setVisibility,e),setNarratorVisibility:Object(u.bindActionCreators)(m.setVisibility,e),setHighlightsVisibility:Object(u.bindActionCreators)(v.setVisibility,e),setTutorialInteraction:Object(u.bindActionCreators)(g.setInteraction,e),setTutorialVisibility:Object(u.bindActionCreators)(g.setVisibility,e)})}})(function(e){var t=e.isOpened,n=e.actions;return l.a.createElement(A,{title:"Help",onClick:function(){n.setShareVisibility(!1),n.setInfoVisibility(!1),n.setFloorsVisibility(!1),n.setNarratorVisibility(!1),n.setHighlightsVisibility(!1),n.setVisibility(!t),n.setTutorialInteraction(w.C.GENERAL),n.setTutorialVisibility(w.C.OUTDOOR,!1),n.setTutorialVisibility(w.C.HIGHLIGHTS,!1),n.setTutorialVisibility(w.C.STAGING,!1)},isActive:t},l.a.createElement(b,null))})},,function(e,t,n){e.exports=n(576)},function(e,t,n){n(402),n(530),e.exports=n(122)},function(e,t,n){n(52),n(403),n(53),n(404),n(405),n(76),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(142),n(415),n(416),n(417),n(172),n(418),n(419),n(276),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(90),n(427),n(428),n(429),n(279),n(23),n(430),n(431),n(432),n(433),n(434),n(37),n(435),n(436),n(437),n(438),n(24),n(439),n(440),n(221),n(61),n(84),n(283),n(441),n(442),n(34),n(62),n(56),n(139),n(443),n(44),n(286),n(444),n(445),n(125),n(189),n(154),n(144),n(446),n(447),n(448),n(40),n(449),n(450),n(451),n(452),n(70),n(152),n(453),n(454),n(455),n(229),n(97),n(289),n(140),n(456),n(457),n(458),n(459),n(50),n(460),n(461),n(216),n(132),n(462),n(463),n(464),n(465),n(231),n(39),n(466),n(116),n(467),n(290),n(68),n(468),n(115),n(291),n(469),n(109),n(294),n(470),n(472),n(296),n(473),n(474),n(475),n(476),n(477),n(192),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(488),n(489),n(490),n(491),n(492),n(194),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(88),n(501),n(503),n(45),n(506),n(302),n(235),n(507),n(508),n(509),n(510),n(236),n(511),n(512),n(308),n(513),n(309),n(238),n(310),n(311),n(239),n(514),n(515),n(516),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),e.exports=n(122)},function(e,t,n){n(83)("asyncIterator")},function(e,t,n){n(83)("hasInstance")},function(e,t,n){n(83)("isConcatSpreadable")},function(e,t,n){n(83)("match")},function(e,t,n){n(83)("matchAll")},function(e,t,n){n(83)("replace")},function(e,t,n){n(83)("search")},function(e,t,n){n(83)("species")},function(e,t,n){n(83)("split")},function(e,t,n){n(83)("toPrimitive")},function(e,t,n){n(83)("toStringTag")},function(e,t,n){n(83)("unscopables")},function(e,t,n){n(9)({target:"Object",stat:!0,sham:!n(31)},{create:n(130)})},function(e,t,n){var i=n(9),r=n(31);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(38).f})},function(e,t,n){var i=n(9),r=n(31);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(218)})},function(e,t,n){var i=n(9),r=n(173),o=n(18),a=n(25),s=n(143).onFreeze,l=Object.freeze;i({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!r},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},function(e,t,n){var i=n(9),r=n(174),o=n(105);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,function(e,n){o(t,e,n)},void 0,!0),t}})},function(e,t,n){var i=n(9),r=n(31),o=n(166),a=n(64),s=n(65),l=n(105);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=a(e),r=s.f,c=o(i),u={},h=0;c.length>h;)void 0!==(n=r(i,t=c[h++]))&&l(u,t,n);return u}})},function(e,t,n){var i=n(9),r=n(18),o=n(271).f;i({target:"Object",stat:!0,forced:r(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},function(e,t,n){var i=n(9),r=n(18),o=n(42),a=n(108),s=n(220);i({target:"Object",stat:!0,forced:r(function(){a(1)}),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,n){n(9)({target:"Object",stat:!0},{is:n(277)})},function(e,t,n){var i=n(9),r=n(18),o=n(25),a=Object.isExtensible;i({target:"Object",stat:!0,forced:r(function(){a(1)})},{isExtensible:function(e){return!!o(e)&&(!a||a(e))}})},function(e,t,n){var i=n(9),r=n(18),o=n(25),a=Object.isFrozen;i({target:"Object",stat:!0,forced:r(function(){a(1)})},{isFrozen:function(e){return!o(e)||!!a&&a(e)}})},function(e,t,n){var i=n(9),r=n(18),o=n(25),a=Object.isSealed;i({target:"Object",stat:!0,forced:r(function(){a(1)})},{isSealed:function(e){return!o(e)||!!a&&a(e)}})},function(e,t,n){var i=n(9),r=n(25),o=n(143).onFreeze,a=n(173),s=n(18),l=Object.preventExtensions;i({target:"Object",stat:!0,forced:s(function(){l(1)}),sham:!a},{preventExtensions:function(e){return l&&r(e)?l(o(e)):e}})},function(e,t,n){var i=n(9),r=n(25),o=n(143).onFreeze,a=n(173),s=n(18),l=Object.seal;i({target:"Object",stat:!0,forced:s(function(){l(1)}),sham:!a},{seal:function(e){return l&&r(e)?l(o(e)):e}})},function(e,t,n){n(9)({target:"Object",stat:!0},{setPrototypeOf:n(153)})},function(e,t,n){"use strict";var i=n(9),r=n(31),o=n(186),a=n(42),s=n(69),l=n(38);r&&i({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){l.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(9),r=n(31),o=n(186),a=n(42),s=n(69),l=n(38);r&&i({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){l.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(9),r=n(31),o=n(186),a=n(42),s=n(72),l=n(108),c=n(65).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,n=a(this),i=s(e,!0);do{if(t=c(n,i))return t.get}while(n=l(n))}})},function(e,t,n){"use strict";var i=n(9),r=n(31),o=n(186),a=n(42),s=n(72),l=n(108),c=n(65).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,n=a(this),i=s(e,!0);do{if(t=c(n,i))return t.set}while(n=l(n))}})},function(e,t,n){n(9)({target:"Function",proto:!0},{bind:n(280)})},function(e,t,n){"use strict";var i=n(25),r=n(38),o=n(108),a=n(27)("hasInstance"),s=Function.prototype;a in s||r.f(s,a,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var i=n(9),r=n(281);i({target:"Array",stat:!0,forced:!n(187)(function(e){Array.from(e)})},{from:r})},function(e,t,n){n(9)({target:"Array",stat:!0},{isArray:n(96)})},function(e,t,n){"use strict";var i=n(9),r=n(18),o=n(105);i({target:"Array",stat:!0,forced:r(function(){function e(){}return!(Array.of.call(e)instanceof e)})},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var i=n(9),r=n(282),o=n(131);i({target:"Array",proto:!0},{copyWithin:r}),o("copyWithin")},function(e,t,n){"use strict";var i=n(9),r=n(60).every;i({target:"Array",proto:!0,forced:n(87)("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(9),r=n(284),o=n(42),a=n(29),s=n(67),l=n(124);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t.length),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:s(e)),i}})},function(e,t,n){"use strict";var i=n(9),r=n(284),o=n(42),a=n(29),s=n(69),l=n(124);i({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),i=a(n.length);return s(e),(t=l(n,0)).length=r(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){var i=n(9),r=n(285);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(e,t,n){"use strict";var i=n(9),r=n(188).right;i({target:"Array",proto:!0,forced:n(87)("reduceRight")},{reduceRight:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(9),r=n(96),o=[].reverse,a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(e,t,n){n(155)("Array")},function(e,t,n){n(131)("flat")},function(e,t,n){n(131)("flatMap")},function(e,t,n){var i=n(9),r=n(95),o=String.fromCharCode,a=String.fromCodePoint;i({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,a=0;i>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var i=n(9),r=n(64),o=n(29);i({target:"String",stat:!0},{raw:function(e){for(var t=r(e.raw),n=o(t.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";var i=n(9),r=n(151).codeAt;i({target:"String",proto:!0},{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(9),r=n(29),o=n(225),a=n(48),s=n(226),l="".endsWith,c=Math.min;i({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(e){var t=String(a(this));o(e);var n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:c(r(n),i),u=String(e);return l?l.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var i=n(9),r=n(224),o=n(48),a=n(29),s=n(69),l=n(26),c=n(141),u=n(126),h=n(49),d=n(27),p=n(98),f=n(128),m=n(73),v=n(103),g=d("matchAll"),y=m.set,b=m.getterFor("RegExp String Iterator"),x=RegExp.prototype,w=x.exec,A=r(function(e,t,n,i){y(this,{type:"RegExp String Iterator",regexp:e,string:t,global:n,unicode:i,done:!1})},"RegExp String",function(){var e=b(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,i=function(e,t){var n,i=e.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(e,t)))throw TypeError("Incorrect exec result");return n}return w.call(e,t)}(t,n);return null===i?{value:void 0,done:e.done=!0}:e.global?(""==String(i[0])&&(t.lastIndex=f(n,a(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})}),M=function(e){var t,n,i,r,o,s,c=l(this),h=String(e);return t=p(c,RegExp),void 0===(n=c.flags)&&c instanceof RegExp&&!("flags"in x)&&(n=u.call(c)),i=void 0===n?"":String(n),r=new t(t===RegExp?c.source:c,i),o=!!~i.indexOf("g"),s=!!~i.indexOf("u"),r.lastIndex=a(c.lastIndex),new A(r,h,o,s)};i({target:"String",proto:!0},{matchAll:function(e){var t,n,i,r=o(this);return null!=e&&(void 0===(n=e[g])&&v&&"RegExp"==c(e)&&(n=M),null!=n)?s(n).call(e,r):(t=String(r),i=new RegExp(e,"g"),v?M.call(i,t):i[g](t))}}),v||g in x||h(x,g,M)},function(e,t,n){"use strict";var i=n(9),r=n(227).end;i({target:"String",proto:!0,forced:n(288)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(9),r=n(227).start;i({target:"String",proto:!0,forced:n(288)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(9),r=n(29),o=n(225),a=n(48),s=n(226),l="".startsWith,c=Math.min;i({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(e){var t=String(a(this));o(e);var n=r(c(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return l?l.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";var i=n(9),r=n(156).trim;i({target:"String",proto:!0,forced:n(230)("trim")},{trim:function(){return r(this)}})},function(e,t,n){"use strict";var i=n(9),r=n(156).start,o=n(230)("trimStart"),a=o?function(){return r(this)}:"".trimStart;i({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(e,t,n){"use strict";var i=n(9),r=n(156).end,o=n(230)("trimEnd"),a=o?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("anchor")},{anchor:function(e){return r(this,"a","name",e)}})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("big")},{big:function(){return r(this,"big","","")}})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("fontcolor")},{fontcolor:function(e){return r(this,"font","color",e)}})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("fontsize")},{fontsize:function(e){return r(this,"font","size",e)}})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("italics")},{italics:function(){return r(this,"i","","")}})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("strike")},{strike:function(){return r(this,"strike","","")}})},function(e,t,n){"use strict";var i=n(9),r=n(74);i({target:"String",proto:!0,forced:n(75)("sup")},{sup:function(){return r(this,"sup","","")}})},function(e,t,n){var i=n(31),r=n(38),o=n(126);i&&"g"!=/./g.flags&&r.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(e,t,n){var i=n(9),r=n(293);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(e,t,n){n(9)({target:"Number",stat:!0},{isFinite:n(471)})},function(e,t,n){var i=n(20).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},function(e,t,n){n(9)({target:"Number",stat:!0},{isInteger:n(295)})},function(e,t,n){var i=n(9),r=n(295),o=Math.abs;i({target:"Number",stat:!0},{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},function(e,t,n){n(9)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n(9)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(9),r=n(293);i({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(e,t,n){var i=n(9),r=n(292);i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(e,t,n){"use strict";var i=n(9),r=n(18),o=n(297),a=1..toPrecision;i({target:"Number",proto:!0,forced:r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})},{toPrecision:function(e){return void 0===e?a.call(o(this)):a.call(o(this),e)}})},function(e,t,n){var i=n(9),r=n(298),o=Math.acosh,a=Math.log,s=Math.sqrt,l=Math.LN2;i({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+l:r(e-1+s(e-1)*s(e+1))}})},function(e,t,n){var i=n(9),r=Math.asinh,o=Math.log,a=Math.sqrt;i({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):o(t+a(t*t+1)):t}})},function(e,t,n){var i=n(9),r=Math.atanh,o=Math.log;i({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:o((1+e)/(1-e))/2}})},function(e,t,n){var i=n(9),r=n(233),o=Math.abs,a=Math.pow;i({target:"Math",stat:!0},{cbrt:function(e){return r(e=+e)*a(o(e),1/3)}})},function(e,t,n){var i=n(9),r=Math.floor,o=Math.log,a=Math.LOG2E;i({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-r(o(e+.5)*a):32}})},function(e,t,n){var i=n(9),r=n(193),o=Math.cosh,a=Math.abs,s=Math.E;i({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(e){var t=r(a(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},function(e,t,n){var i=n(9),r=n(193);i({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(e,t,n){n(9)({target:"Math",stat:!0},{fround:n(487)})},function(e,t,n){var i=n(233),r=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),l=o(2,127)*(2-s),c=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=r(e),u=i(e);return o<c?u*(o/c/s+1/a-1/a)*c*s:(n=(t=(1+s/a)*o)-(t-o))>l||n!=n?u*(1/0):u*n}},function(e,t,n){var i=n(9),r=Math.abs,o=Math.sqrt;i({target:"Math",stat:!0},{hypot:function(e,t){for(var n,i,a=0,s=0,l=arguments.length,c=0;s<l;)c<(n=r(arguments[s++]))?(a=a*(i=c/n)*i+1,c=n):a+=n>0?(i=n/c)*i:n;return c===1/0?1/0:c*o(a)}})},function(e,t,n){var i=n(9),r=n(18),o=Math.imul;i({target:"Math",stat:!0,forced:r(function(){return-5!=o(4294967295,5)||2!=o.length})},{imul:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(e,t,n){var i=n(9),r=Math.log,o=Math.LOG10E;i({target:"Math",stat:!0},{log10:function(e){return r(e)*o}})},function(e,t,n){n(9)({target:"Math",stat:!0},{log1p:n(298)})},function(e,t,n){var i=n(9),r=Math.log,o=Math.LN2;i({target:"Math",stat:!0},{log2:function(e){return r(e)/o}})},function(e,t,n){var i=n(9),r=n(18),o=n(193),a=Math.abs,s=Math.exp,l=Math.E;i({target:"Math",stat:!0,forced:r(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(e){return a(e=+e)<1?(o(e)-o(-e))/2:(s(e-1)-s(-e-1))*(l/2)}})},function(e,t,n){var i=n(9),r=n(193),o=Math.exp;i({target:"Math",stat:!0},{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){n(107)(Math,"Math",!0)},function(e,t,n){var i=n(9),r=Math.ceil,o=Math.floor;i({target:"Math",stat:!0},{trunc:function(e){return(e>0?o:r)(e)}})},function(e,t,n){n(9)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var i=n(9),r=n(18),o=n(42),a=n(72);i({target:"Date",proto:!0,forced:r(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(e){var t=o(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(9),r=n(500);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},function(e,t,n){"use strict";var i=n(18),r=n(227).start,o=Math.abs,a=Date.prototype,s=a.getTime,l=a.toISOString;e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-5e13-1))})||!i(function(){l.call(new Date(NaN))})?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+r(o(e),n?6:4,0)+"-"+r(this.getUTCMonth()+1,2,0)+"-"+r(this.getUTCDate(),2,0)+"T"+r(this.getUTCHours(),2,0)+":"+r(this.getUTCMinutes(),2,0)+":"+r(this.getUTCSeconds(),2,0)+"."+r(t,3,0)+"Z"}:l},function(e,t,n){var i=n(49),r=n(502),o=n(27)("toPrimitive"),a=Date.prototype;o in a||i(a,o,r)},function(e,t,n){"use strict";var i=n(26),r=n(72);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!==e)}},function(e,t,n){var i=n(20);n(107)(i.JSON,"JSON",!0)},function(e,t,n){var i=n(20);e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var i=n(9),r=n(104),o=n(98),a=n(300);i({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=o(this,r("Promise")),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i,r=n(20),o=n(157),a=n(143),s=n(195),l=n(304),c=n(25),u=n(73).enforce,h=n(181),d=!r.ActiveXObject&&"ActiveXObject"in r,p=Object.isExtensible,f=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=s("WeakMap",f,l,!0,!0);if(h&&d){i=l.getConstructor(f,"WeakMap",!0),a.REQUIRED=!0;var v=m.prototype,g=v.delete,y=v.has,b=v.get,x=v.set;o(v,{delete:function(e){if(c(e)&&!p(e)){var t=u(this);return t.frozen||(t.frozen=new i),g.call(this,e)||t.frozen.delete(e)}return g.call(this,e)},has:function(e){if(c(e)&&!p(e)){var t=u(this);return t.frozen||(t.frozen=new i),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(c(e)&&!p(e)){var t=u(this);return t.frozen||(t.frozen=new i),y.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!p(e)){var n=u(this);n.frozen||(n.frozen=new i),y.call(this,e)?x.call(this,e,t):n.frozen.set(e,t)}else x.call(this,e,t);return this}})}},function(e,t,n){"use strict";n(195)("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(304),!1,!0)},function(e,t,n){"use strict";var i=n(9),r=n(20),o=n(196),a=n(155),s=o.ArrayBuffer;i({global:!0,forced:r.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(e,t,n){var i=n(9),r=n(35);i({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},function(e,t,n){var i=n(9),r=n(196);i({global:!0,forced:!n(35).NATIVE_ARRAY_BUFFER},{DataView:r.DataView})},function(e,t,n){n(117)("Int8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(117)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}},!0)},function(e,t,n){n(117)("Float64",8,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){"use strict";var i=n(237),r=n(35),o=n(307);r.exportStatic("from",o,i)},function(e,t,n){"use strict";var i=n(35),r=n(237),o=i.aTypedArrayConstructor;i.exportStatic("of",function(){for(var e=0,t=arguments.length,n=new(o(this))(t);t>e;)n[e]=arguments[e++];return n},r)},function(e,t,n){var i=n(9),r=n(104),o=n(69),a=n(26),s=n(18),l=r("Reflect","apply"),c=Function.apply;i({target:"Reflect",stat:!0,forced:!s(function(){l(function(){})})},{apply:function(e,t,n){return o(e),a(n),l?l(e,t,n):c.call(e,t,n)}})},function(e,t,n){var i=n(9),r=n(104),o=n(69),a=n(26),s=n(25),l=n(130),c=n(280),u=n(18),h=r("Reflect","construct"),d=u(function(){function e(){}return!(h(function(){},[],e)instanceof e)}),p=!u(function(){h(function(){})}),f=d||p;i({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(p&&!d)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var r=n.prototype,u=l(s(r)?r:Object.prototype),f=Function.apply.call(e,u,t);return s(f)?f:u}})},function(e,t,n){var i=n(9),r=n(31),o=n(26),a=n(72),s=n(38);i({target:"Reflect",stat:!0,forced:n(18)(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!r},{defineProperty:function(e,t,n){o(e);var i=a(t,!0);o(n);try{return s.f(e,i,n),!0}catch(e){return!1}}})},function(e,t,n){var i=n(9),r=n(26),o=n(65).f;i({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=o(r(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var i=n(9),r=n(25),o=n(26),a=n(43),s=n(65),l=n(108);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,c,u=arguments.length<3?t:arguments[2];return o(t)===u?t[n]:(i=s.f(t,n))?a(i,"value")?i.value:void 0===i.get?void 0:i.get.call(u):r(c=l(t))?e(c,n,u):void 0}})},function(e,t,n){var i=n(9),r=n(31),o=n(26),a=n(65);i({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(e,t){return a.f(o(e),t)}})},function(e,t,n){var i=n(9),r=n(26),o=n(108);i({target:"Reflect",stat:!0,sham:!n(220)},{getPrototypeOf:function(e){return o(r(e))}})},function(e,t,n){n(9)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var i=n(9),r=n(26),o=Object.isExtensible;i({target:"Reflect",stat:!0},{isExtensible:function(e){return r(e),!o||o(e)}})},function(e,t,n){n(9)({target:"Reflect",stat:!0},{ownKeys:n(166)})},function(e,t,n){var i=n(9),r=n(104),o=n(26);i({target:"Reflect",stat:!0,sham:!n(173)},{preventExtensions:function(e){o(e);try{var t=r("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},function(e,t,n){var i=n(9),r=n(26),o=n(25),a=n(43),s=n(38),l=n(65),c=n(108),u=n(94);i({target:"Reflect",stat:!0},{set:function e(t,n,i){var h,d,p=arguments.length<4?t:arguments[3],f=l.f(r(t),n);if(!f){if(o(d=c(t)))return e(d,n,i,p);f=u(0)}if(a(f,"value")){if(!1===f.writable||!o(p))return!1;if(h=l.f(p,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=i,s.f(p,n,h)}else s.f(p,n,u(0,i));return!0}return void 0!==f.set&&(f.set.call(p,i),!0)}})},function(e,t,n){var i=n(9),r=n(26),o=n(278),a=n(153);a&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){r(e),o(t);try{return a(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(36),n(51),n(531),n(532),n(533),n(312),n(536),n(314),e.exports=n(122)},function(e,t,n){var i=n(20),r=n(234),o=!i.setImmediate||!i.clearImmediate;n(9)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){var i=n(9),r=n(20),o=n(299),a=n(66),s=r.process,l="process"==a(s);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&s.domain;o(t?t.bind(e):e)}})},function(e,t,n){var i=n(9),r=n(20),o=n(190),a=[].slice,s=function(e){return function(t,n){var i=arguments.length>2,r=i?a.call(arguments,2):void 0;return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(e,t,n){"use strict";var i=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},c=function(e,t,n){var i=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;i+=36)e=a(e/35);return a(i+36*e/(e+38))},u=function(e){var t,n,i=[],r=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,u=128,h=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&i.push(s(n));var p=i.length,f=p;for(p&&i.push("-");f<r;){var m=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<m&&(m=n);var v=f+1;if(m-u>a((2147483647-h)/v))throw RangeError(o);for(h+=(m-u)*v,u=m,t=0;t<e.length;t++){if((n=e[t])<u&&++h>2147483647)throw RangeError(o);if(n==u){for(var g=h,y=36;;y+=36){var b=y<=d?1:y>=d+26?26:y-d;if(g<b)break;var x=g-b,w=36-b;i.push(s(l(b+x%w))),g=a(x/w)}i.push(s(l(g))),d=c(h,v,f==p),h=0,++f}}++h,++u}return i.join("")};e.exports=function(e){var t,n,o=[],a=e.toLowerCase().replace(r,".").split(".");for(t=0;t<a.length;t++)n=a[t],o.push(i.test(n)?"xn--"+u(n):n);return o.join(".")}},function(e,t,n){var i=n(26),r=n(176);e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},function(e,t,n){"use strict";n(9)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(315),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,o,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};function w(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||b}function A(){}function M(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},A.prototype=w.prototype;var E=M.prototype=new A;E.constructor=M,i(E,w.prototype),E.isPureReactComponent=!0;var C={current:null},S={current:null},T=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var i=void 0,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,i)&&!_.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:S.current}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,I=[];function O(e,t,n,i){if(I.length){var r=I.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function R(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return i(r,t,""===n?"."+N(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+N(s=t[c],c);l+=e(s,u,i,r)}else if(u=null===t||"object"!=typeof t?null:"function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+N(s,c++),i,r);else"object"===s&&y("31","[object Object]"==(i=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return l}(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function V(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,i,n,function(e){return e}):null!=e&&(L(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),i.push(e))}function F(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),R(e,B,t=O(t,o,i,r)),D(t)}function z(){var e=C.current;return null===e&&y("321"),e}var U={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return F(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;R(e,V,t=O(null,null,t,n)),D(t)},count:function(e){return R(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){return L(e)||y("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:M,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:s,StrictMode:l,Suspense:f,createElement:P,cloneElement:function(e,t,n){null==e&&y("267",e);var r=void 0,a=i({},e.props),s=e.key,l=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,c=S.current),void 0!==t.key&&(s=""+t.key);var u=void 0;for(r in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)T.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=void 0===t[r]&&void 0!==u?u[r]:t[r])}if(1===(r=arguments.length-2))a.children=n;else if(1<r){u=Array(r);for(var h=0;h<r;h++)u[h]=arguments[h+2];a.children=u}return{$$typeof:o,type:e.type,key:s,ref:l,props:a,_owner:c}},createFactory:function(e){var t=P.bind(null,e);return t.type=e,t},isValidElement:L,version:"16.8.6",unstable_ConcurrentMode:d,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentOwner:S,assign:i}},j={default:U},H=j&&U||j;e.exports=H.default||H},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(0),r=n(315),o=n(539);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,i,r,o,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||a("227");var s=!1,l=null,c=!1,u=null,h={onError:function(e){s=!0,l=e}};function d(e,t,n,i,r,o,a,c,u){s=!1,l=null,function(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(h,arguments)}var p=null,f={};function m(){if(p)for(var e in f){var t=f[e],n=p.indexOf(e);if(-1<n||a("96",e),!g[n])for(var i in t.extractEvents||a("97",e),g[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,l=i;y.hasOwnProperty(l)&&a("99",l),y[l]=o;var c=o.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&v(c[r],s,l);r=!0}else o.registrationName?(v(o.registrationName,s,l),r=!0):r=!1;r||a("98",i,e)}}}function v(e,t,n){b[e]&&a("100",e),b[e]=t,x[e]=t.eventTypes[n].dependencies}var g=[],y={},b={},x={},w=null,A=null,M=null;function E(e,t,n){var i=e.type||"unknown-event";e.currentTarget=M(n),function(e,t,n,i,r,o,h,p,f){if(d.apply(this,arguments),s){if(s){var m=l;s=!1,l=null}else a("198"),m=void 0;c||(c=!0,u=m)}}(i,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function S(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var T=null;function _(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)E(e,t[i],n[i]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var P={injectEventPluginOrder:function(e){p&&a("101"),p=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];f.hasOwnProperty(t)&&f[t]===i||(f[t]&&a("102",t),f[t]=i,n=!0)}n&&m()}};function L(e,t){var n=e.stateNode;if(!n)return null;var i=w(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function k(e){if(null!==e&&(T=C(T,e)),e=T,T=null,e&&(S(e,_),T&&a("95"),c))throw e=u,c=!1,u=null,e}var I=Math.random().toString(36).slice(2),O="__reactInternalInstance$"+I,D="__reactEventHandlers$"+I;function R(e){if(e[O])return e[O];for(;!e[O];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[O]).tag||6===e.tag?e:null}function N(e){return!(e=e[O])||5!==e.tag&&6!==e.tag?null:e}function V(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function B(e){return e[D]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function z(e,t,n){(t=L(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function U(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)z(n[t],"captured",e);for(t=0;t<n.length;t++)z(n[t],"bubbled",e)}}function j(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=L(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function H(e){e&&e.dispatchConfig.registrationName&&j(e._targetInst,null,e)}function G(e){S(e,U)}var W=!("undefined"==typeof window||!window.document||!window.document.createElement);function Q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:Q("Animation","AnimationEnd"),animationiteration:Q("Animation","AnimationIteration"),animationstart:Q("Animation","AnimationStart"),transitionend:Q("Transition","TransitionEnd")},X={},K={};function q(e){if(X[e])return X[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in K)return X[e]=n[t];return e}W&&(K=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var J=q("animationend"),Z=q("animationiteration"),$=q("animationstart"),ee=q("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,ie=null,re=null;function oe(){if(re)return re;var e,t,n=ie,i=n.length,r="value"in ne?ne.value:ne.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return re=r.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function le(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ce(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function ue(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function he(e){e.eventPool=[],e.getPooled=ce,e.release=ue}r(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,he(n),n},he(le);var de=le.extend({data:null}),pe=le.extend({data:null}),fe=[9,13,27,32],me=W&&"CompositionEvent"in window,ve=null;W&&"documentMode"in document&&(ve=document.documentMode);var ge=W&&"TextEvent"in window&&!ve,ye=W&&(!me||ve&&8<ve&&11>=ve),be=String.fromCharCode(32),xe={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function Ae(e,t){switch(e){case"keyup":return-1!==fe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Me(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ee=!1;var Ce={eventTypes:xe,extractEvents:function(e,t,n,i){var r=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":r=xe.compositionStart;break e;case"compositionend":r=xe.compositionEnd;break e;case"compositionupdate":r=xe.compositionUpdate;break e}r=void 0}else Ee?Ae(e,n)&&(r=xe.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=xe.compositionStart);return r?(ye&&"ko"!==n.locale&&(Ee||r!==xe.compositionStart?r===xe.compositionEnd&&Ee&&(o=oe()):(ie="value"in(ne=i)?ne.value:ne.textContent,Ee=!0)),r=de.getPooled(r,t,n,i),o?r.data=o:null!==(o=Me(n))&&(r.data=o),G(r),o=r):o=null,(e=ge?function(e,t){switch(e){case"compositionend":return Me(t);case"keypress":return 32!==t.which?null:(we=!0,be);case"textInput":return(e=t.data)===be&&we?null:e;default:return null}}(e,n):function(e,t){if(Ee)return"compositionend"===e||!me&&Ae(e,t)?(e=oe(),re=ie=ne=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(xe.beforeInput,t,n,i)).data=e,G(t)):t=null,null===o?t:null===t?o:[o,t]}},Se=null,Te=null,_e=null;function Pe(e){if(e=A(e)){"function"!=typeof Se&&a("280");var t=w(e.stateNode);Se(e.stateNode,e.type,t)}}function Le(e){Te?_e?_e.push(e):_e=[e]:Te=e}function ke(){if(Te){var e=Te,t=_e;if(_e=Te=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Ie(e,t){return e(t)}function Oe(e,t,n){return e(t,n)}function De(){}var Re=!1;function Ne(e,t){if(Re)return e(t);Re=!0;try{return Ie(e,t)}finally{Re=!1,(null!==Te||null!==_e)&&(De(),ke())}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ve[e.type]:"textarea"===t}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ze(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ue(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function je(e){e._valueTracker||(e._valueTracker=function(e){var t=Ue(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ue(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}var Ge=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ge.hasOwnProperty("ReactCurrentDispatcher")||(Ge.ReactCurrentDispatcher={current:null});var We=/^(.*)[\\\/]/,Qe="function"==typeof Symbol&&Symbol.for,Ye=Qe?Symbol.for("react.element"):60103,Xe=Qe?Symbol.for("react.portal"):60106,Ke=Qe?Symbol.for("react.fragment"):60107,qe=Qe?Symbol.for("react.strict_mode"):60108,Je=Qe?Symbol.for("react.profiler"):60114,Ze=Qe?Symbol.for("react.provider"):60109,$e=Qe?Symbol.for("react.context"):60110,et=Qe?Symbol.for("react.concurrent_mode"):60111,tt=Qe?Symbol.for("react.forward_ref"):60112,nt=Qe?Symbol.for("react.suspense"):60113,it=Qe?Symbol.for("react.memo"):60115,rt=Qe?Symbol.for("react.lazy"):60116,ot="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ke:return"Fragment";case Xe:return"Portal";case Je:return"Profiler";case qe:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case $e:return"Context.Consumer";case Ze:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case it:return st(e.type);case rt:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=st(e.type);n=null,i&&(n=st(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(We,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ut=Object.prototype.hasOwnProperty,ht={},dt={};function pt(e,t,n,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new pt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ft[e]=new pt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ft[e]=new pt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ft[e]=new pt(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function gt(e,t,n,i){var r=ft.hasOwnProperty(t)?ft[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!ut.call(dt,e)||!ut.call(ht,e)&&(ct.test(e)?dt[e]=!0:(ht[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xt(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function At(e,t){wt(e,t);var n=yt(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Et(e,t.type,n):t.hasOwnProperty("defaultValue")&&Et(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Mt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Et(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,vt);ft[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,vt);ft[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,vt);ft[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new pt(e,1,!1,e.toLowerCase(),null)});var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function St(e,t,n){return(e=le.getPooled(Ct.change,e,t,n)).type="change",Le(n),G(e),e}var Tt=null,_t=null;function Pt(e){k(e)}function Lt(e){if(He(V(e)))return e}function kt(e,t){if("change"===e)return t}var It=!1;function Ot(){Tt&&(Tt.detachEvent("onpropertychange",Dt),_t=Tt=null)}function Dt(e){"value"===e.propertyName&&Lt(_t)&&Ne(Pt,e=St(_t,e,Fe(e)))}function Rt(e,t,n){"focus"===e?(Ot(),_t=n,(Tt=t).attachEvent("onpropertychange",Dt)):"blur"===e&&Ot()}function Nt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lt(_t)}function Vt(e,t){if("click"===e)return Lt(t)}function Bt(e,t){if("input"===e||"change"===e)return Lt(t)}W&&(It=ze("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:Ct,_isInputEventSupported:It,extractEvents:function(e,t,n,i){var r=t?V(t):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type?o=kt:Be(r)?It?o=Bt:(o=Nt,a=Rt):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Vt),o&&(o=o(e,t)))return St(o,n,i);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Et(r,"number",r.value)}},zt=le.extend({view:null,detail:null}),Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ut[e])&&!!t[e]}function Ht(){return jt}var Gt=0,Wt=0,Qt=!1,Yt=!1,Xt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,Qt?"mousemove"===e.type?e.screenX-t:0:(Qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Wt;return Wt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),Kt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),qt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jt={eventTypes:qt,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?R(t):null):o=null,o===t)return null;var a=void 0,s=void 0,l=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,s=qt.mouseLeave,l=qt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Kt,s=qt.pointerLeave,l=qt.pointerEnter,c="pointer");var u=null==o?r:V(o);if(r=null==t?r:V(t),(e=a.getPooled(s,o,n,i)).type=c+"leave",e.target=u,e.relatedTarget=r,(n=a.getPooled(l,t,n,i)).type=c+"enter",n.target=r,n.relatedTarget=u,i=t,o&&i)e:{for(r=i,c=0,a=t=o;a;a=F(a))c++;for(a=0,l=r;l;l=F(l))a++;for(;0<c-a;)t=F(t),c--;for(;0<a-c;)r=F(r),a--;for(;c--;){if(t===r||t===r.alternate)break e;t=F(t),r=F(r)}t=null}else t=null;for(r=t,t=[];o&&o!==r&&(null===(c=o.alternate)||c!==r);)t.push(o),o=F(o);for(o=[];i&&i!==r&&(null===(c=i.alternate)||c!==r);)o.push(i),i=F(i);for(i=0;i<t.length;i++)j(t[i],"bubbled",e);for(i=o.length;0<i--;)j(o[i],"captured",n);return[e,n]}};function Zt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var $t=Object.prototype.hasOwnProperty;function en(e,t){if(Zt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!$t.call(t,n[i])||!Zt(e[n[i]],t[n[i]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,i=t;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var s=r.child;s;){if(s===n)return nn(r),e;if(s===i)return nn(r),t;s=s.sibling}a("188")}if(n.return!==i.return)n=r,i=o;else{s=!1;for(var l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}s||a("189")}}n.alternate!==i&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=zt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn=zt.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dn=Xt.extend({dataTransfer:null}),pn=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),fn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[J,"animationEnd"],[Z,"animationIteration"],[$,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],gn={},yn={};function bn(e,t){var n=e[0],i="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:t},gn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),vn.forEach(function(e){bn(e,!1)});var xn={eventTypes:gn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,i){var r=yn[e];if(!r)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=hn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=pn;break;case J:case Z:case $:e=on;break;case ee:e=fn;break;case"scroll":e=zt;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Kt;break;default:e=le}return G(t=e.getPooled(r,t,n,i)),t}},wn=xn.isInteractiveTopLevelEventType,An=[];function Mn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;e.ancestors.push(n),n=R(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=Fe(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<g.length;s++){var l=g[s];l&&(l=l.extractEvents(i,t,o,r))&&(a=C(a,l))}k(a)}}var En=!0;function Cn(e,t){if(!t)return null;var n=(wn(e)?Tn:_n).bind(null,e);t.addEventListener(e,n,!1)}function Sn(e,t){if(!t)return null;var n=(wn(e)?Tn:_n).bind(null,e);t.addEventListener(e,n,!0)}function Tn(e,t){Oe(_n,e,t)}function _n(e,t){if(En){var n=Fe(t);if(null===(n=R(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),An.length){var i=An.pop();i.topLevelType=e,i.nativeEvent=t,i.targetInst=n,e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Ne(Mn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>An.length&&An.push(e)}}}var Pn={},Ln=0,kn="_reactListenersID"+(""+Math.random()).slice(2);function In(e){return Object.prototype.hasOwnProperty.call(e,kn)||(e[kn]=Ln++,Pn[e[kn]]={}),Pn[e[kn]]}function On(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rn(e,t){var n,i=Dn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dn(i)}}function Nn(){for(var e=window,t=On();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=On((e=t.contentWindow).document)}return t}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Bn(e){var t=Nn(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==i&&Vn(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=Rn(n,o);var a=Rn(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fn=W&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Un=null,jn=null,Hn=null,Gn=!1;function Wn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Gn||null==Un||Un!==On(n)?null:("selectionStart"in(n=Un)&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&en(Hn,n)?null:(Hn=n,(e=le.getPooled(zn.select,jn,e,t)).type="select",e.target=Un,G(e),e))}var Qn={eventTypes:zn,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=In(o),r=x.onSelect;for(var a=0;a<r.length;a++){var s=r[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}r=!o}if(r)return null;switch(o=t?V(t):window,e){case"focus":(Be(o)||"true"===o.contentEditable)&&(Un=o,jn=t,Hn=null);break;case"blur":Hn=jn=Un=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gn=!1,Wn(n,i);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Wn(n,i)}return null}};function Yn(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Kn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Jn(e,t){var n=yt(t.value),i=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Zn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=B,A=N,M=V,P.injectEventPluginsByName({SimpleEventPlugin:xn,EnterLeaveEventPlugin:Jt,ChangeEventPlugin:Ft,SelectEventPlugin:Qn,BeforeInputEventPlugin:Ce});var $n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ei(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ti(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ei(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ni,ii=void 0,ri=(ni=function(e,t){if(e.namespaceURI!==$n.svg||"innerHTML"in e)e.innerHTML=t;else{for((ii=ii||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ni(e,t)})}:ni);function oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ai={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];function li(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ai.hasOwnProperty(e)&&ai[e]?(""+t).trim():t+"px"}function ci(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=li(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(ai).forEach(function(e){si.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ai[t]=ai[e]})});var ui=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hi(e,t){t&&(ui[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function di(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pi(e,t){var n=In(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":Sn("scroll",e);break;case"focus":case"blur":Sn("focus",e),Sn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ze(r)&&Sn(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(r)&&Cn(r,e)}n[r]=!0}}}function fi(){}var mi=null,vi=null;function gi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bi="function"==typeof setTimeout?setTimeout:void 0,xi="function"==typeof clearTimeout?clearTimeout:void 0,wi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback;function Mi(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Ei(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Ci=[],Si=-1;function Ti(e){0>Si||(e.current=Ci[Si],Ci[Si]=null,Si--)}function _i(e,t){Ci[++Si]=e.current,e.current=t}var Pi={},Li={current:Pi},ki={current:!1},Ii=Pi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Pi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!=(e=e.childContextTypes)}function Ri(e){Ti(ki),Ti(Li)}function Ni(e){Ti(ki),Ti(Li)}function Vi(e,t,n){Li.current!==Pi&&a("168"),_i(Li,t),_i(ki,n)}function Bi(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())o in e||a("108",st(t)||"Unknown",o);return r({},n,i)}function Fi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Pi,Ii=Li.current,_i(Li,t),_i(ki,ki.current),!0}function zi(e,t,n){var i=e.stateNode;i||a("169"),n?(t=Bi(e,t,Ii),i.__reactInternalMemoizedMergedChildContext=t,Ti(ki),Ti(Li),_i(Li,t)):Ti(ki),_i(ki,n)}var Ui=null,ji=null;function Hi(e){return function(t){try{return e(t)}catch(e){}}}function Gi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Wi(e,t,n,i){return new Gi(e,t,n,i)}function Qi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yi(e,t){var n=e.alternate;return null===n?((n=Wi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xi(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)Qi(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Ke:return Ki(n.children,r,o,t);case et:return qi(n,3|r,o,t);case qe:return qi(n,2|r,o,t);case Je:return(e=Wi(12,n,t,4|r)).elementType=Je,e.type=Je,e.expirationTime=o,e;case nt:return(e=Wi(13,n,t,r)).elementType=nt,e.type=nt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ze:s=10;break e;case $e:s=9;break e;case tt:s=11;break e;case it:s=14;break e;case rt:s=16,i=null;break e}a("130",null==e?e:typeof e,"")}return(t=Wi(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Ki(e,t,n,i){return(e=Wi(7,e,i,t)).expirationTime=n,e}function qi(e,t,n,i){return e=Wi(8,e,i,t),t=0==(1&t)?qe:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Ji(e,t,n){return(e=Wi(6,e,null,t)).expirationTime=n,e}function Zi(e,t,n){return(t=Wi(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $i(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),nr(t,e)}function er(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,i=e.latestPendingTime;n===t?e.earliestPendingTime=i===t?e.latestPendingTime=0:i:i===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,i=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:i>t&&(e.latestSuspendedTime=t),nr(t,e)}function tr(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function nr(e,t){var n=t.earliestSuspendedTime,i=t.latestSuspendedTime,r=t.earliestPendingTime,o=t.latestPingedTime;0===(r=0!==r?r:o)&&(0===e||i<e)&&(r=i),0!==(e=r)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=r,t.expirationTime=e}function ir(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var rr=(new i.Component).refs;function or(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var ar={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=As(),r=qo(i=Ka(i,e));r.payload=t,null!=n&&(r.callback=n),Ha(),Zo(e,r),Za(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=As(),r=qo(i=Ka(i,e));r.tag=Go,r.payload=t,null!=n&&(r.callback=n),Ha(),Zo(e,r),Za(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=As(),i=qo(n=Ka(n,e));i.tag=Wo,null!=t&&(i.callback=t),Ha(),Zo(e,i),Za(e,n)}};function sr(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,i)||!en(r,o))}function lr(e,t,n){var i=!1,r=Pi,o=t.contextType;return"object"==typeof o&&null!==o?o=jo(o):(r=Di(t)?Ii:Li.current,o=(i=null!=(i=t.contextTypes))?Oi(e,r):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ar,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function cr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ar.enqueueReplaceState(t,t.state,null)}function ur(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=rr;var o=t.contextType;"object"==typeof o&&null!==o?r.context=jo(o):(o=Di(t)?Ii:Li.current,r.context=Oi(e,o)),null!==(o=e.updateQueue)&&(na(e,o,n,r,i),r.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(or(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ar.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(na(e,o,n,r,i),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var hr=Array.isArray;function dr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;n&&(1!==n.tag&&a("309"),i=n.stateNode),i||a("147",e);var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===rr&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function pr(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function fr(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=Yi(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Ji(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=dr(e,t,n),i.return=e,i):((i=Xi(n.type,n.key,n.props,null,e.mode,i)).ref=dr(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Ki(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ji(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Xi(t.type,t.key,t.props,null,e.mode,n)).ref=dr(e,null,t),n.return=e,n;case Xe:return(t=Zi(t,e.mode,n)).return=e,t}if(hr(t)||at(t))return(t=Ki(t,e.mode,n,null)).return=e,t;pr(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===r?n.type===Ke?h(e,t,n.props.children,i,r):c(e,t,n,i):null;case Xe:return n.key===r?u(e,t,n,i):null}if(hr(n)||at(n))return null!==r?null:h(e,t,n,i,null);pr(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Ye:return e=e.get(null===i.key?n:i.key)||null,i.type===Ke?h(t,e,i.props.children,r,i.key):c(t,e,i,r);case Xe:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(hr(i)||at(i))return h(t,e=e.get(n)||null,i,r,null);pr(t,i)}return null}function m(r,a,s,l){for(var c=null,u=null,h=a,m=a=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=p(r,h,s[m],l);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(r,h),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g,h=v}if(m===s.length)return n(r,h),c;if(null===h){for(;m<s.length;m++)(h=d(r,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=i(r,h);m<s.length;m++)(v=f(h,r,m,s[m],l))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&h.forEach(function(e){return t(r,e)}),c}function v(r,s,l,c){var u=at(l);"function"!=typeof u&&a("150"),null==(l=u.call(l))&&a("151");for(var h=u=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(r,m,y.value,c);if(null===b){m||(m=g);break}e&&m&&null===b.alternate&&t(r,m),s=o(b,s,v),null===h?u=b:h.sibling=b,h=b,m=g}if(y.done)return n(r,m),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=d(r,y.value,c))&&(s=o(y,s,v),null===h?u=y:h.sibling=y,h=y);return u}for(m=i(r,m);!y.done;v++,y=l.next())null!==(y=f(m,r,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(r,e)}),u}return function(e,i,o,l){var c="object"==typeof o&&null!==o&&o.type===Ke&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case Ye:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){if(7===c.tag?o.type===Ke:c.elementType===o.type){n(e,c.sibling),(i=r(c,o.type===Ke?o.props.children:o.props)).ref=dr(e,c,o),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===Ke?((i=Ki(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Xi(o.type,o.key,o.props,null,e.mode,l)).ref=dr(e,i,o),l.return=e,e=l)}return s(e);case Xe:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Zi(o,e.mode,l)).return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Ji(o,e.mode,l)).return=e,e=i),s(e);if(hr(o))return m(e,i,o,l);if(at(o))return v(e,i,o,l);if(u&&pr(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:a("152",(l=e.type).displayName||l.name||"Component")}return n(e,i)}}var mr=fr(!0),vr=fr(!1),gr={},yr={current:gr},br={current:gr},xr={current:gr};function wr(e){return e===gr&&a("174"),e}function Ar(e,t){_i(xr,t),_i(br,e),_i(yr,gr);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ti(null,"");break;default:t=ti(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ti(yr),_i(yr,t)}function Mr(e){Ti(yr),Ti(br),Ti(xr)}function Er(e){wr(xr.current);var t=wr(yr.current),n=ti(t,e.type);t!==n&&(_i(br,e),_i(yr,n))}function Cr(e){br.current===e&&(Ti(yr),Ti(br))}var Sr=0,Tr=2,_r=4,Pr=8,Lr=16,kr=32,Ir=64,Or=128,Dr=Ge.ReactCurrentDispatcher,Rr=0,Nr=null,Vr=null,Br=null,Fr=null,zr=null,Ur=null,jr=0,Hr=null,Gr=0,Wr=!1,Qr=null,Yr=0;function Xr(){a("321")}function Kr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function qr(e,t,n,i,r,o){if(Rr=o,Nr=t,Br=null!==e?e.memoizedState:null,Dr.current=null===Br?co:uo,t=n(i,r),Wr){do{Wr=!1,Yr+=1,Br=null!==e?e.memoizedState:null,Ur=Fr,Hr=zr=Vr=null,Dr.current=uo,t=n(i,r)}while(Wr);Qr=null,Yr=0}return Dr.current=lo,(e=Nr).memoizedState=Fr,e.expirationTime=jr,e.updateQueue=Hr,e.effectTag|=Gr,e=null!==Vr&&null!==Vr.next,Rr=0,Ur=zr=Fr=Br=Vr=Nr=null,jr=0,Hr=null,Gr=0,e&&a("300"),t}function Jr(){Dr.current=lo,Rr=0,Ur=zr=Fr=Br=Vr=Nr=null,jr=0,Hr=null,Gr=0,Wr=!1,Qr=null,Yr=0}function Zr(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===zr?Fr=zr=e:zr=zr.next=e,zr}function $r(){if(null!==Ur)Ur=(zr=Ur).next,Br=null!==(Vr=Br)?Vr.next:null;else{null===Br&&a("310");var e={memoizedState:(Vr=Br).memoizedState,baseState:Vr.baseState,queue:Vr.queue,baseUpdate:Vr.baseUpdate,next:null};zr=null===zr?Fr=e:zr.next=e,Br=Vr.next}return zr}function eo(e,t){return"function"==typeof t?t(e):t}function to(e){var t=$r(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<Yr){var i=n.dispatch;if(null!==Qr){var r=Qr.get(n);if(void 0!==r){Qr.delete(n);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return Zt(o,t.memoizedState)||(Ao=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,i]}}return[t.memoizedState,i]}i=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==i&&(i.next=null),i=s.next):i=null!==i?i.next:null,null!==i){var l=r=null,c=i,u=!1;do{var h=c.expirationTime;h<Rr?(u||(u=!0,l=s,r=o),h>jr&&(jr=h)):o=c.eagerReducer===e?c.eagerState:e(o,c.action),s=c,c=c.next}while(null!==c&&c!==i);u||(l=s,r=o),Zt(o,t.memoizedState)||(Ao=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=r,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function no(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===Hr?(Hr={lastEffect:null}).lastEffect=e.next=e:null===(t=Hr.lastEffect)?Hr.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Hr.lastEffect=e),e}function io(e,t,n,i){var r=Zr();Gr|=e,r.memoizedState=no(t,n,void 0,void 0===i?null:i)}function ro(e,t,n,i){var r=$r();i=void 0===i?null:i;var o=void 0;if(null!==Vr){var a=Vr.memoizedState;if(o=a.destroy,null!==i&&Kr(i,a.deps))return void no(Sr,n,o,i)}Gr|=e,r.memoizedState=no(t,n,o,i)}function oo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ao(){}function so(e,t,n){25>Yr||a("301");var i=e.alternate;if(e===Nr||null!==i&&i===Nr)if(Wr=!0,e={expirationTime:Rr,action:n,eagerReducer:null,eagerState:null,next:null},null===Qr&&(Qr=new Map),void 0===(n=Qr.get(t)))Qr.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Ha();var r=As(),o={expirationTime:r=Ka(r,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var c=t.lastRenderedState,u=i(c,n);if(o.eagerReducer=i,o.eagerState=u,Zt(u,c))return}catch(e){}Za(e,r)}}var lo={readContext:jo,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr},co={readContext:jo,useCallback:function(e,t){return Zr().memoizedState=[e,void 0===t?null:t],e},useContext:jo,useEffect:function(e,t){return io(516,Or|Ir,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,io(4,_r|kr,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return io(4,_r|kr,e,t)},useMemo:function(e,t){var n=Zr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Zr();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=so.bind(null,Nr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Zr().memoizedState=e},useState:function(e){var t=Zr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=so.bind(null,Nr,e),[t.memoizedState,e]},useDebugValue:ao},uo={readContext:jo,useCallback:function(e,t){var n=$r();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Kr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)},useContext:jo,useEffect:function(e,t){return ro(516,Or|Ir,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ro(4,_r|kr,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4,_r|kr,e,t)},useMemo:function(e,t){var n=$r();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Kr(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:to,useRef:function(){return $r().memoizedState},useState:function(e){return to(eo)},useDebugValue:ao},ho=null,po=null,fo=!1;function mo(e,t){var n=Wi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function go(e){if(fo){var t=po;if(t){var n=t;if(!vo(e,t)){if(!(t=Mi(n))||!vo(e,t))return e.effectTag|=2,fo=!1,void(ho=e);mo(ho,n)}ho=e,po=Ei(t)}else e.effectTag|=2,fo=!1,ho=e}}function yo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;ho=e}function bo(e){if(e!==ho)return!1;if(!fo)return yo(e),fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yi(t,e.memoizedProps))for(t=po;t;)mo(e,t),t=Mi(t);return yo(e),po=ho?Mi(e.stateNode):null,!0}function xo(){po=ho=null,fo=!1}var wo=Ge.ReactCurrentOwner,Ao=!1;function Mo(e,t,n,i){t.child=null===e?vr(t,null,n,i):mr(t,e.child,n,i)}function Eo(e,t,n,i,r){n=n.render;var o=t.ref;return Uo(t,r),i=qr(e,t,n,i,o,r),null===e||Ao?(t.effectTag|=1,Mo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Oo(e,t,r))}function Co(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Qi(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xi(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,So(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(r,i)&&e.ref===t.ref)?Oo(e,t,o):(t.effectTag|=1,(e=Yi(a,i)).ref=t.ref,e.return=t,t.child=e)}function So(e,t,n,i,r,o){return null!==e&&en(e.memoizedProps,i)&&e.ref===t.ref&&(Ao=!1,r<o)?Oo(e,t,o):_o(e,t,n,i,o)}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function _o(e,t,n,i,r){var o=Di(n)?Ii:Li.current;return o=Oi(t,o),Uo(t,r),n=qr(e,t,n,i,o,r),null===e||Ao?(t.effectTag|=1,Mo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Oo(e,t,r))}function Po(e,t,n,i,r){if(Di(n)){var o=!0;Fi(t)}else o=!1;if(Uo(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),lr(t,n,i),ur(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=jo(c):c=Oi(t,c=Di(n)?Ii:Li.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&cr(t,a,i,c),Yo=!1;var d=t.memoizedState;l=a.state=d;var p=t.updateQueue;null!==p&&(na(t,p,i,a,r),l=t.memoizedState),s!==i||d!==l||ki.current||Yo?("function"==typeof u&&(or(t,n,u,i),l=t.memoizedState),(s=Yo||sr(t,n,s,i,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:ir(t.type,s),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=jo(c):c=Oi(t,c=Di(n)?Ii:Li.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&cr(t,a,i,c),Yo=!1,l=t.memoizedState,d=a.state=l,null!==(p=t.updateQueue)&&(na(t,p,i,a,r),d=t.memoizedState),s!==i||l!==d||ki.current||Yo?("function"==typeof u&&(or(t,n,u,i),d=t.memoizedState),(u=Yo||sr(t,n,s,i,l,d,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=c,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Lo(e,t,n,i,o,r)}function Lo(e,t,n,i,r,o){To(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&zi(t,n,!1),Oo(e,t,o);i=t.stateNode,wo.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=mr(t,e.child,null,o),t.child=mr(t,null,s,o)):Mo(e,t,s,o),t.memoizedState=i.state,r&&zi(t,n,!0),t.child}function ko(e){var t=e.stateNode;t.pendingContext?Vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Vi(0,t.context,!1),Ar(e,t.containerInfo)}function Io(e,t,n){var i=t.mode,r=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=r.fallback;e=Ki(null,i,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),i=Ki(s,i,n,null),e.sibling=i,(n=e).return=i.return=t}else n=i=vr(t,null,r.children,n);else null!==e.memoizedState?(s=(i=e.child).sibling,a?(n=r.fallback,r=Yi(i,i.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==i.child&&(r.child=a)),i=r.sibling=Yi(s,n,s.expirationTime),n=r,r.childExpirationTime=0,n.return=i.return=t):n=i=mr(t,i.child,r.children,n)):(s=e.child,a?(a=r.fallback,(r=Ki(null,i,0,null)).child=s,0==(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),(i=r.sibling=Ki(a,i,n,null)).effectTag|=2,n=r,r.childExpirationTime=0,n.return=i.return=t):i=n=mr(t,s,r.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,i}function Oo(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Yi(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yi(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Do(e,t,n){var i=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||ki.current)Ao=!0;else if(i<n){switch(Ao=!1,t.tag){case 3:ko(t),xo();break;case 5:Er(t);break;case 1:Di(t.type)&&Fi(t);break;case 4:Ar(t,t.stateNode.containerInfo);break;case 10:Fo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Io(e,t,n):null!==(t=Oo(e,t,n))?t.sibling:null}return Oo(e,t,n)}}else Ao=!1;switch(t.expirationTime=0,t.tag){case 2:i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var r=Oi(t,Li.current);if(Uo(t,n),r=qr(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Jr(),Di(i)){var o=!0;Fi(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var s=i.getDerivedStateFromProps;"function"==typeof s&&or(t,i,s,e),r.updater=ar,t.stateNode=r,r._reactInternalFiber=t,ur(t,i,e,n),t=Lo(null,t,i,!0,o,n)}else t.tag=0,Mo(null,t,r,n),t=t.child;return t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(r),t.type=e,r=t.tag=function(e){if("function"==typeof e)return Qi(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===it)return 14}return 2}(e),o=ir(e,o),s=void 0,r){case 0:s=_o(null,t,e,o,n);break;case 1:s=Po(null,t,e,o,n);break;case 11:s=Eo(null,t,e,o,n);break;case 14:s=Co(null,t,e,ir(e.type,o),i,n);break;default:a("306",e,"")}return s;case 0:return i=t.type,r=t.pendingProps,_o(e,t,i,r=t.elementType===i?r:ir(i,r),n);case 1:return i=t.type,r=t.pendingProps,Po(e,t,i,r=t.elementType===i?r:ir(i,r),n);case 3:return ko(t),null===(i=t.updateQueue)&&a("282"),r=null!==(r=t.memoizedState)?r.element:null,na(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?(xo(),t=Oo(e,t,n)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(po=Ei(t.stateNode.containerInfo),ho=t,r=fo=!0),r?(t.effectTag|=2,t.child=vr(t,null,i,n)):(Mo(e,t,i,n),xo()),t=t.child),t;case 5:return Er(t),null===e&&go(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,yi(i,r)?s=null:null!==o&&yi(i,o)&&(t.effectTag|=16),To(e,t),1!==n&&1&t.mode&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Mo(e,t,s,n),t=t.child),t;case 6:return null===e&&go(t),null;case 13:return Io(e,t,n);case 4:return Ar(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=mr(t,null,i,n):Mo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Eo(e,t,i,r=t.elementType===i?r:ir(i,r),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,Fo(t,o=r.value),null!==s){var l=s.value;if(0===(o=Zt(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!ki.current){t=Oo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.contextDependencies;if(null!==c){s=l.child;for(var u=c.first;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===l.tag&&((u=qo(n)).tag=Wo,Zo(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),u=n;for(var h=l.return;null!==h;){var d=h.alternate;if(h.childExpirationTime<u)h.childExpirationTime=u,null!==d&&d.childExpirationTime<u&&(d.childExpirationTime=u);else{if(!(null!==d&&d.childExpirationTime<u))break;d.childExpirationTime=u}h=h.return}c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Mo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,Uo(t,n),i=i(r=jo(r,o.unstable_observedBits)),t.effectTag|=1,Mo(e,t,i,n),t.child;case 14:return o=ir(r=t.type,t.pendingProps),Co(e,t,r,o=ir(r.type,o),i,n);case 15:return So(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ir(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Di(i)?(e=!0,Fi(t)):e=!1,Uo(t,n),lr(t,i,r),ur(t,i,r,n),Lo(null,t,i,!0,e,n)}a("156")}var Ro={current:null},No=null,Vo=null,Bo=null;function Fo(e,t){var n=e.type._context;_i(Ro,n._currentValue),n._currentValue=t}function zo(e){var t=Ro.current;Ti(Ro),e.type._context._currentValue=t}function Uo(e,t){No=e,Bo=Vo=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(Ao=!0),e.contextDependencies=null}function jo(e,t){return Bo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Bo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Vo?(null===No&&a("308"),Vo=t,No.contextDependencies={first:t,expirationTime:0}):Vo=Vo.next=t),e._currentValue}var Ho=0,Go=1,Wo=2,Qo=3,Yo=!1;function Xo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ko(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function qo(e){return{expirationTime:e,tag:Ho,payload:null,callback:null,next:null,nextEffect:null}}function Jo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Zo(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=Xo(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=Xo(e.memoizedState),r=n.updateQueue=Xo(n.memoizedState)):i=e.updateQueue=Ko(r):null===r&&(r=n.updateQueue=Ko(i));null===r||i===r?Jo(i,t):null===i.lastUpdate||null===r.lastUpdate?(Jo(i,t),Jo(r,t)):(Jo(i,t),r.lastUpdate=t)}function $o(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Xo(e.memoizedState):ea(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ea(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ko(t)),t}function ta(e,t,n,i,o,a){switch(n.tag){case Go:return"function"==typeof(e=n.payload)?e.call(a,i,o):e;case Qo:e.effectTag=-2049&e.effectTag|64;case Ho:if(null==(o="function"==typeof(e=n.payload)?e.call(a,i,o):e))break;return r({},i,o);case Wo:Yo=!0}return i}function na(e,t,n,i,r){Yo=!1;for(var o=(t=ea(e,t)).baseState,a=null,s=0,l=t.firstUpdate,c=o;null!==l;){var u=l.expirationTime;u<r?(null===a&&(a=l,o=c),s<u&&(s=u)):(c=ta(e,0,l,c,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<r?(null===u&&(u=l,null===a&&(o=c)),s<h&&(s=h)):(c=ta(e,0,l,c,n,i),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=u,e.expirationTime=s,e.memoizedState=c}function ia(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ra(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ra(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ra(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;"function"!=typeof n&&a("191",n),n.call(i)}e=e.nextEffect}}function oa(e,t){return{value:e,source:t,stack:lt(t)}}function aa(e){e.effectTag|=4}var sa=void 0,la=void 0,ca=void 0,ua=void 0;sa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},la=function(){},ca=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s=t.stateNode;switch(wr(yr.current),e=null,n){case"input":a=bt(s,a),i=bt(s,i),e=[];break;case"option":a=Yn(s,a),i=Yn(s,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Kn(s,a),i=Kn(s,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(s.onclick=fi)}hi(n,i),s=n=void 0;var l=null;for(n in a)if(!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var u=i[n];if(c=null!=a?a[n]:void 0,i.hasOwnProperty(n)&&u!==c&&(null!=u||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(l||(l={}),l[s]=u[s])}else l||(e||(e=[]),e.push(n,l)),l=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(n,""+u)):"children"===n?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=u&&pi(o,n),e||c===u||(e=[])):(e=e||[]).push(n,u))}l&&(e=e||[]).push("style",l),o=e,(t.updateQueue=o)&&aa(t)}},ua=function(e,t,n,i){n!==i&&aa(t)};var ha="function"==typeof WeakSet?WeakSet:Set;function da(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function pa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Xa(e,t)}else t.current=null}function fa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)!==Sr){var r=i.destroy;i.destroy=void 0,void 0!==r&&r()}(i.tag&t)!==Sr&&(r=i.create,i.destroy=r()),i=i.next}while(i!==n)}}function ma(e){switch("function"==typeof ji&&ji(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var i=n.destroy;if(void 0!==i){var r=e;try{i()}catch(e){Xa(r,e)}}n=n.next}while(n!==t)}break;case 1:if(pa(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xa(e,t)}break;case 5:pa(e);break;case 4:ya(e)}}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(va(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:a("161")}16&n.effectTag&&(oi(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){if(5===r.tag||6===r.tag)if(n)if(i){var o=t,s=r.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else t.insertBefore(r.stateNode,n);else i?(s=t,l=r.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(l,s):(o=s).appendChild(l),null!=(s=s._reactRootContainer)||null!==o.onclick||(o.onclick=fi)):t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ya(e){for(var t=e,n=!1,i=void 0,r=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:i=n.stateNode,r=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,r=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(ma(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(o=i,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){i=t.stateNode.containerInfo,r=!0,t.child.return=t,t=t.child;continue}}else if(ma(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fa(_r,Pr,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var r=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,i,r){e[D]=r,"input"===n&&"radio"===r.type&&null!=r.name&&wt(e,r),di(n,i),i=di(n,r);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?ci(e,s):"dangerouslySetInnerHTML"===a?ri(e,s):"children"===a?oi(e,s):gt(e,a,s,i)}switch(n){case"input":At(e,r);break;case"textarea":Jn(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,null!=(n=r.value)?Xn(e,!!r.multiple,n,!1):t!==!!r.multiple&&(null!=r.defaultValue?Xn(e,!!r.multiple,r.defaultValue,!0):Xn(e,!!r.multiple,r.multiple?[]:"",!1))}}(n,o,r,e,i)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,i=void 0,e=t,null===n?i=!1:(i=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=As())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)i.style.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=null!=r&&r.hasOwnProperty("display")?r.display:null,i.style.display=li("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(i=n.child.sibling).return=n,n=i;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,i),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new ha),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Ka(t=As(),e),null!==(e=Ja(e,t))&&($i(e,t),0!==(t=e.expirationTime)&&Ms(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:a("163")}}var xa="function"==typeof WeakMap?WeakMap:Map;function wa(e,t,n){(n=qo(n)).tag=Qo,n.payload={element:null};var i=t.value;return n.callback=function(){Is(i),da(e,t)},n}function Aa(e,t,n){(n=qo(n)).tag=Qo;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Ba?Ba=new Set([this]):Ba.add(this));var n=t.value,r=t.stack;da(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Ma(e){switch(e.tag){case 1:Di(e.type)&&Ri();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Mr(),Ni(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Cr(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Mr(),null;case 10:return zo(e),null;default:return null}}var Ea=Ge.ReactCurrentDispatcher,Ca=Ge.ReactCurrentOwner,Sa=1073741822,Ta=!1,_a=null,Pa=null,La=0,ka=-1,Ia=!1,Oa=null,Da=!1,Ra=null,Na=null,Va=null,Ba=null;function Fa(){if(null!==_a)for(var e=_a.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Ri();break;case 3:Mr(),Ni();break;case 5:Cr(t);break;case 4:Mr();break;case 10:zo(t)}e=e.return}Pa=null,La=0,ka=-1,Ia=!1,_a=null}function za(){for(;null!==Oa;){var e=Oa.effectTag;if(16&e&&oi(Oa.stateNode,""),128&e){var t=Oa.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:ga(Oa),Oa.effectTag&=-3;break;case 6:ga(Oa),Oa.effectTag&=-3,ba(Oa.alternate,Oa);break;case 4:ba(Oa.alternate,Oa);break;case 8:ya(e=Oa),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Oa=Oa.nextEffect}}function Ua(){for(;null!==Oa;){if(256&Oa.effectTag)e:{var e=Oa.alternate,t=Oa;switch(t.tag){case 0:case 11:case 15:fa(Tr,Sr,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ir(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Oa=Oa.nextEffect}}function ja(e,t){for(;null!==Oa;){var n=Oa.effectTag;if(36&n){var i=Oa.alternate,r=Oa,o=t;switch(r.tag){case 0:case 11:case 15:fa(Lr,kr,r);break;case 1:var s=r.stateNode;if(4&r.effectTag)if(null===i)s.componentDidMount();else{var l=r.elementType===r.type?i.memoizedProps:ir(r.type,i.memoizedProps);s.componentDidUpdate(l,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(i=r.updateQueue)&&ia(0,i,s);break;case 3:if(null!==(i=r.updateQueue)){if(s=null,null!==r.child)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}ia(0,i,s)}break;case 5:o=r.stateNode,null===i&&4&r.effectTag&&gi(r.type,r.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(r=Oa.ref)&&(o=Oa.stateNode,"function"==typeof r?r(o):r.current=o)),512&n&&(Ra=e),Oa=Oa.nextEffect}}function Ha(){null!==Na&&Ai(Na),null!==Va&&Va()}function Ga(e,t){Da=Ta=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var i=t.expirationTime,r=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?$i(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,$i(e,t)):t>n&&$i(e,t)}nr(0,e)}(e,r>i?r:i),Ca.current=null,i=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,mi=En,vi=function(){var e=Nn();if(Vn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var i=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{t.nodeType,r.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,l=0,c=0,u=e,h=null;t:for(;;){for(var d;u!==t||0!==i&&3!==u.nodeType||(a=o+i),u!==r||0!==n&&3!==u.nodeType||(s=o+n),3===u.nodeType&&(o+=u.nodeValue.length),null!==(d=u.firstChild);)h=u,u=d;for(;;){if(u===e)break t;if(h===t&&++l===i&&(a=o),h===r&&++c===n&&(s=o),null!==(d=u.nextSibling))break;h=(u=h).parentNode}u=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),En=!1,Oa=i;null!==Oa;){r=!1;var s=void 0;try{Ua()}catch(e){r=!0,s=e}r&&(null===Oa&&a("178"),Xa(Oa,s),null!==Oa&&(Oa=Oa.nextEffect))}for(Oa=i;null!==Oa;){r=!1,s=void 0;try{za()}catch(e){r=!0,s=e}r&&(null===Oa&&a("178"),Xa(Oa,s),null!==Oa&&(Oa=Oa.nextEffect))}for(Bn(vi),vi=null,En=!!mi,mi=null,e.current=t,Oa=i;null!==Oa;){r=!1,s=void 0;try{ja(e,n)}catch(e){r=!0,s=e}r&&(null===Oa&&a("178"),Xa(Oa,s),null!==Oa&&(Oa=Oa.nextEffect))}if(null!==i&&null!==Ra){var l=function(e,t){Va=Na=Ra=null;var n=rs;rs=!0;do{if(512&t.effectTag){var i=!1,r=void 0;try{var o=t;fa(Or,Sr,o),fa(Sr,Ir,o)}catch(e){i=!0,r=e}i&&Xa(t,r)}t=t.nextEffect}while(null!==t);rs=n,0!==(n=e.expirationTime)&&Ms(e,n),us||rs||_s(1073741823,!1)}.bind(null,e,i);Na=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return wi(l)}),Va=l}Ta=Da=!1,"function"==typeof Ui&&Ui(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Ba=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Wa(e){for(;;){var t=e.alternate,n=e.return,i=e.sibling;if(0==(1024&e.effectTag)){_a=e;e:{var o=t,s=La,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Di(t.type)&&Ri();break;case 3:Mr(),Ni(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==o&&null!==o.child||(bo(t),t.effectTag&=-3),la(t);break;case 5:Cr(t);var c=wr(xr.current);if(s=t.type,null!==o&&null!=t.stateNode)ca(o,t,s,l,c),o.ref!==t.ref&&(t.effectTag|=128);else if(l){var u=wr(yr.current);if(bo(t)){o=(l=t).stateNode;var h=l.type,d=l.memoizedProps,p=c;switch(o[O]=l,o[D]=d,s=void 0,c=h){case"iframe":case"object":Cn("load",o);break;case"video":case"audio":for(h=0;h<te.length;h++)Cn(te[h],o);break;case"source":Cn("error",o);break;case"img":case"image":case"link":Cn("error",o),Cn("load",o);break;case"form":Cn("reset",o),Cn("submit",o);break;case"details":Cn("toggle",o);break;case"input":xt(o,d),Cn("invalid",o),pi(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!d.multiple},Cn("invalid",o),pi(p,"onChange");break;case"textarea":qn(o,d),Cn("invalid",o),pi(p,"onChange")}for(s in hi(c,d),h=null,d)d.hasOwnProperty(s)&&(u=d[s],"children"===s?"string"==typeof u?o.textContent!==u&&(h=["children",u]):"number"==typeof u&&o.textContent!==""+u&&(h=["children",""+u]):b.hasOwnProperty(s)&&null!=u&&pi(p,s));switch(c){case"input":je(o),Mt(o,d,!0);break;case"textarea":je(o),Zn(o);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(o.onclick=fi)}s=h,l.updateQueue=s,(l=null!==s)&&aa(t)}else{d=t,p=s,o=l,h=9===c.nodeType?c:c.ownerDocument,u===$n.html&&(u=ei(p)),u===$n.html?"script"===p?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"==typeof o.is?h=h.createElement(p,{is:o.is}):(h=h.createElement(p),"select"===p&&(p=h,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):h=h.createElementNS(u,p),(o=h)[O]=d,o[D]=l,sa(o,t,!1,!1),p=o;var f=c,m=di(h=s,d=l);switch(h){case"iframe":case"object":Cn("load",p),c=d;break;case"video":case"audio":for(c=0;c<te.length;c++)Cn(te[c],p);c=d;break;case"source":Cn("error",p),c=d;break;case"img":case"image":case"link":Cn("error",p),Cn("load",p),c=d;break;case"form":Cn("reset",p),Cn("submit",p),c=d;break;case"details":Cn("toggle",p),c=d;break;case"input":xt(p,d),c=bt(p,d),Cn("invalid",p),pi(f,"onChange");break;case"option":c=Yn(p,d);break;case"select":p._wrapperState={wasMultiple:!!d.multiple},c=r({},d,{value:void 0}),Cn("invalid",p),pi(f,"onChange");break;case"textarea":qn(p,d),c=Kn(p,d),Cn("invalid",p),pi(f,"onChange");break;default:c=d}hi(h,c),u=void 0;var v=h,g=p,y=c;for(u in y)if(y.hasOwnProperty(u)){var x=y[u];"style"===u?ci(g,x):"dangerouslySetInnerHTML"===u?null!=(x=x?x.__html:void 0)&&ri(g,x):"children"===u?"string"==typeof x?("textarea"!==v||""!==x)&&oi(g,x):"number"==typeof x&&oi(g,""+x):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(b.hasOwnProperty(u)?null!=x&&pi(f,u):null!=x&&gt(g,u,x,m))}switch(h){case"input":je(p),Mt(p,d,!1);break;case"textarea":je(p),Zn(p);break;case"option":null!=d.value&&p.setAttribute("value",""+yt(d.value));break;case"select":(c=p).multiple=!!d.multiple,null!=(p=d.value)?Xn(c,!!d.multiple,p,!1):null!=d.defaultValue&&Xn(c,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof c.onClick&&(p.onclick=fi)}(l=gi(s,l))&&aa(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?ua(o,t,o.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&a("166")),o=wr(xr.current),wr(yr.current),bo(t)?(s=(l=t).stateNode,o=l.memoizedProps,s[O]=l,(l=s.nodeValue!==o)&&aa(t)):(s=t,(l=(9===o.nodeType?o:o.ownerDocument).createTextNode(l))[O]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,_a=t;break e}l=null!==l,s=null!==o&&null!==o.memoizedState,null!==o&&!l&&s&&(null!==(o=o.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=o,o.nextEffect=c):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(l||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Mr(),la(t);break;case 10:zo(t);break;case 9:case 14:break;case 17:Di(t.type)&&Ri();break;case 18:break;default:a("156")}_a=null}if(t=e,1===La||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(o=s.expirationTime)>l&&(l=o),(c=s.childExpirationTime)>l&&(l=c),s=s.sibling;t.childExpirationTime=l}if(null!==_a)return _a;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Ma(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==i)return i;if(null===n)break;e=n}return null}function Qa(e){var t=Do(e.alternate,e,La);return e.memoizedProps=e.pendingProps,null===t&&(t=Wa(e)),Ca.current=null,t}function Ya(e,t){Ta&&a("243"),Ha(),Ta=!0;var n=Ea.current;Ea.current=lo;var i=e.nextExpirationTimeToWorkOn;i===La&&e===Pa&&null!==_a||(Fa(),La=i,_a=Yi((Pa=e).current,null),e.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(t)for(;null!==_a&&!Ss();)_a=Qa(_a);else for(;null!==_a;)_a=Qa(_a)}catch(t){if(Bo=Vo=No=null,Jr(),null===_a)r=!0,Is(t);else{null===_a&&a("271");var o=_a,s=o.return;if(null!==s){e:{var l=e,c=s,u=o,h=t;if(s=La,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){var d=h;h=c;var p=-1,f=-1;do{if(13===h.tag){var m=h.alternate;if(null!==m&&null!==(m=m.memoizedState)){f=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=h.pendingProps.maxDuration)&&(0>=m?p=0:(-1===p||m<p)&&(p=m))}h=h.return}while(null!==h);h=c;do{if((m=13===h.tag)&&(m=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),m){if(null===(c=h.updateQueue)?((c=new Set).add(d),h.updateQueue=c):c.add(d),0==(1&h.mode)){h.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((s=qo(1073741823)).tag=Wo,Zo(u,s))),u.expirationTime=1073741823;break e}c=s;var v=(u=l).pingCache;null===v?(v=u.pingCache=new xa,m=new Set,v.set(d,m)):void 0===(m=v.get(d))&&(m=new Set,v.set(d,m)),m.has(c)||(m.add(c),u=qa.bind(null,u,d,c),d.then(u,u)),-1===p?l=1073741823:(-1===f&&(f=10*(1073741822-tr(l,s))-5e3),l=f+p),0<=l&&ka<l&&(ka=l),h.effectTag|=2048,h.expirationTime=s;break e}h=h.return}while(null!==h);h=Error((st(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(u))}Ia=!0,h=oa(h,u),l=c;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,$o(l,s=wa(l,h,s));break e;case 1:if(p=h,f=l.type,u=l.stateNode,0==(64&l.effectTag)&&("function"==typeof f.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===Ba||!Ba.has(u)))){l.effectTag|=2048,l.expirationTime=s,$o(l,s=Aa(l,p,s));break e}}l=l.return}while(null!==l)}_a=Wa(o);continue}r=!0,Is(t)}}break}if(Ta=!1,Ea.current=n,Bo=Vo=No=null,Jr(),r)Pa=null,e.finishedWork=null;else if(null!==_a)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Pa=null,Ia){if(r=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==r&&r<i||0!==o&&o<i||0!==s&&s<i)return er(e,i),void ws(e,n,i,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,i=e.nextExpirationTimeToWorkOn=i,t=e.expirationTime=1073741823,void ws(e,n,i,t,-1)}t&&-1!==ka?(er(e,i),(t=10*(1073741822-tr(e,i)))<ka&&(ka=t),t=10*(1073741822-As()),t=ka-t,ws(e,n,i,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=i,e.finishedWork=n)}}function Xa(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ba||!Ba.has(i)))return Zo(n,e=Aa(n,e=oa(t,e),1073741823)),void Za(n,1073741823);break;case 3:return Zo(n,e=wa(n,e=oa(t,e),1073741823)),void Za(n,1073741823)}n=n.return}3===e.tag&&(Zo(e,n=wa(e,n=oa(t,e),1073741823)),Za(e,1073741823))}function Ka(e,t){var n=o.unstable_getCurrentPriorityLevel(),i=void 0;if(0==(1&t.mode))i=1073741823;else if(Ta&&!Da)i=La;else{switch(n){case o.unstable_ImmediatePriority:i=1073741823;break;case o.unstable_UserBlockingPriority:i=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:i=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:i=1;break;default:a("313")}null!==Pa&&i===La&&--i}return n===o.unstable_UserBlockingPriority&&(0===ss||i<ss)&&(ss=i),i}function qa(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),null!==Pa&&La===n?Pa=null:(t=e.earliestSuspendedTime,i=e.latestSuspendedTime,0!==t&&n<=t&&n>=i&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),nr(n,e),0!==(n=e.expirationTime)&&Ms(e,n)))}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return r}function Za(e,t){null!==(e=Ja(e,t))&&(!Ta&&0!==La&&t>La&&Fa(),$i(e,t),Ta&&!Da&&Pa===e||Ms(e,e.expirationTime),gs>vs&&(gs=0,a("185")))}function $a(e,t,n,i,r){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return e(t,n,i,r)})}var es=null,ts=null,ns=0,is=void 0,rs=!1,os=null,as=0,ss=0,ls=!1,cs=null,us=!1,hs=!1,ds=null,ps=o.unstable_now(),fs=1073741822-(ps/10|0),ms=fs,vs=50,gs=0,ys=null;function bs(){fs=1073741822-((o.unstable_now()-ps)/10|0)}function xs(e,t){if(0!==ns){if(t<ns)return;null!==is&&o.unstable_cancelCallback(is)}ns=t,e=o.unstable_now()-ps,is=o.unstable_scheduleCallback(Ts,{timeout:10*(1073741822-t)-e})}function ws(e,t,n,i,r){e.expirationTime=i,0!==r||Ss()?0<r&&(e.timeoutHandle=bi(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,bs(),ms=fs,Ps(e,n)}.bind(null,e,t,n),r)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function As(){return rs?ms:(Es(),0!==as&&1!==as||(bs(),ms=fs),ms)}function Ms(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),rs||(us?hs&&(os=e,as=1073741823,Ls(e,1073741823,!1)):1073741823===t?_s(1073741823,!1):xs(e,t))}function Es(){var e=0,t=null;if(null!==ts)for(var n=ts,i=es;null!==i;){var r=i.expirationTime;if(0===r){if((null===n||null===ts)&&a("244"),i===i.nextScheduledRoot){es=ts=i.nextScheduledRoot=null;break}if(i===es)es=r=i.nextScheduledRoot,ts.nextScheduledRoot=r,i.nextScheduledRoot=null;else{if(i===ts){(ts=n).nextScheduledRoot=es,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if(r>e&&(e=r,t=i),i===ts)break;if(1073741823===e)break;n=i,i=i.nextScheduledRoot}}os=t,as=e}var Cs=!1;function Ss(){return!!Cs||!!o.unstable_shouldYield()&&(Cs=!0)}function Ts(){try{if(!Ss()&&null!==es){bs();var e=es;do{var t=e.expirationTime;0!==t&&fs<=t&&(e.nextExpirationTimeToWorkOn=fs),e=e.nextScheduledRoot}while(e!==es)}_s(0,!0)}finally{Cs=!1}}function _s(e,t){if(Es(),t)for(bs(),ms=fs;null!==os&&0!==as&&e<=as&&!(Cs&&fs>as);)Ls(os,as,fs>as),Es(),bs(),ms=fs;else for(;null!==os&&0!==as&&e<=as;)Ls(os,as,!1),Es();if(t&&(ns=0,is=null),0!==as&&xs(os,as),gs=0,ys=null,null!==ds)for(e=ds,ds=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ls||(ls=!0,cs=e)}}if(ls)throw e=cs,cs=null,ls=!1,e}function Ps(e,t){rs&&a("253"),os=e,as=t,Ls(e,t,!1),_s(1073741823,!1)}function Ls(e,t,n){if(rs&&a("245"),rs=!0,n){var i=e.finishedWork;null!==i?ks(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,xi(i)),Ya(e,n),null!==(i=e.finishedWork)&&(Ss()?e.finishedWork=i:ks(e,i,t)))}else null!==(i=e.finishedWork)?ks(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,xi(i)),Ya(e,n),null!==(i=e.finishedWork)&&ks(e,i,t));rs=!1}function ks(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime>=n&&(null===ds?ds=[i]:ds.push(i),i._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ys?gs++:(ys=e,gs=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){Ga(e,t)})}function Is(e){null===os&&a("246"),os.expirationTime=0,ls||(ls=!0,cs=e)}function Os(e,t){var n=us;us=!0;try{return e(t)}finally{(us=n)||rs||_s(1073741823,!1)}}function Ds(e,t){if(us&&!hs){hs=!0;try{return e(t)}finally{hs=!1}}return e(t)}function Rs(e,t,n){us||rs||0===ss||(_s(ss,!1),ss=0);var i=us;us=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(us=i)||rs||_s(1073741823,!1)}}function Ns(e,t,n,i,r){var o=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Di(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var l=n.type;if(Di(l)){n=Bi(n,l,s);break e}}n=s}else n=Pi;return null===t.context?t.context=n:t.pendingContext=n,t=r,(r=qo(i)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),Ha(),Zo(o,r),Za(o,i),i}function Vs(e,t,n,i){var r=t.current;return Ns(e,t,n,r=Ka(As(),r),i)}function Bs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fs(e){var t=1073741822-25*(1+((1073741822-As()+500)/25|0));t>=Sa&&(t=Sa-1),this._expirationTime=Sa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function zs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Us(e,t,n){e={current:t=Wi(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function js(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hs(e,t,n,i,r){var o=n._reactRootContainer;if(o){if("function"==typeof r){var a=r;r=function(){var e=Bs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Us(e,!1,t)}(n,i),"function"==typeof r){var s=r;r=function(){var e=Bs(o._internalRoot);s.call(e)}}Ds(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)})}return Bs(o._internalRoot)}function Gs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return js(t)||a("200"),function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Se=function(e,t,n){switch(t){case"input":if(At(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=B(i);r||a("90"),He(i),At(i,r)}}}break;case"textarea":Jn(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},Fs.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new zs;return Ns(e,t,null,n,i._onCommit),i},Fs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;null===i&&a("251"),i._next=r._next,this._next=t,e.firstBatch=this}this._defer=!1,Ps(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Fs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},zs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},zs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},Us.prototype.render=function(e,t){var n=this._internalRoot,i=new zs;return null!==(t=void 0===t?null:t)&&i.then(t),Vs(e,n,null,i._onCommit),i},Us.prototype.unmount=function(e){var t=this._internalRoot,n=new zs;return null!==(e=void 0===e?null:e)&&n.then(e),Vs(null,t,null,n._onCommit),n},Us.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var i=this._internalRoot,r=new zs;return null!==(n=void 0===n?null:n)&&r.then(n),Vs(t,i,e,r._onCommit),r},Us.prototype.createBatch=function(){var e=new Fs(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},Ie=Os,Oe=Rs,De=function(){rs||0===ss||(_s(ss,!1),ss=0)};var Ws={createPortal:Gs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return js(t)||a("200"),Hs(null,e,t,!0,n)},render:function(e,t,n){return js(t)||a("200"),Hs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return js(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Hs(e,t,n,!1,i)},unmountComponentAtNode:function(e){return js(e)||a("40"),!!e._reactRootContainer&&(Ds(function(){Hs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Gs.apply(void 0,arguments)},unstable_batchedUpdates:Os,unstable_interactiveUpdates:Rs,flushSync:function(e,t){rs&&a("187");var n=us;us=!0;try{return $a(e,t)}finally{us=n,_s(1073741823,!1)}},unstable_createRoot:function(e,t){return js(e)||a("299","unstable_createRoot"),new Us(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=us;us=!0;try{$a(e)}finally{(us=t)||rs||_s(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[N,V,B,P.injectEventPluginsByName,y,G,function(e){S(e,H)},Le,ke,_n,k]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ui=Hi(function(e){return t.onCommitFiberRoot(n,e)}),ji=Hi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(r({},e,{overrideProps:null,currentDispatcherRef:Ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:R,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Qs={default:Ws},Ys=Qs&&Ws||Qs;e.exports=Ys.default||Ys},function(e,t,n){"use strict";e.exports=n(540)},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,i=!1,r=3,o=-1,a=-1,s=!1,l=!1;function c(){if(!s){var e=n.expirationTime;l?M():l=!0,A(d,e)}}function u(){var e=n,t=n.next;if(n===t)n=null;else{var i=n.previous;n=i.next=t,t.previous=i}e.next=e.previous=null,i=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=r,s=a;r=e,a=t;try{var l=i()}finally{r=o,a=s}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{i=null,e=n;do{if(e.expirationTime>=t){i=e;break}e=e.next}while(e!==n);null===i?i=n:i===n&&(n=l,c()),(t=i.previous).next=i.previous=l,l.next=i,l.previous=t}}function h(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{u()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():l=!1}}}function d(e){s=!0;var r=i;i=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{u()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{u()}while(null!==n&&!E())}finally{s=!1,i=r,null!==n?c():l=!1,h()}}var p,f,m=Date,v="function"==typeof setTimeout?setTimeout:void 0,g="function"==typeof clearTimeout?clearTimeout:void 0,y="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function x(e){p=y(function(t){g(f),e(t)}),f=v(function(){b(p),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return m.now()};var A,M,E,C=null;if("undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock){var S=C._schedMock;A=S[0],M=S[1],E=S[2],t.unstable_now=S[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var T=null,_=function(e){if(null!==T)try{T(e)}finally{T=null}};A=function(e){null!==T?setTimeout(A,0,e):(T=e,setTimeout(_,0,!1))},M=function(){T=null},E=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var P=null,L=!1,k=-1,I=!1,O=!1,D=0,R=33,N=33;E=function(){return D<=t.unstable_now()};var V=new MessageChannel,B=V.port2;V.port1.onmessage=function(){L=!1;var e=P,n=k;P=null,k=-1;var i=t.unstable_now(),r=!1;if(0>=D-i){if(!(-1!==n&&n<=i))return I||(I=!0,x(F)),P=e,void(k=n);r=!0}if(null!==e){O=!0;try{e(r)}finally{O=!1}}};var F=function(e){if(null!==P){x(F);var t=e-D+N;t<N&&R<N?(8>t&&(t=8),N=t<R?R:t):R=t,D=e+N,L||(L=!0,B.postMessage(void 0))}else I=!1};A=function(e,t){P=e,k=t,O||0>t?B.postMessage(void 0):I||(I=!0,x(F))},M=function(){P=null,L=!1,k=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=r,a=o;r=e,o=t.unstable_now();try{return n()}finally{r=i,o=a,h()}},t.unstable_next=function(e){switch(r){case 1:case 2:case 3:var n=3;break;default:n=r}var i=r,a=o;r=n,o=t.unstable_now();try{return e()}finally{r=i,o=a,h()}},t.unstable_scheduleCallback=function(e,i){var a=-1!==o?o:t.unstable_now();if("object"==typeof i&&null!==i&&"number"==typeof i.timeout)i=a+i.timeout;else switch(r){case 1:i=a+-1;break;case 2:i=a+250;break;case 5:i=a+1073741823;break;case 4:i=a+1e4;break;default:i=a+5e3}if(e={callback:e,priorityLevel:r,expirationTime:i,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{a=null;var s=n;do{if(s.expirationTime>i){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,c()),(i=a.previous).next=a.previous=e,e.next=a,e.previous=i}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var i=e.previous;i.next=t,t.previous=i}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=r;return function(){var i=r,a=o;r=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{r=i,o=a,h()}}},t.unstable_getCurrentPriorityLevel=function(){return r},t.unstable_shouldYield=function(){return!i&&(null!==n&&n.expirationTime<a||E())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(136))},function(e,t){self.fetch||(self.fetch=function(e,t){return t=t||{},new Promise(function(n,i){var r=new XMLHttpRequest,o=[],a=[],s={},l=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n}),n(l())},r.onerror=i,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(c,t.headers[c]);r.send(t.body||null)})})},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t,n){var i=n(7);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},function(e,t,n){"use strict";var i=n(316),r=n(91);t.__esModule=!0,t.default=void 0;var o=r(n(8)),a=r(n(545)),s=i(n(0)),l=r(n(546)),c=n(197),u=r(n(263)),h=function(e){function t(t){var n;n=e.call(this,t)||this;var i=t.store;n.notifySubscribers=n.notifySubscribers.bind((0,o.default)(n));var r=new u.default(i);return r.onStateChange=n.notifySubscribers,n.state={store:i,subscription:r},n.previousState=i.getState(),n}(0,a.default)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new u.default(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},n.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},n.render=function(){var e=this.props.context||c.ReactReduxContext;return s.default.createElement(e.Provider,{value:this.state},this.props.children)},t}(s.Component);h.propTypes={store:l.default.shape({subscribe:l.default.func.isRequired,dispatch:l.default.func.isRequired,getState:l.default.func.isRequired}),context:l.default.object,children:l.default.any};var d=h;t.default=d},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){e.exports=n(547)()},function(e,t,n){"use strict";var i=n(548);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var i=n(319),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||i&&i[g]||m&&m[g]||s&&s[g])){var y=d(n,g);try{c(t,g,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case h:case d:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case c:return e;default:return t}}case v:case m:case o:return t}}}function y(e){return g(e)===d}t.typeOf=g,t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||g(e)===h},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===v},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===l},t.isStrictMode=function(e){return g(e)===s},t.isSuspense=function(e){return g(e)===f}},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.createConnect=f,t.default=void 0;var r=i(n(15)),o=i(n(198)),a=i(n(318)),s=i(n(320)),l=i(n(552)),c=i(n(557)),u=i(n(558)),h=i(n(559));function d(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function p(e,t){return e===t}function f(e){var t=void 0===e?{}:e,n=t.connectHOC,i=void 0===n?a.default:n,f=t.mapStateToPropsFactories,m=void 0===f?c.default:f,v=t.mapDispatchToPropsFactories,g=void 0===v?l.default:v,y=t.mergePropsFactories,b=void 0===y?u.default:y,x=t.selectorFactory,w=void 0===x?h.default:x;return function(e,t,n,a){void 0===a&&(a={});var l=a,c=l.pure,u=void 0===c||c,h=l.areStatesEqual,f=void 0===h?p:h,v=l.areOwnPropsEqual,y=void 0===v?s.default:v,x=l.areStatePropsEqual,A=void 0===x?s.default:x,M=l.areMergedPropsEqual,E=void 0===M?s.default:M,C=(0,o.default)(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=d(e,m,"mapStateToProps"),T=d(t,g,"mapDispatchToProps"),_=d(n,b,"mergeProps");return i(w,(0,r.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:T,initMergeProps:_,pure:u,areStatesEqual:f,areOwnPropsEqual:y,areStatePropsEqual:A,areMergedPropsEqual:E},C))}}var m=f();t.default=m},function(e,t,n){"use strict";t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=o,t.whenMapDispatchToPropsIsMissing=a,t.whenMapDispatchToPropsIsObject=s,t.default=void 0;var i=n(14),r=n(321);function o(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function a(e){return e?void 0:(0,r.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function s(e){return e&&"object"==typeof e?(0,r.wrapMapToPropsConstant)(function(t){return(0,i.bindActionCreators)(e,t)}):void 0}var l=[o,a,s];t.default=l},function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(555),s=(r=a)&&r.__esModule?r:{default:r};o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var l=(0,s.default)(o);t.default=l}).call(this,n(136),n(554)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},function(e,t,n){"use strict";t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=o,t.default=void 0;var i=n(321);function r(e){return"function"==typeof e?(0,i.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:(0,i.wrapMapToPropsConstant)(function(){return{}})}var a=[r,o];t.default=a},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.defaultMergeProps=o,t.wrapMergePropsFunc=a,t.whenMergePropsIsFunction=s,t.whenMergePropsIsOmitted=l,t.default=void 0;var r=i(n(15));i(n(322));function o(e,t,n){return(0,r.default)({},n,e,t)}function a(e){return function(t,n){n.displayName;var i,r=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?r&&o(l,i)||(i=l):(a=!0,i=l),i}}}function s(e){return"function"==typeof e?a(e):void 0}function l(e){return e?void 0:function(){return o}}var c=[s,l];t.default=c},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=a,t.default=function(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,s=t.initMergeProps,l=(0,r.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,l),u=i(e,l),h=s(e,l);0;return(l.pure?a:o)(c,u,h,e,l)};var r=i(n(198));i(n(560));function o(e,t,n,i){return function(r,o){return n(e(r,o),t(i,o),o)}}function a(e,t,n,i,r){var o,a,s,l,c,u=r.areStatesEqual,h=r.areOwnPropsEqual,d=r.areStatePropsEqual,p=!1;function f(r,p){var f,m,v=!h(p,a),g=!u(r,o);return o=r,a=p,v&&g?(s=e(o,a),t.dependsOnOwnProps&&(l=t(i,a)),c=n(s,l,a)):v?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(i,a)),c=n(s,l,a)):g?(f=e(o,a),m=!d(f,s),s=f,m&&(c=n(s,l,a)),c):c}return function(r,u){return p?f(r,u):(s=e(o=r,a=u),l=t(i,a),c=n(s,l,a),p=!0,c)}}},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.default=function(e,t,n,i){o(e,"mapStateToProps",i),o(t,"mapDispatchToProps",i),o(n,"mergeProps",i)};var r=i(n(323));function o(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,r.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},function(e,t,n){"use strict";t.__esModule=!0,t.useDispatch=function(){return(0,i.useStore)().dispatch};var i=n(324)},function(e,t,n){"use strict";var i=n(91);t.__esModule=!0,t.useSelector=function(e,t){void 0===t&&(t=c);(0,o.default)(e,"You must pass a selector to useSelectors");var n,i=(0,a.useReduxContext)(),u=i.store,h=i.subscription,d=(0,r.useReducer)(function(e){return e+1},0)[1],p=(0,r.useMemo)(function(){return new s.default(u,h)},[u,h]),f=(0,r.useRef)(),m=(0,r.useRef)(),v=(0,r.useRef)();try{n=e!==m.current||f.current?e(u.getState()):v.current}catch(e){var g="An error occured while selecting the store state: "+e.message+".";throw f.current&&(g+="\nThe error may be correlated with this previous error:\n"+f.current.stack+"\n\nOriginal stack trace:"),new Error(g)}return l(function(){m.current=e,v.current=n,f.current=void 0}),l(function(){function e(){try{var e=m.current(u.getState());if(t(e,v.current))return;v.current=e}catch(e){f.current=e}d({})}return p.onStateChange=e,p.trySubscribe(),e(),function(){return p.tryUnsubscribe()}},[u,p]),n};var r=n(0),o=i(n(264)),a=n(325),s=i(n(263)),l="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,c=function(e,t){return e===t}},function(e,t,n){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var i=n(118);t.unstable_batchedUpdates=i.unstable_batchedUpdates},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n(327))&&"object"==typeof i&&"default"in i?i.default:i,o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=r(function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(328),o=(i=n(572))&&"object"==typeof i&&"default"in i?i.default:i;n(573);function a(e){e&&s.current.insert(e+"}")}var s={current:null},l=function(e,t,n,i,r,o,l,c,u,h){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+"/*|*/";break;case 3:switch(c){case 102:case 112:return s.current.insert(n[0]+t),"";default:return t+(0===h?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(a)}};t.default=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var i=new o(t);var a,c={};a=e.container||document.head;var u,h=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(h,function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach(function(e){c[e]=!0}),e.parentNode!==a&&a.appendChild(e)}),i.use(e.stylisPlugins)(l),u=function(e,t,n,r){var o=t.name;s.current=n,i(e,t.styles),r&&(d.inserted[o]=!0)};var d={key:n,sheet:new r.StyleSheet({key:n,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:c,registered:{},insert:u};return d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,t,i){var r=t.trim().split(f);t=r;var o=r.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],i).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=n(e[c]+" ",r[s],i).trim()}return t}function n(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===P||2===P&&r(l,1)?"-webkit-"+l+l:l}if(0===P||2===P&&!r(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(A,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(A,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function r(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),O(2!==t?i:i.replace(M,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,i,r,o,a,s,c,u){for(var h,d=0,p=t;d<I;++d)switch(h=k[d].call(l,e,p,n,i,r,o,a,s,c,u)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?P=1:(P=2,O=e):P=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<I){var l=a(-1,n,s,s,T,S,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var h=function e(n,s,l,h,d){for(var p,f,m,b,w,A=0,M=0,E=0,C=0,k=0,O=0,R=m=p=0,N=0,V=0,B=0,F=0,z=l.length,U=z-1,j="",H="",G="",W="";N<z;){if(f=l.charCodeAt(N),N===U&&0!==M+C+E+A&&(0!==M&&(f=47===M?10:47),C=E=A=0,z++,U++),0===M+C+E+A){if(N===U&&(0<V&&(j=j.replace(u,"")),0<j.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:j+=l.charAt(N)}f=59}switch(f){case 123:for(p=(j=j.trim()).charCodeAt(0),m=1,F=++N;N<z;){switch(f=l.charCodeAt(N)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(N+1)){case 42:case 47:e:{for(R=N+1;R<U;++R)switch(l.charCodeAt(R)){case 47:if(42===f&&42===l.charCodeAt(R-1)&&N+2!==R){N=R+1;break e}break;case 10:if(47===f){N=R+1;break e}}N=R}}break;case 91:f++;case 40:f++;case 34:case 39:for(;N++<U&&l.charCodeAt(N)!==f;);}if(0===m)break;N++}switch(m=l.substring(F,N),0===p&&(p=(j=j.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<V&&(j=j.replace(u,"")),f=j.charCodeAt(1)){case 100:case 109:case 115:case 45:V=s;break;default:V=L}if(F=(m=e(s,V,m,f,d+1)).length,0<I&&(w=a(3,m,V=t(L,j,B),s,T,S,F,f,d,h),j=V.join(""),void 0!==w&&0===(F=(m=w.trim()).length)&&(f=0,m="")),0<F)switch(f){case 115:j=j.replace(x,o);case 100:case 109:case 45:m=j+"{"+m+"}";break;case 107:m=(j=j.replace(v,"$1 $2"))+"{"+m+"}",m=1===P||2===P&&r("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=j+m,112===h&&(H+=m,m="")}else m="";break;default:m=e(s,t(s,j,B),m,h,d+1)}G+=m,m=B=V=R=p=0,j="",f=l.charCodeAt(++N);break;case 125:case 59:if(1<(F=(j=(0<V?j.replace(u,""):j).trim()).length))switch(0===R&&(p=j.charCodeAt(0),45===p||96<p&&123>p)&&(F=(j=j.replace(" ",":")).length),0<I&&void 0!==(w=a(1,j,s,n,T,S,H.length,h,d,h))&&0===(F=(j=w.trim()).length)&&(j="\0\0"),p=j.charCodeAt(0),f=j.charCodeAt(1),p){case 0:break;case 64:if(105===f||99===f){W+=j+l.charAt(N);break}default:58!==j.charCodeAt(F-1)&&(H+=i(j,p,f,j.charCodeAt(2)))}B=V=R=p=0,j="",f=l.charCodeAt(++N)}}switch(f){case 13:case 10:47===M?M=0:0===1+p&&107!==h&&0<j.length&&(V=1,j+="\0"),0<I*D&&a(0,j,s,n,T,S,H.length,h,d,h),S=1,T++;break;case 59:case 125:if(0===M+C+E+A){S++;break}default:switch(S++,b=l.charAt(N),f){case 9:case 32:if(0===C+A+M)switch(k){case 44:case 58:case 9:case 32:b="";break;default:32!==f&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===C+M+A&&(V=B=1,b="\f"+b);break;case 108:if(0===C+M+A+_&&0<R)switch(N-R){case 2:112===k&&58===l.charCodeAt(N-3)&&(_=k);case 8:111===O&&(_=O)}break;case 58:0===C+M+A&&(R=N);break;case 44:0===M+E+C+A&&(V=1,b+="\r");break;case 34:case 39:0===M&&(C=C===f?0:0===C?f:C);break;case 91:0===C+M+E&&A++;break;case 93:0===C+M+E&&A--;break;case 41:0===C+M+A&&E--;break;case 40:if(0===C+M+A){if(0===p)switch(2*k+3*O){case 533:break;default:p=1}E++}break;case 64:0===M+E+C+A+R+m&&(m=1);break;case 42:case 47:if(!(0<C+A+E))switch(M){case 0:switch(2*f+3*l.charCodeAt(N+1)){case 235:M=47;break;case 220:F=N,M=42}break;case 42:47===f&&42===k&&F+2!==N&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,N+1)),b="",M=0)}}0===M&&(j+=b)}O=k,k=f,N++}if(0<(F=H.length)){if(V=s,0<I&&void 0!==(w=a(2,H,V,n,T,S,F,h,d,h))&&0===(H=w).length)return W+H+G;if(H=V.join(",")+"{"+H+"}",0!=P*_){switch(2!==P||r(H,2)||(_=0),_){case 111:H=H.replace(y,":-moz-$1")+H;break;case 112:H=H.replace(g,"::-webkit-input-$1")+H.replace(g,"::-moz-$1")+H.replace(g,":-ms-input-$1")+H}_=0}}return W+H+G}(L,s,n,0,0);return 0<I&&void 0!==(l=a(-2,h,s,s,T,S,h.length,0,0,0))&&(h=l),_=0,S=T=1,h}var c=/^\0+/g,u=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,f=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,A=/-self|flex-/g,M=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,S=1,T=1,_=0,P=1,L=[],k=[],I=0,O=null,D=0;return l.use=function e(t){switch(t){case void 0:case null:I=k.length=0;break;default:if("function"==typeof t)k[I++]=t;else if("object"==typeof t)for(var n=0,i=t.length;n<i;++n)e(t[n]);else D=0|!!t}return e},l.set=s,void 0!==e&&s(e),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var i=e(n);return t.set(n,i),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n=e.length,i=n^n,r=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+((1540483477*(t>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++r;switch(n){case 3:i^=(255&e.charCodeAt(r+2))<<16;case 2:i^=(255&e.charCodeAt(r+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(r)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),((i^=i>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"default",function(){return pe}),n.d(i,"setStagedMode",function(){return fe});var r={};n.r(r),n.d(r,"default",function(){return we}),n.d(r,"setVisibility",function(){return Ae}),n.d(r,"setEditableTagId",function(){return Me});n(24);var o,a=n(4),s=n.n(a),l=n(5),c=n.n(l),u=(n(401),n(158),n(0)),h=n.n(u),d=n(118),p=n.n(d),f=(n(541),n(23),n(45),n(6)),m=n.n(f),v=function e(t){var n=this;s()(this,e),this.get=function(){var e=n._props.redux.store;return new Promise(function(t){t(e.getState().app.datum)})},this.getOriginal=function(){var e=n._props.redux.store;return new Promise(function(t){t(m()({},e.getState().app.originals.datum))})},this.set=function(e){var t=n._props.redux,i=t.store,r=t.actions;return new Promise(function(t){i.dispatch(r.app.setDatum({user:e})),i.dispatch(r.app.setENV({user:e})),t(e)})},this._props=t},g=(n(37),n(10)),y=n.n(g),b=n(7),x=n.n(b),w=n(8),A=n.n(w),M=n(11),E=n.n(M),C=n(134),S=n(57),T=n.n(S),_=n(2),P=function(e){function t(e){var n;s()(this,t),(n=y()(this,x()(t).call(this))).props=e,n.mode=void 0,n.is360=void 0,n.props=e;var i=e.GCV;return n.mode=i.Camera.currentMode.name,n.is360=i.Camera.is360,n.get=n.get.bind(A()(n)),n.set=n.set.bind(A()(n)),n}return E()(t,e),c()(t,[{key:"onChangeMode",value:function(e){var t=this,n=this.props.GCV,i=this.props.redux.store;this.addListener("changeMode",e);return i.subscribe(function(){var e=n.Camera.currentMode.name,i=n.Camera.is360;t.mode===e&&t.is360===i||(t.mode=e,t.is360=i,t.emit("changeMode",e,i))}),Promise.resolve()}},{key:"get",value:function(){var e=this.props.GCV;return Promise.resolve(e.Camera.currentMode.name)}},{key:"set",value:function(e){var t=e.nextMode,n=void 0===t?"DOLLHOUSE":t,i=e.transitionStyle,r=void 0===i?_.y.FLY:i,o=e.panoramaId,a=e.position,s=e.target,l=e.angles,c=e.distance;if("string"!=typeof n)return console.error("Argument nextMode must be a string"),Promise.reject();var u=this.props.GCV,h=u.Panoramas.activeId,d=!1;void 0!==o&&(u.Panoramas.getById(o).isHighlight&&(d=!0));var p=u.Camera.is360;return!d&&!p||h===o||(r=_.y.FADE),u.Transitions.start({cameraMode:Object(C.a)(n),transitionStyle:r,panoramaId:o,position:a,target:s,angles:l,distance:c})}}]),t}(S.EventEmitter),L=(n(52),n(53),n(76),n(40),n(192),n(50),n(116),n(51),n(86)),k=n.n(L),I=n(119),O=n.n(I),D=n(1),R=n(162),N=n(13),V=.7,B=function(e){function t(e){var n,i,r,o;return s()(this,t),(n=y()(this,x()(t).call(this))).props=void 0,n.enabledControlsId=void 0,n.enablingProcessForId=void 0,n.userPositionChangeHandler=void 0,n.lookAt=(i=new D.a.Vector3,r=new D.a.Vector3,o=new D.a.Vector3,function(e){var t=this.props.GCV,n=t.SceneTags.getTag(e);if(n){var a=n.getWorldPosition(i);if(n instanceof R.b)return t.Transitions.start({cameraMode:_.a.INSIDE,angles:Object(N.g)(a),panoramaId:n.viewpointId});if(t.Camera.currentMode.name===_.a.INSIDE){var s=null;if(t.Panoramas.isPointVisible(t.Panoramas.active.position,a)){var l=r.copy(a).sub(t.Panoramas.active.position).normalize();Math.abs(l.y)<V&&(s=t.Panoramas.activeId)}if(null===s&&(s=this.getSuitablePanorama(a)),null!==s){var c=t.Panoramas.getById(s),u=a.clone().sub(c.position);u.normalize();var h=t.Panoramas.isPointVisible(o.setFromMatrixPosition(t.Camera.getCurrentCamera().matrixWorld),c.position)?_.y.FLY:_.y.FLY_FADE;return t.Transitions.start({cameraMode:_.a.INSIDE,transitionStyle:h,angles:Object(N.g)(u),panoramaId:c.id})}}var d=t.Floors.getVisible();return d&&d.length<=1&&t.Floors.setVisible([n.floor]),t.Transitions.start({cameraMode:_.a.DOLLHOUSE,transitionStyle:_.y.FLY,target:n.position})}return Promise.resolve()}),n.getSuitablePanorama=function(){var e=new D.a.Vector3;return function(t){var i=n.props.GCV;if(null===i.Panoramas.list)return null;var r=null,o=1/0,a=!0,s=!1,l=void 0;try{for(var c,u=i.Panoramas.list[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(h.isVisible){var d=h.projPos.distanceTo(t);if(d<o&&i.Panoramas.isPointVisible(t,h.position)){var p=e.copy(t).sub(h.position).normalize();Math.abs(p.y)<V&&(r=h.id,o=d)}}}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}return r}}(),n.handleInputSelect={priority:1/0,onSingleClick:function(){var e=O()(k.a.mark(function e(t,i,r){var o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.pick();case 2:null!==(o=e.sent)&&n.emit("select",o.id);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()},n.handleInputAdd={onSingleClick:function(e,t,i){n.handleClickToCanvas()},onDoubleClick:function(e,t,i){n.handleClickToCanvas()}},n.handleClickToCanvas=function(){var e=new D.a.Vector3;return function(){var t=n.props.GCV;if(t.MouseInteraction.get("mouseOverViewer")){var i={};if(t.Camera.is360)i.position=n.getDirection(),i.viewpointId=t.Panoramas.activeId;else{var r=n.getCursorCollision();if(!r)return;i.position=r.point,i.floor=t.HighPolyCollisionTree.getFloor(i.position),void 0===i.floor&&(i.floor=t.HighPolyCollisionTree.getFaceFloorLevel(r.face));var o=Object(N.a)(r.face.normal,e);i.direction=n.getFormattedCoords(o),i.distance=1}n.emit("new",i)}}}(),n.props=e,n.handleMouseOverMesh=n.handleMouseOverMesh.bind(A()(n)),n.handleMouseOutMesh=n.handleMouseOutMesh.bind(A()(n)),n.hidePanoramaUnderCursor=n.hidePanoramaUnderCursor.bind(A()(n)),n.showPanoramaUnderCursor=n.showPanoramaUnderCursor.bind(A()(n)),n.handlePositionChange=n.handlePositionChange.bind(A()(n)),n.enabledControlsId=null,n.userPositionChangeHandler=null,n.enablingProcessForId=null,n}return E()(t,e),c()(t,[{key:"enableControl",value:function(e){var t=this,n=e.id,i=e.listener,r=this.props,o=r.GCV,a=r.redux,s=a.actions,l=a.store;return o.SceneTags.getTag(n)?n===this.enablingProcessForId||n===this.enabledControlsId?Promise.resolve():(this.enablingProcessForId=n,this.disableControl().then(function(){t.enabledControlsId=n,l.dispatch(s.tags.setEditableTagId(n)),t.userPositionChangeHandler||(t.userPositionChangeHandler=i,o.SceneTags.addListener("change",t.handlePositionChange),o.SceneTags.addListener("endmove",t.handlePositionChange)),o.MouseInteraction.get("mouseOverViewer")&&o.SceneTags.enableControl(n);var e=function(){o.ENV.element.removeEventListener("mousemove",e),this.hidePanoramaUnderCursor()}.bind(t);return o.ENV.element.addEventListener("mousemove",e),o.ENV.element.addEventListener("mouseover",t.handleMouseOverMesh),o.ENV.element.addEventListener("mouseover",t.hidePanoramaUnderCursor),o.ENV.element.addEventListener("mouseout",t.handleMouseOutMesh),o.ENV.element.addEventListener("mouseout",t.showPanoramaUnderCursor),t.enablingProcessForId=null,Promise.resolve()})):Promise.reject("Tag is not exist")}},{key:"disableControl",value:function(){var e=this.props,t=e.GCV,n=e.redux,i=n.actions,r=n.store;return this.enabledControlsId?(this.enabledControlsId=null,r.dispatch(i.tags.setEditableTagId(null)),t.ENV.element.removeEventListener("mouseover",this.handleMouseOverMesh),t.ENV.element.removeEventListener("mouseover",this.hidePanoramaUnderCursor),t.ENV.element.removeEventListener("mouseout",this.handleMouseOutMesh),t.ENV.element.removeEventListener("mouseout",this.showPanoramaUnderCursor),t.SceneTags.removeListener("change",this.handlePositionChange),t.SceneTags.removeListener("endmove",this.handlePositionChange),t.SceneTags.disableControl(),this.userPositionChangeHandler=null,Promise.resolve()):Promise.resolve()}},{key:"getPosition",value:function(e){var t=this.props.GCV.SceneTags.getTag(e);return Promise.resolve(t?this.getFormattedCoords(t.position):null)}},{key:"getTagData",value:function(e){var t=this.props.GCV.SceneTags.getTag(e);return Promise.resolve(t?this.getTagInfo(t):null)}},{key:"enableAddingMode",value:function(e){var t=this.props.GCV;return this.addListener("new",e),this.bindClick(),t.ENV.element.addEventListener("mouseover",this.hidePanoramaUnderCursor),t.ENV.element.addEventListener("mouseout",this.showPanoramaUnderCursor),Promise.resolve()}},{key:"disableAddingMode",value:function(e){var t=this.props.GCV;return this.removeListener("new",e),this.unbindClick(),t.ENV.element.removeEventListener("mouseover",this.hidePanoramaUnderCursor),t.ENV.element.removeEventListener("mouseout",this.showPanoramaUnderCursor),Promise.resolve()}},{key:"enableSelect",value:function(e){var t=this.props.GCV;return this.addListener("select",e),t.InputManager.addInputListener(this.handleInputSelect),Promise.resolve()}},{key:"disableSelect",value:function(e){var t=this.props.GCV;return this.removeListener("select",e),t.InputManager.removeInputListener(this.handleInputSelect),Promise.resolve()}},{key:"pick",value:function(){var e=this.props.GCV.SceneTags.getTagFromCursor();return Promise.resolve(e?{id:e.tagId,position:this.getFormattedCoords(e.position)}:null)}},{key:"handleMouseOverMesh",value:function(){this.props.GCV.SceneTags.enableControl(this.enabledControlsId)}},{key:"hidePanoramaUnderCursor",value:function(){var e=this.props.GCV;e.NewFinalModel.hidePanoramaUnderCursor(),e.PanoSphere.hidePanoramaUnderCursor(),e.HighresPanoSphere.hidePanoramaUnderCursor()}},{key:"showPanoramaUnderCursor",value:function(){var e=this.props.GCV;e.NewFinalModel.showPanoramaUnderCursor(),e.PanoSphere.showPanoramaUnderCursor(),e.HighresPanoSphere.showPanoramaUnderCursor()}},{key:"handleMouseOutMesh",value:function(){this.props.GCV.SceneTags.disableControl()}},{key:"handlePositionChange",value:function(e){var t=this.props.GCV,n=this.getTagInfo(e);"function"==typeof this.userPositionChangeHandler&&t.MouseInteraction.get("mouseOverViewer")&&this.userPositionChangeHandler(n)}},{key:"getTagInfo",value:function(e){var t=e instanceof R.b,n=e instanceof R.a;return{isViewpoint:t,position:this.getFormattedCoords(e.position),angles:t?Object(N.g)(e.position):null,viewpointId:t?String(e.viewpointId):null,floor:t?null:String(e.floor),direction:n?this.getFormattedCoords(e.direction):null,distance:n?e.distance:null}}},{key:"unbindClick",value:function(){var e=this.props.GCV;e.MouseInteraction.set("isTransitionsOnClickEnabled",!0),e.InputManager.removeInputListener(this.handleInputAdd)}},{key:"bindClick",value:function(){var e=this.props.GCV;e.MouseInteraction.set("isTransitionsOnClickEnabled",!1),e.InputManager.addInputListener(this.handleInputAdd)}},{key:"getFormattedCoords",value:function(e){var t=e.x,n=e.y,i=e.z;return{x:t.toFixed(2),y:n.toFixed(2),z:i.toFixed(2)}}},{key:"getCursorRay",value:function(){var e=this.props.GCV,t=e.InputManager.getMousePos(),n=new D.a.Vector2(t.x,t.y);n.x=n.x/(e.ENV.element.offsetWidth*e.ENV.scale)*2-1,n.y=-n.y/(e.ENV.element.offsetHeight*e.ENV.scale)*2+1;var i=new D.a.Raycaster;return i.setFromCamera(n,e.Camera.getCurrentCamera()),i.ray}},{key:"getDirection",value:function(){return this.getFormattedCoords(this.getCursorRay().direction)}},{key:"getCursorCollision",value:function(){var e=this.props.GCV;if(!e.HighPolyCollisionTree)return!1;var t=this.getCursorRay(),n=e.Camera.currentMode.name!==_.a.INSIDE?e.Floors.getVisible():void 0,i=e.HighPolyCollisionTree.trace(t,n);return i.length>0&&i[0]}}]),t}(T.a),F=(n(61),function(){function e(t){s()(this,e),this._props=t,this.setVisibility=this.setVisibility.bind(this),this.select=this.select.bind(this)}return c()(e,[{key:"setVisibility",value:function(e){var t=this;return new Promise(function(n){var i=t._props.GCV.redux,r=i.store,o=i.actions;r.dispatch(o.highlights.setVisibility(e)),n(!0)})}},{key:"goToPanorama",value:function(e){var t=this._props.GCV;return new Promise(function(n){var i=t.Panoramas.getById(e);t.Transitions.start({cameraMode:_.a.INSIDE,transitionStyle:_.y.FADE,panoramaId:e,is360:i.isHighlight}).then(function(){n()})})}},{key:"select",value:function(e){var t=this._props.GCV;return new Promise(function(n){var i,r=t.redux.store.getState(),o=r.app.datum.user.highlights,a=r.app.camera.activePanoramaId,s=o.filter(function(t){return t.id===e})[0].place,l=s.panoramaId,c=s.is360,u=s.cameraMode,h=t.Camera,d=h.currentMode,p=h.is360;i=!c&&!p||a===l?u===_.a.INSIDE||d.name===_.a.INSIDE?_.y.FLY_FADE:_.y.FLY:_.y.FADE,t.Transitions.start(m()({},s,{transitionStyle:i})),n(!0)})}}]),e}()),z=(n(84),n(34),n(62),n(56),n(44),n(286),n(144),n(88),n(90),n(115),n(70),n(36),n(32)),U=n(160),j=new D.a.Color("#FFFFFF"),H=new D.a.Color("#FF0000"),G=new D.a.Color("#59DEFF");!function(e){e.NONE="NONE",e.VISIBILITY="VISIBILITY",e.SELECTION="SELECTION"}(o||(o={}));var W={normal:new D.a.MeshBasicMaterial({color:52479,transparent:!0,opacity:.5}),normalHover:new D.a.MeshBasicMaterial({color:52479,transparent:!0,opacity:1}),invalid:new D.a.MeshBasicMaterial({color:16711680,transparent:!0,opacity:.5}),invalidHover:new D.a.MeshBasicMaterial({color:16711680,transparent:!0,opacity:1}),invisible:new D.a.MeshBasicMaterial({color:15924479,transparent:!0,opacity:.7}),invisibleHover:new D.a.MeshBasicMaterial({color:15924479,transparent:!0,opacity:1})},Q=function(e){function t(e){var n;s()(this,t),(n=y()(this,x()(t).call(this))).props=void 0,n.isFloors=void 0,n.state=void 0,n.data=void 0,n.shownGraphs=void 0,n.handleInput=void 0,n.handleDrag=void 0,n.edgeMesh=void 0,n.lastMousePosition=void 0,n.hoverPanoramaId=void 0,n.dragEdgePanoramaId=void 0,n.props=e;var i=n.props.GCV;n.isFloors=e.redux.store.getState().floors.floors.length>0,n.state={isInitialized:!1,isEnabled:!1,isConnectionEditing:!1,hoveredPanoramaId:null,selectedFloorId:null,currentCustomGraphIndex:null,mode:o.VISIBILITY},n.data={panoList:[],spriteList:[],floorGraph:[],eyeGraph:[],debugGraphs:[],maxComponent:[],panoramasGroups:{}},n.hoverPanoramaId=null,n.dragEdgePanoramaId=null,n.handleClickPanoramaMarker=n.handleClickPanoramaMarker.bind(A()(n)),n.handleJumpIntoPanorama=n.handleJumpIntoPanorama.bind(A()(n)),n.handleHoverPanoramaMarker=n.handleHoverPanoramaMarker.bind(A()(n)),n.handleSelectPanorama=n.handleSelectPanorama.bind(A()(n)),n.enable=n.enable.bind(A()(n)),n.disable=n.disable.bind(A()(n)),n.edgeMesh=new D.a.Mesh(U.a,U.b.clone()),n.shownGraphs=[],n.lastMousePosition=new D.a.Vector2;var r=new D.a.Raycaster,a=new D.a.Vector3,l=function(){var e,t=n.edgeMesh.material;if(null!==n.hoverPanoramaId&&n.hoverPanoramaId!==n.dragEdgePanoramaId){var o=i.Panoramas.getById(n.hoverPanoramaId);e=a.copy(o.position);var s=i.Panoramas.getById(n.dragEdgePanoramaId);t.color=s.visiblePanoramas.includes(n.hoverPanoramaId)?H:G}else{var l=new D.a.Vector2(n.lastMousePosition.x,n.lastMousePosition.y);l.x=l.x/(i.ENV.element.offsetWidth*i.ENV.scale)*2-1,l.y=-l.y/(i.ENV.element.offsetHeight*i.ENV.scale)*2+1,r.setFromCamera(l,i.Camera.getCurrentCamera()),e=r.ray.closestPointToPoint(n.edgeMesh.position,a),t.color=j}var c=e.distanceTo(n.edgeMesh.position);n.edgeMesh.scale.set(c,c,c),n.edgeMesh.lookAt(e)},c=function(){null!==n.dragEdgePanoramaId&&(i.Scene.remove(n.edgeMesh),i.Camera.currentMode.unlock(),n.dragEdgePanoramaId=null)};return n.handleInput={priority:1/0,onSingleClick:function(e,t,i){n.handleSelectPanorama(t,i,n.handleClickPanoramaMarker,n.handleJumpIntoPanorama)},onDoubleClick:function(e,t,i){n.handleSelectPanorama(t,i,n.handleClickPanoramaMarker,n.handleJumpIntoPanorama)},onMouseMove:function(e,t){n.handleSelectPanorama(e,t,n.handleHoverPanoramaMarker,n.handleHoverPanoramaMarker)}},n.handleDrag={priority:1/0,onSingleClick:function(e,t,n){c()},onDoubleClick:function(e,t,n){c()},onMouseMove:function(e,t){null!==n.dragEdgePanoramaId&&l(),n.lastMousePosition.x=e,n.lastMousePosition.y=t,n.handleSelectPanorama(e,t,n.handleHoverPanoramaMarker,n.handleHoverPanoramaMarker)},onbuttondown:function(e){if(null===n.dragEdgePanoramaId&&(n.dragEdgePanoramaId=n.hoverPanoramaId),null!==n.dragEdgePanoramaId){var t=i.Panoramas.getById(n.dragEdgePanoramaId),r=i.ENV.element,o=r.offsetWidth,a=r.offsetHeight,s=devicePixelRatio||1;n.edgeMesh.material.resolution.set(o*s,a*s),n.edgeMesh.position.copy(t.position),i.Scene.add(n.edgeMesh),l(),i.Camera.currentMode.lock()}},onbuttonup:function(){null!==n.hoverPanoramaId&&null!==n.dragEdgePanoramaId&&n.hoverPanoramaId!==n.dragEdgePanoramaId&&n.switchPanoramaConnection(n.dragEdgePanoramaId,n.hoverPanoramaId),c()}},n.hide=n.hide.bind(A()(n)),n}return E()(t,e),c()(t,[{key:"disable",value:function(){var e=this,t=this.props,n=t.GCV;t.Api;return new Promise(function(t,i){if(e.state.isEnabled){e.isFloors&&e.floorsUnsubscribe(),e.hide(e.data.spriteList),e.hide(e.data.panoList),e.hide(e.data.floorGraph),e.hide(e.data.eyeGraph),e.data.debugGraphs.forEach(function(t){e.hide(t.mesh)}),e.state.isEnabled=!1,n.MouseInteraction.set("isTransitionsOnClickEnabled",!0),n.MouseInteraction.set("isIgnoreForInvisiblePanoramas",!0),n.InputManager.removeInputListener(e.handleInput);var r=e.data.panoList.map(function(e){return{id:e.userData.id,isVisible:!e.userData.isInvisible}});e.resetData(),t(r)}else i("Already disabled")})}},{key:"enableChangeConnections",value:function(){var e=this,t=this.props.GCV;return new Promise(function(n,i){e.state.isConnectionEditing||e.state.mode!==o.VISIBILITY?i("Cannot enable changing connection mode"):(e.state.isConnectionEditing=!0,t.InputManager.addInputListener(e.handleDrag),n())})}},{key:"disableChangeConnections",value:function(){var e=this,t=this.props.GCV;return new Promise(function(n,i){e.state.isConnectionEditing?(e.state.isConnectionEditing=!1,t.InputManager.removeInputListener(e.handleDrag),n()):i("Already disabled")})}},{key:"removeGraph",value:function(e){var t=this;return new Promise(function(n,i){if("string"!=typeof e)return i("Type of argument must be string");if(!t.state.isEnabled)return i("Visualisation of panoramas must be enabled");if("nextCustomGraph"===e){var r=t.state.currentCustomGraphIndex;if("number"!=typeof r)return i("Nothing to remove");var o=0===r?null:r-1,a=t.data.debugGraphs.length,s=t.data.debugGraphs[r];return t.show(s.mesh),t.state.currentCustomGraphIndex=o,n({left:a-1-r})}if(void 0!==t.data[e]){t.hide(t.data[e]);var l=t.shownGraphs.indexOf(e);return-1!==l&&t.shownGraphs.splice(l,1),n()}return i("Variant ".concat(e," not found"))})}},{key:"addGraph",value:function(e){var t=this;return new Promise(function(n,i){if("string"!=typeof e)return i("Type of argument must be string");if(!t.state.isEnabled)return i("Visualisation of panoramas must be enabled");if("nextCustomGraph"===e){var r=t.state.currentCustomGraphIndex,o="number"==typeof r?r+1:0,a=t.data.debugGraphs.length;if(o>=a)return i("No more custom graphs");var s=t.data.debugGraphs[o];return t.show(s.mesh),t.state.currentCustomGraphIndex=o,n({left:a-1-o})}return void 0!==t.data[e]?(t.show(t.data[e]),-1===t.shownGraphs.indexOf(e)&&t.shownGraphs.push(e),n()):i("Variant ".concat(e," not found"))})}},{key:"switchPanoramaConnection",value:function(e,t){var n=this.props.GCV,i=n.Panoramas.getById(e),r=n.Panoramas.getById(t),o=r.visiblePanoramas.indexOf(e),a=i.visiblePanoramas.indexOf(t);-1!==o?(r.visiblePanoramas.splice(o,1),-1!==a&&i.visiblePanoramas.splice(a,1),this.emit("disconnect",e,t)):(r.visiblePanoramas.push(e),-1===a&&i.visiblePanoramas.push(t),this.emit("connect",e,t)),this.rebuildGraphs(),this.setColors()}},{key:"enableSelection",value:function(){return this.state.isEnabled&&this.state.mode!==o.SELECTION?(this.state.mode=o.SELECTION,this.disable().then(this.enable)):(this.state.mode=o.SELECTION,this.enable())}},{key:"disableSelection",value:function(){return this.state.isEnabled&&this.state.mode===o.SELECTION?(this.state.mode=o.NONE,this.disable()):Promise.resolve()}},{key:"enableChangeVisibility",value:function(e){var t=this;return this.state.isEnabled&&this.state.mode!==o.VISIBILITY?(this.state.mode=o.VISIBILITY,this.disable().then(function(){t.enable(e)})):(this.state.mode=o.VISIBILITY,this.enable(e))}},{key:"disableChangeVisibility",value:function(){return this.state.isEnabled&&this.state.mode===o.VISIBILITY?(this.state.mode=o.NONE,this.disable()):Promise.resolve()}},{key:"enable",value:function(e){var t=this,n=this.props,i=n.GCV,r=n.redux;return new Promise(function(n,o){if(t.state.isEnabled)return o("Already enabled");var a=function(e){t.state.selectedFloorId=e,t.setVisibilityForCurrentFloor(t.data.panoList,t.state.selectedFloorId),t.setVisibilityForCurrentFloor(t.data.spriteList,t.state.selectedFloorId),t.setVisibilityForCurrentFloor(t.data.floorGraph,t.state.selectedFloorId),t.setVisibilityForCurrentFloor(t.data.eyeGraph,t.state.selectedFloorId)};t.floorsUnsubscribe=r.store.subscribe(function(){var e=r.store.getState().floors.selectedId;t.state.selectedFloorId!==e&&a(e)}),t.state.isEnabled=!0,e&&Array.isArray(e)&&e.forEach(function(e){var t=e.id,n=e.isVisible;i.Panoramas.setPanoramaVisibility(t,n)}),t.show(t.createPanoramas()),t.createGraphs(),t.setColors();var s=r.store.getState().floors.selectedId;return a(s),i.MouseInteraction.set("isTransitionsOnClickEnabled",!1),i.MouseInteraction.set("isIgnoreForInvisiblePanoramas",!1),i.InputManager.addInputListener(t.handleInput),n({customGraphs:t.data.debugGraphs.length})})}},{key:"setPanoramasVisibility",value:function(e){var t=this,n=this.props.GCV;return e&&Array.isArray(e)?(e.forEach(function(e){var i=e.id,r=e.isVisible,o=e.connect,a=e.disconnect;n.Panoramas.setPanoramaVisibility(i,r),n.Panoramas.resetConnections(i),n.Panoramas.addConnections(i,o),n.Panoramas.removeConnections(i,a);var s=t.data.panoList.find(function(e){return e.userData.id===i});s&&(s.userData.isInvisible=!r)}),this.state.isEnabled&&(this.rebuildGraphs(),this.setColors()),Promise.resolve()):Promise.reject()}},{key:"resetData",value:function(){var e=this;Object.keys(this.data).forEach(function(t){return e.data[t]=[]})}},{key:"floorsUnsubscribe",value:function(){}},{key:"validatePano",value:function(e){var t=this.props.GCV,n=0,i=0;return t.Panoramas.list.forEach(function(r){if(r.visiblePanoramas)n=i=r.visiblePanoramas.length;else{if(r.id===e.id)return;!n&&t.Panoramas.isPointVisible(r.position,e.projPos)&&t.Panoramas.isPointVisible(r.position,e.position)&&n++,!i&&t.Panoramas.isPointVisible(e.position,r.projPos)&&t.Panoramas.isPointVisible(e.position,r.position)&&i++}}),n||(z.b.warn("Unable to enter panorama "+e.id),0),i||(z.b.warn("Unable to exit panorama "+e.id),0),!0}},{key:"createPanoramas",value:function(){var e=this,t=this.props.GCV,n=new D.a.BoxGeometry(.4,.4,.4);t.Panoramas.list.forEach(function(t,i){if(!t.isHighlight){var r=!t.isVisible,o=e.validatePano(t),a=e.getRightState(e.state.mode,!1,r,o,!1),s=W[a],l=new D.a.Mesh(n,s);l.position.set(t.position.x,t.position.y,t.position.z),l.userData.id=t.id,l.userData.floorId=t.floorId,l.userData.isValid=o,l.userData.isInvisible=r,l.userData.isSelected=!1,l.userData.bbox=(new D.a.Box3).setFromObject(l),l.userData.collisGroupId=i,l.userData.origin=(new D.a.Vector3).copy(l.position),l.userData.selectedPosition=(new D.a.Vector3).copy(l.position),l.userData.isExpanded=!1,l.renderOrder=5;var c=new D.a.Vector3;l.onBeforeRender=function(){var e=l.userData.isExpanded?l.userData.selectedPosition:l.userData.origin;l.position.distanceTo(e)>.1?(c.copy(e),c.sub(l.position),c.setLength(.1),l.position.add(c)):l.position.copy(e)},e.data.panoList.push(l);var u=e.createInfoSprite(t);u.renderOrder=5,e.data.spriteList.push(u),l.add(u)}});for(var i=0;i<this.data.panoList.length;i++)for(var r=this.data.panoList[i],o=0;o<i;o++){var a=this.data.panoList[o];if(r.userData.bbox.intersectsBox(a.userData.bbox)){r.userData.collisGroupId=a.userData.collisGroupId;break}}var s=new D.a.Vector3;return this.data.panoramasGroups=this.data.panoList.reduce(function(t,n,i){s.set(0,.4,0);var r=n.userData.collisGroupId;void 0===t[r]&&(t[r]=[]),t[r].push(i);var o=e.data.panoList[i],a=t[r].length-1;return o.userData.selectedPosition.add(s.multiplyScalar(a)),t},{}),this.data.panoList}},{key:"createGraphs",value:function(){var e=this;if(this.state.mode===o.VISIBILITY){var t=this.props.GCV,n={},i={},r=t.Panoramas.list.length>0&&void 0!==t.Panoramas.list[0].visiblePanoramas,a=!1,s=!1,l=!1,c=t.Panoramas.list.map(function(){return[]});t.Panoramas.list.forEach(function(e,o){t.Panoramas.list.forEach(function(u,h){if(l=!e.isVisible||!u.isVisible,o!==h&&!e.isHighlight&&!u.isHighlight){if(r){var d=e.visiblePanoramas;a=s=d.includes(u.id)}else a=t.Panoramas.isPointVisible(e.position,u.projPos),s=t.Panoramas.isPointVisible(e.position,u.position);if(s&&!l&&o<h&&(c[o].push(h),c[h].push(o)),a&&s&&!l){var p=i[e.floorId];p||(p=i[e.floorId]=[]),p.push(e.position),p.push(u.position)}if(s&&!l){var f=n[e.floorId];f||(f=n[e.floorId]=[]),f.push(e.position),f.push(u.position)}}})});var u=this.getConnectedComponents(c),h=[],d=!0,p=!1,f=void 0;try{for(var m,v=u[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var g=m.value,y=t.Panoramas.list[g[0]];h.length<g.length&&y&&y.isVisible&&(h=g)}}catch(e){p=!0,f=e}finally{try{d||null==v.return||v.return()}finally{if(p)throw f}}this.data.maxComponent=h;var b=r?0:127,x=new D.a.LineBasicMaterial({color:b,transparent:!0});for(var w in i){var A=i[w],M=new D.a.Geometry;M.vertices=A;var E=new D.a.LineSegments(M,x);E.userData.floorId=w,this.data.floorGraph.push(E)}var C=new D.a.LineBasicMaterial({color:b,transparent:!0});for(var S in n){var T=n[S],_=new D.a.Geometry;_.vertices=T;var P=new D.a.LineSegments(_,C);P.userData.floorId=S,this.data.eyeGraph.push(P)}if("debugGraphs"in t.datum.tour){var L=t.datum.tour.debugGraphs;Object.keys(L).forEach(function(n,i){var r=L[n].edges,o=[],a=!0,s=!1,l=void 0;try{for(var c,u=function(){var e=c.value;if(!e||!e[0])return"continue";var n=e[0],i=n.first,r=n.second,a=t.Panoramas.list.find(function(e){return e.id===i}),s=t.Panoramas.list.find(function(e){return e.id===r});a&&s&&(o.push(a.position),o.push(s.position))},h=r.values()[Symbol.iterator]();!(a=(c=h.next()).done);a=!0)u()}catch(e){s=!0,l=e}finally{try{a||null==h.return||h.return()}finally{if(s)throw l}}var d=new D.a.Geometry;d.vertices=o;var p=new D.a.MeshBasicMaterial({color:"hsl(".concat(11*i/13%1*360,", 100%, 50%)")});e.data.debugGraphs.push({name:n,mesh:new D.a.LineSegments(d,p)})})}}}},{key:"getConnectedComponents",value:function(e){for(var t=[],n=e.map(function(e){return!1}),i=0;i<e.length;i++)if(!n[i]){n[i]=!0;var r=[i];t.push(r);for(var o=e[i];o.length;){var a=o.shift();n[a]||(n[a]=!0,r.push(a),o=o.concat(e[a]))}}return t}},{key:"createInfoSprite",value:function(e){if(!e.isHighlight){var t=document.createElement("canvas");t.width=64,t.height=64;var n=t.getContext("2d"),i=e.id.toString();n.font="bold 26px 'Montserrat', 'Helvetica', 'Arial', sans-serif",n.fillStyle="#222",n.textAlign="center",n.fillText(i,30,40);var r=new D.a.Texture(t);r.needsUpdate=!0;var o=new D.a.SpriteMaterial({map:r,depthTest:!1}),a=new D.a.Sprite(o);return a.scale.set(.5,.5,.5),a.userData.floorId=e.floorId,a}}},{key:"setVisibilityForCurrentFloor",value:function(e,t){e.forEach(function(e){e.visible=null===t||e.userData.floorId===t})}},{key:"show",value:function(e){var t=this.props.GCV;Array.isArray(e)?e.forEach(function(e){t.Scene.add(e)}):t.Scene.add(e)}},{key:"hide",value:function(e){var t=this.props.GCV;Array.isArray(e)?e.forEach(function(e){t.Scene.remove(e)}):t.Scene.remove(e)}},{key:"getRightState",value:function(e,t,n,i,r,a){switch(e){case o.VISIBILITY:return n&&t?"invisibleHover":n?"invisible":t&&a?"normalHover":!t||i&&a?i&&a?"normal":"invalid":"invalidHover";case o.SELECTION:return r?t?"normalHover":"normal":t?"invisibleHover":"invisible";default:return"normal"}}},{key:"setColors",value:function(e){var t=this;this.data.panoList.forEach(function(n,i){var r=n.userData,o=r.id,a=r.isValid,s=r.isInvisible,l=r.isSelected,c=-1!==t.data.maxComponent.indexOf(i),u=e===o,h=t.getRightState(t.state.mode,u,s,a,l,c);n.material=W[h]})}},{key:"rebuildGraphs",value:function(){var e=[this.data.floorGraph,this.data.eyeGraph,this.data.debugGraphs];for(var t in e){var n=e[t];for(var i in n){var r=n[i],o=r.mesh||r;this.hide(o),o.geometry.dispose(),o.material.dispose()}}this.data.floorGraph=[],this.data.eyeGraph=[],this.createGraphs(),this.setVisibilityForCurrentFloor(this.data.floorGraph,this.state.selectedFloorId),this.setVisibilityForCurrentFloor(this.data.eyeGraph,this.state.selectedFloorId);var a=!0,s=!1,l=void 0;try{for(var c,u=this.shownGraphs[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;this.addGraph(h)}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}}},{key:"handleClickPanoramaMarker",value:function(e){void 0!==e&&(this.emit("click",e),this.state.mode===o.SELECTION&&(this.emit("select",this.data.panoList.filter(function(t){return t.userData.isSelected=t.userData.id===e?!t.userData.isSelected:t.userData.isSelected,t.userData.isSelected}).map(function(e){return e.userData.id})),this.setColors()))}},{key:"handleHoverPanoramaMarker",value:function(e){this.hoverPanoramaId=void 0!==e?e:null,this.setColors(e)}},{key:"handleJumpIntoPanorama",value:function(){this.props.GCV.MouseInteraction.jumpIntoHoverPanorama()}},{key:"handleSelectPanorama",value:function(e,t,n,i){var r=this.props.GCV,o=new D.a.Vector2(e,t);o.x=o.x/(r.ENV.element.offsetWidth*r.ENV.scale)*2-1,o.y=-o.y/(r.ENV.element.offsetHeight*r.ENV.scale)*2+1;var a=new D.a.Raycaster;a.setFromCamera(o,r.Camera.getCurrentCamera());var s=[],l=!0,c=!1,u=void 0;try{for(var h,d=this.data.panoList[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value;p.userData.isExpanded=!1;var f=p.userData.collisGroupId;a.ray.intersectsBox(p.userData.bbox.setFromObject(p))&&-1===s.indexOf(f)&&s.push(f)}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}for(var m=0,v=s;m<v.length;m++){var g=v[m],y=this.data.panoramasGroups[g],b=!0,x=!1,w=void 0;try{for(var A,M=y[Symbol.iterator]();!(b=(A=M.next()).done);b=!0){var E=A.value;this.data.panoList[E].userData.isExpanded=!0}}catch(e){x=!0,w=e}finally{try{b||null==M.return||M.return()}finally{if(x)throw w}}}var C=a.intersectObjects(this.data.panoList),S=null===this.state.selectedFloorId?null:[this.state.selectedFloorId],T=r.CollisionTree?r.CollisionTree.trace(a.ray,S):[];C.length&&(0===T.length||C[0].distance<T[0].distance)?n(C[0].object.userData.id):i()}}]),t}(T.a),Y=function(){function e(t){s()(this,e),this._props=t,this._userDataBackup=null,this.setUserDataBackup=this.setUserDataBackup.bind(this),this.getUserDataBackup=this.getUserDataBackup.bind(this),this.getOriginalFloorplansPositions=this.getOriginalFloorplansPositions.bind(this),this.getFloorplansPositions=this.getFloorplansPositions.bind(this)}return c()(e,[{key:"setUserDataBackup",value:function(e){this._userDataBackup=e}},{key:"getUserDataBackup",value:function(e){return this._userDataBackup}},{key:"get",value:function(){return this._props.GCV.Floors.getVisible()}},{key:"rotateFloorplanTo",value:function(e){return this._props.GCV.FloorPlanController.rotateClockwise(e),Promise.resolve()}},{key:"resetOriginalFloorplansPositions",value:function(){return this._props.GCV.FloorPlanController.resetScreenMatrices(),Promise.resolve()}},{key:"getOriginalFloorplansPositions",value:function(){var e=this._props.GCV;return Promise.resolve(e.FloorPlanController.originalPositions)}},{key:"getFloorplansPositions",value:function(){var e=this._props.GCV.FloorPlanController.floors.map(function(e){return{id:e.userData.floorId,matrix:e.matrix.clone().transpose().toArray()}});return Promise.resolve(e)}},{key:"setFloorplanEditor",value:function(e){var t=this._props,n=t.GCV,i=t.Api,r=n.redux,o=r.store,a=r.actions,s=this.setUserDataBackup,l=this.getUserDataBackup;return e?new Promise(function(e){i.UserData.get().then(function(e){var t=e.user;s(t),i.UserData.set(m()({},t,{hiddenComponents:_.b.filter(function(e){return!["canvas","ui","floors","fullscreen"].includes(e)})}))}),n.Transitions.start({cameraMode:_.a.FLOORPLAN,transitionStyle:_.y.FLY,zoom:1.7}).then(function(){setTimeout(function(){o.dispatch(a.app.setFloorplanEditorVisibility(!0))},300),e()})}):new Promise(function(e){n.Transitions.start({cameraMode:_.a.FLOORPLAN,transitionStyle:_.y.FLY,zoom:2}),o.dispatch(a.app.setFloorplanEditorVisibility(!1)),i.UserData.set(l()).then(function(){e()})})}},{key:"getGuessedVisibleFloors",value:function(e){var t=this._props.GCV;return["max","upper","top"].includes(e)?[t.Floors.getUpperId()]:["min","lower","bottom"].includes(e)?[t.Floors.getLowerId()]:["all",void 0].includes(e)?null:e}},{key:"set",value:function(e){var t=this._props.GCV,n=this.getGuessedVisibleFloors(e);t.Floors.setVisible(n)}}]),e}(),X=function(e){function t(e){var n;return s()(this,t),(n=y()(this,x()(t).call(this))).props=void 0,n.props=e,n.get=n.get.bind(A()(n)),n.set=n.set.bind(A()(n)),n}return E()(t,e),c()(t,[{key:"get",value:function(){var e=this.props.GCV;return Promise.resolve(e.Camera.getState())}},{key:"set",value:function(e){var t=this.props.GCV,n={cameraMode:e.cameraMode,transitionStyle:e.transitionStyle,panoramaId:e.panoramaId,position:e.position,target:e.target,angles:e.angles,distance:e.distance};return t.Transitions.start(n)}}]),t}(S.EventEmitter),K=function(){function e(t){s()(this,e),this._props=t,this._visible=!1,this.show=this.show.bind(this),this.hide=this.hide.bind(this)}return c()(e,[{key:"show",value:function(){var e=this._props.GCV.showUserRegions();return Promise.resolve(e)}},{key:"hide",value:function(){var e=this._props.GCV.hideUserRegions();return Promise.resolve(e)}}]),e}(),q=n(215),J=n(81),Z=function(e){function t(e){var n;return s()(this,t),(n=y()(this,x()(t).call(this))).props=void 0,n.props=e,n}return E()(t,e),c()(t,[{key:"alignCamera",value:function(){var e=this.props,t=e.GCV,n=e.redux,i=t.Camera.currentMode,r=n.store.getState();if(i.name!==_.a.INSIDE)return Promise.reject();var o=r.app.camera.activePanoramaId;return t.Transitions.start({cameraMode:i.name,transitionStyle:_.y.FLY,angles:{x:t.Camera.getState().angles.x,y:0},panoramaId:o})}},{key:"isReadyForScreenshot",value:function(){var e=this.props.GCV;return new Promise(function(t){var n=e.TileManagerLoadManager.getNextTask(),i=e.Transitions.isInTransition(),r=e.HighresPanoSphere.isReady();t((!n||n.priority<0)&&e.state.isHighResTextures&&!i&&r)})}},{key:"get",value:function(){var e=O()(k.a.mark(function e(t){var n,i,r,o,a,s,l,c,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={mimeType:"image/jpeg",quality:1,dontWait:!1},i=m()({},n,t),r=this.props.GCV,(o=r.Minimap.isVisible)&&r.Minimap.setVisibility(!1,!0),a=document.createElement("style"),s=i.width/devicePixelRatio,l=i.height/devicePixelRatio,a.innerHTML="\n      .gcv-voh {\n        width: ".concat(s,"px !important;\n        height: ").concat(l,"px !important;\n      }\n    "),document.querySelector("head").appendChild(a),c=r.PostprocessingComposer.getAntialiasingMode(),r.PostprocessingComposer.setAntialiasingMode(q.a),r.SceneTags.setMarkersVisibility(!1),r.MouseInteraction.setMarkersVisibility(!1),e.next=16,Object(J.a)(100);case 16:if(i.dontWait){e.next=19;break}return e.next=19,this.prepateToScreenshot();case 19:return u=r.Renderer.domElement.toDataURL(i.mimeType,i.quality),a.parentNode.removeChild(a),r.MouseInteraction.setMarkersVisibility(!0),r.SceneTags.setMarkersVisibility(!0),r.PostprocessingComposer.setAntialiasingMode(c),o&&r.Minimap.setVisibility(!0,!1),e.abrupt("return",u);case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"prepateToScreenshot",value:function(){var e=O()(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isReadyForScreenshot();case 2:t=e.sent;case 3:if(t){e.next=11;break}return e.next=6,Object(J.a)(100);case 6:return e.next=8,this.isReadyForScreenshot();case 8:t=e.sent,e.next=3;break;case 11:return e.abrupt("return");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(S.EventEmitter),$=function e(t){s()(this,e),this.props=void 0,this.UserData=void 0,this.Modes=void 0,this.Highlights=void 0,this.Tags=void 0,this.PanoramasVisibility=void 0,this.Floors=void 0,this.UserRegions=void 0,this.Common=void 0,this.Camera=void 0,this.Screenshots=void 0,this.props=t;var n=this.props,i=n.GCV,r=n.redux,o={GCV:i,Api:this,redux:r};this.UserData=new v(o),this.Modes=new P(o),this.Highlights=new F(o),this.Tags=new B(o),this.PanoramasVisibility=new Q({GCV:i,Api:this,redux:r}),this.Floors=new Y(o),this.UserRegions=new K(o),this.Camera=new X(o),this.Screenshots=new Z(o),this.Common={getBowels:function(){return{GCV:i,redux:r}},getConfig:function(){return new Promise(function(e){e(i.Config.defaultConfig)})},stopMachine:function(){return i.RenderLoopManager.stop(),Promise.resolve()},setScale:function(e){return i.ENV.scale=e,Promise.resolve()}}},ee=n(19),te=n(14),ne=n(12),ie=n(93),re=n(177),oe=n(79),ae=n(80),se=n(100),le=n(89),ce=n(179),ue=n(55),he="VirtualStaging/SET_STAGED",de={isStaged:!1};function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case he:return m()({},e,{isStaged:t.isStaged});default:return e}}function fe(e){return{type:he,isStaged:e}}var me=n(101),ve=n(180),ge=n(78),ye="Tags/SET_VISIBILITY",be="Tags/SET_EDITABLE_TAG_ID",xe={isVisible:!0,editableTagId:null};function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ye:return m()({},e,{isVisible:t.payload.visibility});case be:return m()({},e,{editableTagId:t.payload});default:return e}}function Ae(e){return{type:ye,payload:{visibility:e}}}function Me(e){return{type:be,payload:e}}var Ee=n(47),Ce=n(82),Se=function(){function e(t){s()(this,e),this.props=void 0,this.isReady=void 0,this.element=void 0,this.actions=void 0,this.reducers=void 0,this.store=void 0,this.Api=void 0,this.props=t,this.isReady=!1;var n=this.props.ENV,o=n.prefix,a=n.id;this.element=document.getElementById("".concat(o,"-").concat(a,"-root")),this.setReady=this.setReady.bind(this),this.Api=null,this.actions={app:ie,mode:re,share:oe,info:ae,help:se,floors:le,fullscreen:ce,layout:ue,staging:i,narrator:me,debug:ve,highlights:ge,tags:r,tutorial:Ee,minimap:Ce},this.reducers=Object(te.combineReducers)({app:ie.default,mode:re.default,share:oe.default,help:se.default,info:ae.default,fullscreen:ce.default,floors:le.default,layout:ue.default,staging:pe,narrator:me.default,debug:ve.default,highlights:ge.default,tags:we,tutorial:Ee.default,minimap:Ce.default}),this.store=Object(te.createStore)(this.reducers),this.render(ee.b)}return c()(e,[{key:"setReady",value:function(e){this.Api=new $({GCV:e,redux:{store:this.store,actions:this.actions}}),this.isReady=!0,this.props.invokeReadyCallbacks()}},{key:"render",value:function(e){this.element&&p.a.render(h.a.createElement(ne.Provider,{store:this.store},h.a.createElement(e,{EnvFromPlayer:this.props.ENV,stopSpinner:this.props.stopSpinner,onReadyIndexCallback:this.setReady,redux:{store:this.store,actions:this.actions}})),this.element)}}]),e}();window.GCVApplication=Se}]);